!/**
 * Highcharts JS v11.4.8 (2024-08-29)
 *
 * (c) 2009-2024 Torstein Honsi
 *
 * License: www.highcharts.com/license
 */function(t){"object"==typeof module&&module.exports?(t.default=t,module.exports=t):"function"==typeof define&&define.amd?define("highcharts/highcharts-more",["highcharts"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";var e=t?t._modules:{};function i(e,i,o,r){e.hasOwnProperty(i)||(e[i]=r.apply(null,o),"function"==typeof CustomEvent&&t.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:i,module:e[i]}})))}i(e,"Extensions/Pane/PaneComposition.js",[e["Core/Utilities.js"]],function(t){var e=t.addEvent,i=t.correctFloat,o=t.defined,r=t.pick;function s(t){var e,i=this;return t&&i.pane.forEach(function(o){a(t.chartX-i.plotLeft,t.chartY-i.plotTop,o.center)&&(e=o)}),e}function a(t,e,r,s,a){var n=!0,l=r[0],h=r[1],p=Math.sqrt(Math.pow(t-l,2)+Math.pow(e-h,2));if(o(s)&&o(a)){var c=Math.atan2(i(e-h,8),i(t-l,8));a!==s&&(n=s>a?c>=s&&c<=Math.PI||c<=a&&c>=-Math.PI:c>=s&&c<=i(a,8))}return p<=Math.ceil(r[2]/2)&&n}function n(t){var e;this.polar&&(t.options.inverted&&(e=[t.y,t.x],t.x=e[0],t.y=e[1]),t.isInsidePlot=this.pane.some(function(e){return a(t.x,t.y,e.center,e.axis&&e.axis.normalizedStartAngleRad,e.axis&&e.axis.normalizedEndAngleRad)}))}function l(t){var e=this.chart;t.hoverPoint&&t.hoverPoint.plotX&&t.hoverPoint.plotY&&e.hoverPane&&!a(t.hoverPoint.plotX,t.hoverPoint.plotY,e.hoverPane.center)&&(t.hoverPoint=void 0)}function h(t){var e=this.chart;e.polar?(e.hoverPane=e.getHoverPane(t),t.filter=function(i){return i.visible&&!(!t.shared&&i.directTouch)&&r(i.options.enableMouseTracking,!0)&&(!e.hoverPane||i.xAxis.pane===e.hoverPane)}):e.hoverPane=void 0}return{compose:function(t,i){var o=t.prototype;o.getHoverPane||(o.collectionsWithUpdate.push("pane"),o.getHoverPane=s,e(t,"afterIsInsidePlot",n),e(i,"afterGetHoverData",l),e(i,"beforeGetHoverData",h))}}}),i(e,"Extensions/Pane/PaneDefaults.js",[],function(){return{pane:{center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},background:{shape:"circle",borderRadius:0,borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}}}),i(e,"Extensions/Pane/Pane.js",[e["Series/CenteredUtilities.js"],e["Extensions/Pane/PaneComposition.js"],e["Extensions/Pane/PaneDefaults.js"],e["Core/Utilities.js"]],function(t,e,i,o){var r=o.extend,s=o.merge,a=o.splat;return function(){function o(t,e){this.coll="pane",this.init(t,e)}return o.prototype.init=function(t,e){this.chart=e,this.background=[],e.pane.push(this),this.setOptions(t)},o.prototype.setOptions=function(t){this.options=t=s(i.pane,this.chart.angular?{background:{}}:void 0,t)},o.prototype.render=function(){var t=this.options,e=this.chart.renderer;this.group||(this.group=e.g("pane-group").attr({zIndex:t.zIndex||0}).add()),this.updateCenter();var o=this.options.background;if(o)for(var r=Math.max((o=a(o)).length,this.background.length||0),n=0;n<r;n++)o[n]&&this.axis?this.renderBackground(s(i.background,o[n]),n):this.background[n]&&(this.background[n]=this.background[n].destroy(),this.background.splice(n,1))},o.prototype.renderBackground=function(t,e){var i={class:"highcharts-pane "+(t.className||"")},o="animate";this.chart.styledMode||r(i,{fill:t.backgroundColor,stroke:t.borderColor,"stroke-width":t.borderWidth}),this.background[e]||(this.background[e]=this.chart.renderer.path().add(this.group),o="attr"),this.background[e][o]({d:this.axis.getPlotBandPath(t.from,t.to,t)}).attr(i)},o.prototype.updateCenter=function(e){this.center=(e||this.axis||{}).center=t.getCenter.call(this)},o.prototype.update=function(t,e){s(!0,this.options,t),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function(t){t.pane===this&&(t.pane=null,t.update({},e))},this)},o.compose=e.compose,o}()}),i(e,"Series/AreaRange/AreaRangePoint.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e){var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=t.seriesTypes.area.prototype,s=r.pointClass,a=r.pointClass.prototype,n=e.defined,l=e.isNumber;return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.setState=function(){var t=this.state,e=this.series,i=e.chart.polar;n(this.plotHigh)||(this.plotHigh=e.yAxis.toPixels(this.high,!0)),n(this.plotLow)||(this.plotLow=this.plotY=e.yAxis.toPixels(this.low,!0)),e.lowerStateMarkerGraphic=e.stateMarkerGraphic,e.stateMarkerGraphic=e.upperStateMarkerGraphic,this.graphic=this.graphics&&this.graphics[1],this.plotY=this.plotHigh,i&&l(this.plotHighX)&&(this.plotX=this.plotHighX),a.setState.apply(this,arguments),this.state=t,this.plotY=this.plotLow,this.graphic=this.graphics&&this.graphics[0],i&&l(this.plotLowX)&&(this.plotX=this.plotLowX),e.upperStateMarkerGraphic=e.stateMarkerGraphic,e.stateMarkerGraphic=e.lowerStateMarkerGraphic,e.lowerStateMarkerGraphic=void 0;var o=e.modifyMarkerSettings();a.setState.apply(this,arguments),e.restoreMarkerSettings(o)},e.prototype.haloPath=function(){var t=this.series.chart.polar,e=[];return this.plotY=this.plotLow,t&&l(this.plotLowX)&&(this.plotX=this.plotLowX),this.isInside&&(e=a.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,t&&l(this.plotHighX)&&(this.plotX=this.plotHighX),this.isTopInside&&(e=e.concat(a.haloPath.apply(this,arguments))),e},e.prototype.isValid=function(){return l(this.low)&&l(this.high)},e}(s)}),i(e,"Series/AreaRange/AreaRangeSeries.js",[e["Series/AreaRange/AreaRangePoint.js"],e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e,i,o){var r,s=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=e.noop,n=i.seriesTypes,l=n.area,h=n.area.prototype,p=n.column.prototype,c=o.addEvent,u=o.defined,d=o.extend,f=o.isArray,g=o.isNumber,y=o.pick,b=o.merge,m={lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">‚óè</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}},v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.toYData=function(t){return[t.low,t.high]},e.prototype.highToXY=function(t){var e=this.chart,i=this.xAxis.postTranslate(t.rectPlotX||0,this.yAxis.len-(t.plotHigh||0));t.plotHighX=i.x-e.plotLeft,t.plotHigh=i.y-e.plotTop,t.plotLowX=t.plotX},e.prototype.getGraphPath=function(t){var e,i,o,r=[],s=[],a=h.getGraphPath,n=this.options,l=this.chart.polar,p=l&&!1!==n.connectEnds,c=n.connectNulls,u=n.step;for(e=(t=t||this.points).length;e--;){i=t[e];var d=l?{plotX:i.rectPlotX,plotY:i.yBottom,doCurve:!1}:{plotX:i.plotX,plotY:i.plotY,doCurve:!1};i.isNull||p||c||t[e+1]&&!t[e+1].isNull||s.push(d),o={polarPlotY:i.polarPlotY,rectPlotX:i.rectPlotX,yBottom:i.yBottom,plotX:y(i.plotHighX,i.plotX),plotY:i.plotHigh,isNull:i.isNull},s.push(o),r.push(o),i.isNull||p||c||t[e-1]&&!t[e-1].isNull||s.push(d)}var f=a.call(this,t);u&&(!0===u&&(u="left"),n.step=({left:"right",center:"center",right:"left"})[u]);var g=a.call(this,r),b=a.call(this,s);n.step=u;var m=[].concat(f,g);return!this.chart.polar&&b[0]&&"M"===b[0][0]&&(b[0]=["L",b[0][1],b[0][2]]),this.graphPath=m,this.areaPath=f.concat(b),m.isArea=!0,m.xMap=f.xMap,this.areaPath.xMap=f.xMap,m},e.prototype.drawDataLabels=function(){var t,e,i,o,r,s,a,n=this.points,l=n.length,p=[],c=this.options.dataLabels,u=this.chart.inverted;if(c){if(f(c)?(s=c[0]||{enabled:!1},a=c[1]||{enabled:!1}):((s=d({},c)).x=c.xHigh,s.y=c.yHigh,(a=d({},c)).x=c.xLow,a.y=c.yLow),s.enabled||(null===(t=this.hasDataLabels)||void 0===t?void 0:t.call(this))){for(i=l;i--;)if(o=n[i]){var g=o.plotHigh,y=void 0===g?0:g,b=o.plotLow,m=void 0===b?0:b;r=s.inside?y<m:y>m,o.y=o.high,o._plotY=o.plotY,o.plotY=y,p[i]=o.dataLabel,o.dataLabel=o.dataLabelUpper,o.below=r,u?s.align||(s.align=r?"right":"left"):s.verticalAlign||(s.verticalAlign=r?"top":"bottom")}for(this.options.dataLabels=s,h.drawDataLabels&&h.drawDataLabels.apply(this,arguments),i=l;i--;)(o=n[i])&&(o.dataLabelUpper=o.dataLabel,o.dataLabel=p[i],delete o.dataLabels,o.y=o.low,o.plotY=o._plotY)}if(a.enabled||(null===(e=this.hasDataLabels)||void 0===e?void 0:e.call(this))){for(i=l;i--;)if(o=n[i]){var v=o.plotHigh,y=void 0===v?0:v,x=o.plotLow,m=void 0===x?0:x;r=a.inside?y<m:y>m,o.below=!r,u?a.align||(a.align=r?"left":"right"):a.verticalAlign||(a.verticalAlign=r?"bottom":"top")}this.options.dataLabels=a,h.drawDataLabels&&h.drawDataLabels.apply(this,arguments)}if(s.enabled)for(i=l;i--;)(o=n[i])&&(o.dataLabels=[o.dataLabelUpper,o.dataLabel].filter(function(t){return!!t}));this.options.dataLabels=c}},e.prototype.alignDataLabel=function(){p.alignDataLabel.apply(this,arguments)},e.prototype.modifyMarkerSettings=function(){var t={marker:this.options.marker,symbol:this.symbol};if(this.options.lowMarker){var e=this.options,i=e.marker,o=e.lowMarker;this.options.marker=b(i,o),o.symbol&&(this.symbol=o.symbol)}return t},e.prototype.restoreMarkerSettings=function(t){this.options.marker=t.marker,this.symbol=t.symbol},e.prototype.drawPoints=function(){var t,e,i=this.points.length,o=this.modifyMarkerSettings();for(h.drawPoints.apply(this,arguments),this.restoreMarkerSettings(o),t=0;t<i;)(e=this.points[t]).graphics=e.graphics||[],e.origProps={plotY:e.plotY,plotX:e.plotX,isInside:e.isInside,negative:e.negative,zone:e.zone,y:e.y},(e.graphic||e.graphics[0])&&(e.graphics[0]=e.graphic),e.graphic=e.graphics[1],e.plotY=e.plotHigh,u(e.plotHighX)&&(e.plotX=e.plotHighX),e.y=y(e.high,e.origProps.y),e.negative=e.y<(this.options.threshold||0),this.zones.length&&(e.zone=e.getZone()),this.chart.polar||(e.isInside=e.isTopInside=void 0!==e.plotY&&e.plotY>=0&&e.plotY<=this.yAxis.len&&e.plotX>=0&&e.plotX<=this.xAxis.len),t++;for(h.drawPoints.apply(this,arguments),t=0;t<i;)(e=this.points[t]).graphics=e.graphics||[],(e.graphic||e.graphics[1])&&(e.graphics[1]=e.graphic),e.graphic=e.graphics[0],e.origProps&&(d(e,e.origProps),delete e.origProps),t++},e.prototype.hasMarkerChanged=function(e,i){var o=e.lowMarker,r=i.lowMarker||{};return o&&(!1===o.enabled||r.symbol!==o.symbol||r.height!==o.height||r.width!==o.width)||t.prototype.hasMarkerChanged.call(this,e,i)},e.defaultOptions=b(l.defaultOptions,m),e}(l);return c(v,"afterTranslate",function(){var t=this;"low,high"===this.pointArrayMap.join(",")&&this.points.forEach(function(e){var i=e.high,o=e.plotY;e.isNull?e.plotY=void 0:(e.plotLow=o,e.plotHigh=g(i)?t.yAxis.translate(t.dataModify?t.dataModify.modifyValue(i):i,!1,!0,void 0,!0):void 0,t.dataModify&&(e.yBottom=e.plotHigh))})},{order:0}),c(v,"afterTranslate",function(){var t=this;this.points.forEach(function(e){if(t.chart.polar)t.highToXY(e),e.plotLow=e.plotY,e.tooltipPos=[((e.plotHighX||0)+(e.plotLowX||0))/2,((e.plotHigh||0)+(e.plotLow||0))/2];else{var i=e.pos(!1,e.plotLow),o=e.pos(!1,e.plotHigh);i&&o&&(i[0]=(i[0]+o[0])/2,i[1]=(i[1]+o[1])/2),e.tooltipPos=i}})},{order:3}),d(v.prototype,{deferTranslatePolar:!0,pointArrayMap:["low","high"],pointClass:t,pointValKey:"low",setStackedPoints:a}),i.registerSeriesType("arearange",v),v}),i(e,"Series/AreaSplineRange/AreaSplineRangeSeries.js",[e["Series/AreaRange/AreaRangeSeries.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e,i){var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=e.seriesTypes.spline.prototype,a=i.merge,n=i.extend,l=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return r(i,e),i.defaultOptions=a(t.defaultOptions),i}(t);return n(l.prototype,{getPointSpline:s.getPointSpline}),e.registerSeriesType("areasplinerange",l),l}),i(e,"Series/BoxPlot/BoxPlotSeriesDefaults.js",[],function(){return{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span> <b>{series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}}),i(e,"Series/BoxPlot/BoxPlotSeries.js",[e["Series/BoxPlot/BoxPlotSeriesDefaults.js"],e["Series/Column/ColumnSeries.js"],e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e,i,o,r){var s,a=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),n=i.noop,l=r.crisp,h=r.extend,p=r.merge,c=r.pick,u=function(i){function o(){return null!==i&&i.apply(this,arguments)||this}return a(o,i),o.prototype.pointAttribs=function(){return{}},o.prototype.translate=function(){var t=this.yAxis,e=this.pointArrayMap;i.prototype.translate.apply(this),this.points.forEach(function(i){e.forEach(function(e){null!==i[e]&&(i[e+"Plot"]=t.translate(i[e],0,1,0,1))}),i.plotHigh=i.highPlot})},o.prototype.drawPoints=function(){for(var t,e,i,o,r,s,a,n,h,p,u,d,f,g=this.points,y=this.options,b=this.chart,m=b.renderer,v=!1!==this.doQuartiles,x=this.options.whiskerLength,P=0;P<g.length;P++){var S=g[P],M=(n=S.graphic)?"animate":"attr",C=S.shapeArgs,w={},L={},k={},A={},T=S.color||this.color;if(void 0!==S.plotY){h=C.width,u=(p=C.x)+h,d=h/2,t=v?S.q1Plot:S.lowPlot,e=v?S.q3Plot:S.lowPlot,i=S.highPlot,o=S.lowPlot,n||(S.graphic=n=m.g("point").add(this.group),S.stem=m.path().addClass("highcharts-boxplot-stem").add(n),x&&(S.whiskers=m.path().addClass("highcharts-boxplot-whisker").add(n)),v&&(S.box=m.path(a).addClass("highcharts-boxplot-box").add(n)),S.medianShape=m.path(s).addClass("highcharts-boxplot-median").add(n)),b.styledMode||(L.stroke=S.stemColor||y.stemColor||T,L["stroke-width"]=c(S.stemWidth,y.stemWidth,y.lineWidth),L.dashstyle=S.stemDashStyle||y.stemDashStyle||y.dashStyle,S.stem.attr(L),x&&(k.stroke=S.whiskerColor||y.whiskerColor||T,k["stroke-width"]=c(S.whiskerWidth,y.whiskerWidth,y.lineWidth),k.dashstyle=S.whiskerDashStyle||y.whiskerDashStyle||y.dashStyle,S.whiskers.attr(k)),v&&(w.fill=S.fillColor||y.fillColor||T,w.stroke=y.lineColor||T,w["stroke-width"]=y.lineWidth||0,w.dashstyle=S.boxDashStyle||y.boxDashStyle||y.dashStyle,S.box.attr(w)),A.stroke=S.medianColor||y.medianColor||T,A["stroke-width"]=c(S.medianWidth,y.medianWidth,y.lineWidth),A.dashstyle=S.medianDashStyle||y.medianDashStyle||y.dashStyle,S.medianShape.attr(A));var j=void 0,N=l((S.plotX||0)+(this.pointXOffset||0)+(this.barW||0)/2,S.stem.strokeWidth());if(j=[["M",N,e],["L",N,i],["M",N,t],["L",N,o]],S.stem[M]({d:j}),v){var X=S.box.strokeWidth();t=l(t,X),e=l(e,X),j=[["M",p=l(p,X),e],["L",p,t],["L",u=l(u,X),t],["L",u,e],["L",p,e],["Z"]],S.box[M]({d:j})}if(x){var O=S.whiskers.strokeWidth();i=l(S.highPlot,O),o=l(S.lowPlot,O),j=[["M",l(N-(f="string"==typeof x&&/%$/.test(x)?d*parseFloat(x)/100:Number(x)/2)),i],["L",l(N+f),i],["M",l(N-f),o],["L",l(N+f),o]],S.whiskers[M]({d:j})}j=[["M",p,r=l(S.medianPlot,S.medianShape.strokeWidth())],["L",u,r]],S.medianShape[M]({d:j})}}},o.prototype.toYData=function(t){return[t.low,t.q1,t.median,t.q3,t.high]},o.defaultOptions=p(e.defaultOptions,t),o}(e);return h(u.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:n,setStackedPoints:n}),o.registerSeriesType("boxplot",u),u}),i(e,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.9em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),i(e,"Series/Bubble/BubbleLegendItem.js",[e["Core/Color/Color.js"],e["Core/Templating.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],function(t,e,i,o){var r=t.parse,s=i.noop,a=o.arrayMax,n=o.arrayMin,l=o.isNumber,h=o.merge,p=o.pick,c=o.stableSort;return function(){function t(t,e){this.setState=s,this.init(t,e)}return t.prototype.init=function(t,e){this.options=t,this.visible=!0,this.chart=e.chart,this.legend=e},t.prototype.addToLegend=function(t){t.splice(this.options.legendIndex,0,this)},t.prototype.drawLegendSymbol=function(t){var e,i=p(t.options.itemDistance,20),o=this.legendItem||{},r=this.options,s=r.ranges,a=r.connectorDistance;if(!s||!s.length||!l(s[0].value)){t.options.bubbleLegend.autoRanges=!0;return}c(s,function(t,e){return e.value-t.value}),this.ranges=s,this.setOptions(),this.render();var n=this.getMaxLabelSize(),h=this.ranges[0].radius,u=2*h;e=(e=a-h+n.width)>0?e:0,this.maxLabel=n,this.movementX="left"===r.labels.align?e:0,o.labelWidth=u+e+i,o.labelHeight=u+n.height/2},t.prototype.setOptions=function(){var t=this.ranges,e=this.options,i=this.chart.series[e.seriesIndex],o=this.legend.baseline,s={zIndex:e.zIndex,"stroke-width":e.borderWidth},a={zIndex:e.zIndex,"stroke-width":e.connectorWidth},n={align:this.legend.options.rtl||"left"===e.labels.align?"right":"left",zIndex:e.zIndex},l=i.options.marker.fillOpacity,c=this.chart.styledMode;t.forEach(function(u,d){c||(s.stroke=p(u.borderColor,e.borderColor,i.color),s.fill=p(u.color,e.color,1!==l?r(i.color).setOpacity(l).get("rgba"):i.color),a.stroke=p(u.connectorColor,e.connectorColor,i.color)),t[d].radius=this.getRangeRadius(u.value),t[d]=h(t[d],{center:t[0].radius-t[d].radius+o}),c||h(!0,t[d],{bubbleAttribs:h(s),connectorAttribs:h(a),labelAttribs:n})},this)},t.prototype.getRangeRadius=function(t){var e=this.options,i=this.options.seriesIndex,o=this.chart.series[i],r=e.ranges[0].value,s=e.ranges[e.ranges.length-1].value,a=e.minSize,n=e.maxSize;return o.getRadius.call(this,s,r,a,n,t)},t.prototype.render=function(){var t=this.legendItem||{},e=this.chart.renderer,i=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),t.symbol=e.g("bubble-legend"),t.label=e.g("bubble-legend-item").css(this.legend.itemStyle||{}),t.symbol.translateX=0,t.symbol.translateY=0,t.symbol.add(t.label),t.label.add(t.group);for(var o=0,r=this.ranges;o<r.length;o++){var s=r[o];s.value>=i&&this.renderRange(s)}this.hideOverlappingLabels()},t.prototype.renderRange=function(t){var e=this.ranges[0],i=this.legend,o=this.options,r=o.labels,s=this.chart,a=s.series[o.seriesIndex],n=s.renderer,l=this.symbols,h=l.labels,p=t.center,c=Math.abs(t.radius),u=o.connectorDistance||0,d=r.align,f=i.options.rtl,g=o.borderWidth,y=o.connectorWidth,b=e.radius||0,m=p-c-g/2+y/2,v=(m%1?1:.5)-(y%2?0:.5),x=n.styledMode,P=f||"left"===d?-u:u;"center"===d&&(P=0,o.connectorDistance=0,t.labelAttribs.align="center"),l.bubbleItems.push(n.circle(b,p+v,c).attr(x?{}:t.bubbleAttribs).addClass((x?"highcharts-color-"+a.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(o.className||"")).add(this.legendItem.symbol)),l.connectors.push(n.path(n.crispLine([["M",b,m],["L",b+P,m]],o.connectorWidth)).attr(x?{}:t.connectorAttribs).addClass((x?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(o.connectorClassName||"")).add(this.legendItem.symbol));var S=n.text(this.formatLabel(t)).attr(x?{}:t.labelAttribs).css(x?{}:r.style).addClass("highcharts-bubble-legend-labels "+(o.labels.className||"")).add(this.legendItem.symbol),M={x:b+P+o.labels.x,y:m+o.labels.y+.4*S.getBBox().height};S.attr(M),h.push(S),S.placed=!0,S.alignAttr=M},t.prototype.getMaxLabelSize=function(){var t,e;return this.symbols.labels.forEach(function(i){e=i.getBBox(!0),t=t?e.width>t.width?e:t:e}),t||{}},t.prototype.formatLabel=function(t){var i=this.options,o=i.labels.formatter,r=i.labels.format,s=this.chart.numberFormatter;return r?e.format(r,t):o?o.call(t):s(t.value,1)},t.prototype.hideOverlappingLabels=function(){var t=this.chart,e=this.options.labels.allowOverlap,i=this.symbols;!e&&i&&(t.hideOverlappingLabels(i.labels),i.labels.forEach(function(t,e){t.newOpacity?t.newOpacity!==t.oldOpacity&&i.connectors[e].show():i.connectors[e].hide()}))},t.prototype.getRanges=function(){var t,e,i=this.legend.bubbleLegend,o=i.chart.series,r=i.options.ranges,s=Number.MAX_VALUE,c=-Number.MAX_VALUE;return o.forEach(function(t){t.isBubble&&!t.ignoreSeries&&(e=t.zData.filter(l)).length&&(s=p(t.options.zMin,Math.min(s,Math.max(n(e),!1===t.options.displayNegative?t.options.zThreshold:-Number.MAX_VALUE))),c=p(t.options.zMax,Math.max(c,a(e))))}),t=s===c?[{value:c}]:[{value:s},{value:(s+c)/2},{value:c,autoRanges:!0}],r.length&&r[0].radius&&t.reverse(),t.forEach(function(e,i){r&&r[i]&&(t[i]=h(r[i],e))}),t},t.prototype.predictBubbleSizes=function(){var t,e=this.chart,i=e.legend.options,o=i.floating,r="horizontal"===i.layout,s=r?e.legend.lastLineHeight:0,a=e.plotSizeX,n=e.plotSizeY,l=e.series[this.options.seriesIndex],h=l.getPxExtremes(),p=Math.ceil(h.minPxSize),c=Math.ceil(h.maxPxSize),u=Math.min(n,a),d=l.options.maxSize;return o||!/%$/.test(d)?t=c:(t=(u+s)*(d=parseFloat(d))/100/(d/100+1),(r&&n-t>=a||!r&&a-t>=n)&&(t=c)),[p,Math.ceil(t)]},t.prototype.updateRanges=function(t,e){var i=this.legend.options.bubbleLegend;i.minSize=t,i.maxSize=e,i.ranges=this.getRanges()},t.prototype.correctSizes=function(){var t=this.legend,e=this.chart.series[this.options.seriesIndex].getPxExtremes();Math.abs(Math.ceil(e.maxPxSize)-this.options.maxSize)>1&&(this.updateRanges(this.options.minSize,e.maxPxSize),t.render())},t}()}),i(e,"Series/Bubble/BubbleLegendComposition.js",[e["Series/Bubble/BubbleLegendDefaults.js"],e["Series/Bubble/BubbleLegendItem.js"],e["Core/Defaults.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],function(t,e,i,o,r){var s=i.setOptions,a=o.composed,n=r.addEvent,l=r.objectEach,h=r.pushUnique,p=r.wrap;function c(t,e,i){var o,r,s,a=this.legend,n=u(this)>=0;a&&a.options.enabled&&a.bubbleLegend&&a.options.bubbleLegend.autoRanges&&n?(o=a.bubbleLegend.options,r=a.bubbleLegend.predictBubbleSizes(),a.bubbleLegend.updateRanges(r[0],r[1]),o.placed||(a.group.placed=!1,a.allItems.forEach(function(t){(s=t.legendItem||{}).group&&(s.group.translateY=void 0)})),a.render(),o.placed||(this.getMargins(),this.axes.forEach(function(t){t.visible&&t.render(),o.placed||(t.setScale(),t.updateNames(),l(t.ticks,function(t){t.isNew=!0,t.isNewLabel=!0}))}),this.getMargins()),o.placed=!0,t.call(this,e,i),a.bubbleLegend.correctSizes(),y(a,d(a))):(t.call(this,e,i),a&&a.options.enabled&&a.bubbleLegend&&(a.render(),y(a,d(a))))}function u(t){for(var e=t.series,i=0;i<e.length;){if(e[i]&&e[i].isBubble&&e[i].visible&&e[i].zData.length)return i;i++}return -1}function d(t){var e,i,o,r=t.allItems,s=[],a=r.length,n=0,l=0;for(n=0;n<a;n++)if(i=r[n].legendItem||{},o=(r[n+1]||{}).legendItem||{},i.labelHeight&&(r[n].itemHeight=i.labelHeight),r[n]===r[a-1]||i.y!==o.y){for(s.push({height:0}),e=s[s.length-1];l<=n;l++)r[l].itemHeight>e.height&&(e.height=r[l].itemHeight);e.step=n}return s}function f(t){var i=this.bubbleLegend,o=this.options,r=o.bubbleLegend,s=u(this.chart);i&&i.ranges&&i.ranges.length&&(r.ranges.length&&(r.autoRanges=!!r.ranges[0].autoRanges),this.destroyItem(i)),s>=0&&o.enabled&&r.enabled&&(r.seriesIndex=s,this.bubbleLegend=new e(r,this),this.bubbleLegend.addToLegend(t.allItems))}function g(t){if(t.defaultPrevented)return!1;var e,i=t.legendItem,o=this.chart,r=i.visible;this&&this.bubbleLegend&&(i.visible=!r,i.ignoreSeries=r,e=u(o)>=0,this.bubbleLegend.visible!==e&&(this.update({bubbleLegend:{enabled:e}}),this.bubbleLegend.visible=e),i.visible=r)}function y(t,e){var i,o,r,s,a=t.allItems,n=t.options.rtl,l=0;a.forEach(function(t,a){(s=t.legendItem||{}).group&&(i=s.group.translateX||0,o=s.y||0,((r=t.movementX)||n&&t.ranges)&&(r=n?i-t.options.maxSize/2:i+r,s.group.attr({translateX:r})),a>e[l].step&&l++,s.group.attr({translateY:Math.round(o+e[l].height/2)}),s.y=o+e[l].height/2)})}return{compose:function(e,i){h(a,"Series.BubbleLegend")&&(s({legend:{bubbleLegend:t}}),p(e.prototype,"drawChartBox",c),n(i,"afterGetAllItems",f),n(i,"itemClick",g))}}}),i(e,"Series/Bubble/BubblePoint.js",[e["Core/Series/Point.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e,i){var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=e.seriesTypes.scatter.prototype.pointClass,a=i.extend,n=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return r(i,e),i.prototype.haloPath=function(e){var i=(e&&this.marker&&this.marker.radius||0)+e;if(this.series.chart.inverted){var o=this.pos()||[0,0],r=this.series,s=r.xAxis,a=r.yAxis;return r.chart.renderer.symbols.circle(s.len-o[1]-i,a.len-o[0]-i,2*i,2*i)}return t.prototype.haloPath.call(this,i)},i}(s);return a(n.prototype,{ttBelow:!1}),n}),i(e,"Series/Bubble/BubbleSeries.js",[e["Series/Bubble/BubbleLegendComposition.js"],e["Series/Bubble/BubblePoint.js"],e["Core/Color/Color.js"],e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e,i,o,r,s){var a,n=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),l=i.parse,h=o.composed,p=o.noop,c=r.series,u=r.seriesTypes,d=u.column.prototype,f=u.scatter,g=s.addEvent,y=s.arrayMax,b=s.arrayMin,m=s.clamp,v=s.extend,x=s.isNumber,P=s.merge,S=s.pick,M=s.pushUnique;function C(){var t,e=this,i=this.len,o=this.coll,r=this.isXAxis,s=this.min,a=r?"xData":"yData",n=(this.max||0)-(s||0),l=0,h=i,p=i/n;("xAxis"===o||"yAxis"===o)&&(this.series.forEach(function(i){if(i.bubblePadding&&i.reserveSpace()){e.allowZoomOutside=!0,t=!0;var o=i[a];if(r&&((i.onPoint||i).getRadii(0,0,i),i.onPoint&&(i.radii=i.onPoint.radii)),n>0){for(var c=o.length;c--;)if(x(o[c])&&e.dataMin<=o[c]&&o[c]<=e.max){var u=i.radii&&i.radii[c]||0;l=Math.min((o[c]-s)*p-u,l),h=Math.max((o[c]-s)*p+u,h)}}}}),t&&n>0&&!this.logarithmic&&(h-=i,p*=(i+Math.max(0,l)-Math.min(h,i))/i,[["min","userMin",l],["max","userMax",h]].forEach(function(t){void 0===S(e.options[t[0]],e[t[1]])&&(e[t[0]]+=t[2]/p)})))}var w=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.compose=function(e,i,o){t.compose(i,o),M(h,"Series.Bubble")&&g(e,"foundExtremes",C)},i.prototype.animate=function(t){!t&&this.points.length<this.options.animationLimit&&this.points.forEach(function(t){var e=t.graphic,i=t.plotX,o=t.plotY;e&&e.width&&(this.hasRendered||e.attr({x:void 0===i?0:i,y:void 0===o?0:o,width:1,height:1}),e.animate(this.markerAttribs(t),this.options.animation))},this)},i.prototype.getRadii=function(){var t,e,i,o=this.zData,r=this.yData,s=[],a=this.chart.bubbleZExtremes,n=this.getPxExtremes(),l=n.minPxSize,h=n.maxPxSize;if(!a){var p,c=Number.MAX_VALUE,u=-Number.MAX_VALUE;this.chart.series.forEach(function(t){if(t.bubblePadding&&t.reserveSpace()){var e=(t.onPoint||t).getZExtremes();e&&(c=Math.min(S(c,e.zMin),e.zMin),u=Math.max(S(u,e.zMax),e.zMax),p=!0)}}),p?(a={zMin:c,zMax:u},this.chart.bubbleZExtremes=a):a={zMin:0,zMax:0}}for(e=0,t=o.length;e<t;e++)i=o[e],s.push(this.getRadius(a.zMin,a.zMax,l,h,i,r&&r[e]));this.radii=s},i.prototype.getRadius=function(t,e,i,o,r,s){var a=this.options,n="width"!==a.sizeBy,l=a.zThreshold,h=e-t,p=.5;if(null===s||null===r)return null;if(x(r)){if(a.sizeByAbsoluteValue&&(r=Math.abs(r-l),e=h=Math.max(e-l,Math.abs(t-l)),t=0),r<t)return i/2-1;h>0&&(p=(r-t)/h)}return n&&p>=0&&(p=Math.sqrt(p)),Math.ceil(i+p*(o-i))/2},i.prototype.hasData=function(){return!!this.processedXData.length},i.prototype.markerAttribs=function(t,i){var o=e.prototype.markerAttribs.call(this,t,i),r=o.height,s=o.width;return this.chart.inverted?v(o,{x:(t.plotX||0)-(void 0===s?0:s)/2,y:(t.plotY||0)-(void 0===r?0:r)/2}):o},i.prototype.pointAttribs=function(t,e){var i=this.options.marker.fillOpacity,o=c.prototype.pointAttribs.call(this,t,e);return 1!==i&&(o.fill=l(o.fill).setOpacity(i).get("rgba")),o},i.prototype.translate=function(){e.prototype.translate.call(this),this.getRadii(),this.translateBubble()},i.prototype.translateBubble=function(){for(var t=this.data,e=this.options,i=this.radii,o=this.getPxExtremes().minPxSize,r=t.length;r--;){var s=t[r],a=i?i[r]:0;"z"===this.zoneAxis&&(s.negative=(s.z||0)<(e.zThreshold||0)),x(a)&&a>=o/2?(s.marker=v(s.marker,{radius:a,width:2*a,height:2*a}),s.dlBox={x:s.plotX-a,y:s.plotY-a,width:2*a,height:2*a}):(s.shapeArgs=s.plotY=s.dlBox=void 0,s.isInside=!1)}},i.prototype.getPxExtremes=function(){var t=Math.min(this.chart.plotWidth,this.chart.plotHeight),e=function(e){var i;return"string"==typeof e&&(i=/%$/.test(e),e=parseInt(e,10)),i?t*e/100:e},i=e(S(this.options.minSize,8)),o=Math.max(e(S(this.options.maxSize,"20%")),i);return{minPxSize:i,maxPxSize:o}},i.prototype.getZExtremes=function(){var t=this.options,e=(this.zData||[]).filter(x);if(e.length){var i=S(t.zMin,m(b(e),!1===t.displayNegative?t.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE)),o=S(t.zMax,y(e));if(x(i)&&x(o))return{zMin:i,zMax:o}}},i.defaultOptions=P(f.defaultOptions,{dataLabels:{formatter:function(){var t=this.series.chart.numberFormatter,e=this.point.z;return x(e)?t(e,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),i}(f);return v(w.prototype,{alignDataLabel:d.alignDataLabel,applyZones:p,bubblePadding:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:e,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),g(w,"updatedData",function(t){delete t.target.chart.bubbleZExtremes}),g(w,"remove",function(t){delete t.target.chart.bubbleZExtremes}),r.registerSeriesType("bubble",w),w}),i(e,"Series/ColumnRange/ColumnRangePoint.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e){var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=t.seriesTypes,s=r.column.prototype.pointClass.prototype,a=r.arearange.prototype.pointClass,n=e.extend,l=e.isNumber,h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isValid=function(){return l(this.low)},e}(a);return n(h.prototype,{setState:s.setState}),h}),i(e,"Series/ColumnRange/ColumnRangeSeries.js",[e["Series/ColumnRange/ColumnRangePoint.js"],e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e,i,o){var r,s=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=e.noop,n=i.seriesTypes,l=n.arearange,h=n.column,p=n.column.prototype,c=o.addEvent,u=o.clamp,d=o.extend,f=o.isNumber,g=o.merge,y=o.pick,b={borderRadius:{where:"all"},pointRange:null,legendSymbol:"rectangle",marker:null,states:{hover:{halo:!1}}},m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.setOptions=function(){return g(!0,arguments[0],{stacking:void 0}),l.prototype.setOptions.apply(this,arguments)},e.prototype.translate=function(){return p.translate.apply(this)},e.prototype.pointAttribs=function(){return p.pointAttribs.apply(this,arguments)},e.prototype.translate3dPoints=function(){return p.translate3dPoints.apply(this,arguments)},e.prototype.translate3dShapes=function(){return p.translate3dShapes.apply(this,arguments)},e.prototype.afterColumnTranslate=function(){var t,e,i,o,r=this,s=this.yAxis,a=this.xAxis,n=a.startAngleRad,l=this.chart,h=this.xAxis.isRadial,p=Math.max(l.chartWidth,l.chartHeight)+999;this.points.forEach(function(c){var d=c.shapeArgs||{},b=r.options.minPointLength,m=c.plotY,v=s.translate(c.high,0,1,0,1);if(f(v)&&f(m)){if(c.plotHigh=u(v,-p,p),c.plotLow=u(m,-p,p),o=c.plotHigh,Math.abs(t=y(c.rectPlotY,c.plotY)-c.plotHigh)<b?(e=b-t,t+=e,o-=e/2):t<0&&(t*=-1,o-=t),h&&r.polar)i=c.barX+n,c.shapeType="arc",c.shapeArgs=r.polar.arc(o+t,o,i,i+c.pointWidth);else{d.height=t,d.y=o;var x=d.x,P=void 0===x?0:x,S=d.width,M=void 0===S?0:S;c.shapeArgs=g(c.shapeArgs,r.crispCol(P,o,M,t)),c.tooltipPos=l.inverted?[s.len+s.pos-l.plotLeft-o-t/2,a.len+a.pos-l.plotTop-P-M/2,t]:[a.left-l.plotLeft+P+M/2,s.pos-l.plotTop+o+t/2,t]}}})},e.defaultOptions=g(h.defaultOptions,l.defaultOptions,b),e}(l);return c(m,"afterColumnTranslate",function(){m.prototype.afterColumnTranslate.apply(this)},{order:5}),d(m.prototype,{directTouch:!0,pointClass:t,trackerGroups:["group","dataLabelsGroup"],adjustForMissingColumns:p.adjustForMissingColumns,animate:p.animate,crispCol:p.crispCol,drawGraph:a,drawPoints:p.drawPoints,getSymbol:a,drawTracker:p.drawTracker,getColumnMetrics:p.getColumnMetrics}),i.registerSeriesType("columnrange",m),m}),i(e,"Series/ColumnPyramid/ColumnPyramidSeriesDefaults.js",[],function(){return{}}),i(e,"Series/ColumnPyramid/ColumnPyramidSeries.js",[e["Series/ColumnPyramid/ColumnPyramidSeriesDefaults.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e,i){var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=e.seriesTypes.column,a=i.clamp,n=i.merge,l=i.pick,h=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return r(i,e),i.prototype.translate=function(){var t=this.chart,i=this.options,o=this.dense=this.closestPointRange*this.xAxis.transA<2,r=this.borderWidth=l(i.borderWidth,o?0:1),s=this.yAxis,n=i.threshold,h=l(i.minPointLength,5),p=this.getColumnMetrics(),c=p.width,u=this.pointXOffset=p.offset,d=this.translatedThreshold=s.getThreshold(n),f=this.barW=Math.max(c,1+2*r);t.inverted&&(d-=.5),i.pointPadding&&(f=Math.ceil(f)),e.prototype.translate.call(this);for(var g=0,y=this.points;g<y.length;g++){var b=y[g],m=l(b.yBottom,d),v=999+Math.abs(m),x=a(b.plotY,-v,s.len+v),P=f/2,S=Math.min(x,m),M=Math.max(x,m)-S,C=b.plotX+u,w=void 0,L=void 0,k=void 0,A=void 0,T=void 0,j=void 0,N=void 0,X=void 0,O=void 0,R=void 0,_=void 0;i.centerInCategory&&(C=this.adjustForMissingColumns(C,c,b,p)),b.barX=C,b.pointWidth=c,b.tooltipPos=t.inverted?[s.len+s.pos-t.plotLeft-x,this.xAxis.len-C-P,M]:[C+P,x+s.pos-t.plotTop,M],w=n+(b.total||b.y),"percent"===i.stacking&&(w=n+(b.y<0)?-100:100);var Y=s.toPixels(w,!0);k=(L=t.plotHeight-Y-(t.plotHeight-d))?P*(S-Y)/L:0,A=L?P*(S+M-Y)/L:0,j=C-k+P,N=C+k+P,X=C+A+P,O=C-A+P,R=S-h,_=S+M,b.y<0&&(R=S,_=S+M+h),t.inverted&&(T=s.width-S,L=Y-(s.width-d),k=P*(Y-T)/L,A=P*(Y-(T-M))/L,N=(j=C+P+k)-2*k,X=C-A+P,O=C+A+P,R=S,_=S+M-h,b.y<0&&(_=S+M+h)),b.shapeType="path",b.shapeArgs={x:j,y:R,width:N-j,height:M,d:[["M",j,R],["L",N,R],["L",X,_],["L",O,_],["Z"]]}}},i.defaultOptions=n(s.defaultOptions,t),i}(s);return e.registerSeriesType("columnpyramid",h),h}),i(e,"Series/ErrorBar/ErrorBarSeriesDefaults.js",[],function(){return{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}}),i(e,"Series/ErrorBar/ErrorBarSeries.js",[e["Series/BoxPlot/BoxPlotSeries.js"],e["Series/Column/ColumnSeries.js"],e["Series/ErrorBar/ErrorBarSeriesDefaults.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e,i,o,r){var s,a=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),n=o.seriesTypes.arearange,l=r.addEvent,h=r.merge,p=r.extend,c=function(o){function r(){return null!==o&&o.apply(this,arguments)||this}return a(r,o),r.prototype.getColumnMetrics=function(){return this.linkedParent&&this.linkedParent.columnMetrics||e.prototype.getColumnMetrics.call(this)},r.prototype.drawDataLabels=function(){var t=this.pointValKey;if(n){n.prototype.drawDataLabels.call(this);for(var e=0,i=this.points;e<i.length;e++){var o=i[e];o.y=o[t]}}},r.prototype.toYData=function(t){return[t.low,t.high]},r.defaultOptions=h(t.defaultOptions,i),r}(t);return l(c,"afterTranslate",function(){for(var t=0,e=this.points;t<e.length;t++){var i=e[t];i.plotLow=i.plotY}},{order:0}),p(c.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),o.registerSeriesType("errorbar",c),c}),i(e,"Series/Gauge/GaugePoint.js",[e["Core/Series/SeriesRegistry.js"]],function(t){var e,i=this&&this.__extends||(e=function(t,i){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)});return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.setState=function(t){this.state=t},e}(t.series.prototype.pointClass)}),i(e,"Series/Gauge/GaugeSeries.js",[e["Series/Gauge/GaugePoint.js"],e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e,i,o){var r,s=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=e.noop,n=i.series,l=i.seriesTypes.column,h=o.clamp,p=o.isNumber,c=o.extend,u=o.merge,d=o.pick,f=o.pInt,g=o.defined,y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.translate=function(){var t=this.yAxis,e=this.options,i=t.center;this.generatePoints(),this.points.forEach(function(o){var r=u(e.dial,o.dial),s=f(r.radius)*i[2]/200,a=f(r.baseLength)*s/100,n=f(r.rearLength)*s/100,l=r.baseWidth,c=r.topWidth,d=e.overshoot,y=t.startAngleRad+t.translate(o.y,void 0,void 0,void 0,!0);(p(d)||!1===e.wrap)&&(d=p(d)?d/180*Math.PI:0,y=h(y,t.startAngleRad-d,t.endAngleRad+d)),y=180*y/Math.PI,o.shapeType="path";var b=r.path||[["M",-n,-l/2],["L",a,-l/2],["L",s,-c/2],["L",s,c/2],["L",a,l/2],["L",-n,l/2],["Z"]];o.shapeArgs={d:b,translateX:i[0],translateY:i[1],rotation:y},o.plotX=i[0],o.plotY=i[1],g(o.y)&&t.max-t.min&&(o.percentage=(o.y-t.min)/(t.max-t.min)*100)})},e.prototype.drawPoints=function(){var t=this,e=t.chart,i=t.yAxis.center,o=t.pivot,r=t.options,s=r.pivot,a=e.renderer;t.points.forEach(function(i){var o=i.graphic,s=i.shapeArgs,n=s.d,l=u(r.dial,i.dial);o?(o.animate(s),s.d=n):i.graphic=a[i.shapeType](s).addClass("highcharts-dial").add(t.group),e.styledMode||i.graphic[o?"animate":"attr"]({stroke:l.borderColor,"stroke-width":l.borderWidth,fill:l.backgroundColor})}),o?o.animate({translateX:i[0],translateY:i[1]}):s&&(t.pivot=a.circle(0,0,s.radius).attr({zIndex:2}).addClass("highcharts-pivot").translate(i[0],i[1]).add(t.group),e.styledMode||t.pivot.attr({fill:s.backgroundColor,stroke:s.borderColor,"stroke-width":s.borderWidth}))},e.prototype.animate=function(t){var e=this;t||e.points.forEach(function(t){var i=t.graphic;i&&(i.attr({rotation:180*e.yAxis.startAngleRad/Math.PI}),i.animate({rotation:t.shapeArgs.rotation},e.options.animation))})},e.prototype.render=function(){this.group=this.plotGroup("group","series",this.visible?"inherit":"hidden",this.options.zIndex,this.chart.seriesGroup),n.prototype.render.call(this),this.group.clip(this.chart.clipRect)},e.prototype.setData=function(t,e){n.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),d(e,!0)&&this.chart.redraw()},e.prototype.hasData=function(){return!!this.points.length},e.defaultOptions=u(n.defaultOptions,{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{backgroundColor:"#000000",baseLength:"70%",baseWidth:3,borderColor:"#cccccc",borderWidth:0,radius:"80%",rearLength:"10%",topWidth:1},pivot:{radius:5,borderWidth:0,borderColor:"#cccccc",backgroundColor:"#000000"},tooltip:{headerFormat:""},showInLegend:!1}),e}(n);return c(y.prototype,{angular:!0,directTouch:!0,drawGraph:a,drawTracker:l.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:t,trackerGroups:["group","dataLabelsGroup"]}),i.registerSeriesType("gauge",y),y}),i(e,"Series/DragNodesComposition.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],function(t,e){var i=t.composed,o=e.addEvent,r=e.pushUnique;function s(){var t,e,i,r=this;r.container&&(t=o(r.container,"mousedown",function(t){var s=r.hoverPoint;s&&s.series&&s.series.hasDraggableNodes&&s.series.options.draggable&&(s.series.onMouseDown(s,t),e=o(r.container,"mousemove",function(t){return s&&s.series&&s.series.onMouseMove(s,t)}),i=o(r.container.ownerDocument,"mouseup",function(t){return e(),i(),s&&s.series&&s.series.onMouseUp(s,t)}))})),o(r,"destroy",function(){t()})}return{compose:function(t){r(i,"DragNodes")&&o(t,"load",s)},onMouseDown:function(t,e){var i,o=(null===(i=this.chart.pointer)||void 0===i?void 0:i.normalize(e))||e;t.fixedPosition={chartX:o.chartX,chartY:o.chartY,plotX:t.plotX,plotY:t.plotY},t.inDragMode=!0},onMouseMove:function(t,e){var i;if(t.fixedPosition&&t.inDragMode){var o=this.chart,r=(null===(i=o.pointer)||void 0===i?void 0:i.normalize(e))||e,s=t.fixedPosition.chartX-r.chartX,a=t.fixedPosition.chartY-r.chartY,n=o.graphLayoutsLookup,l=void 0,h=void 0;(Math.abs(s)>5||Math.abs(a)>5)&&(l=t.fixedPosition.plotX-s,h=t.fixedPosition.plotY-a,o.isInsidePlot(l,h)&&(t.plotX=l,t.plotY=h,t.hasDragged=!0,this.redrawHalo(t),n.forEach(function(t){t.restartSimulation()})))}},onMouseUp:function(t){t.fixedPosition&&(t.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),t.inDragMode=t.hasDragged=!1,this.options.fixedDraggable||delete t.fixedPosition)},redrawHalo:function(t){t&&this.halo&&this.halo.attr({d:t.haloPath(this.options.states.hover.halo.size)})}}}),i(e,"Series/GraphLayoutComposition.js",[e["Core/Animation/AnimationUtilities.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],function(t,e,i){var o=t.setAnimation,r=e.composed,s=i.addEvent,a=i.pushUnique;function n(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(function(t){t.updateSimulation()}),this.redraw())}function l(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(function(t){t.updateSimulation(!1)}),this.redraw())}function h(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(function(t){t.stop()})}function p(){var t,e=!1,i=function(i){i.maxIterations--&&isFinite(i.temperature)&&!i.isStable()&&!i.enableSimulation&&(i.beforeStep&&i.beforeStep(),i.step(),t=!1,e=!0)};if(this.graphLayoutsLookup){for(o(!1,this),this.graphLayoutsLookup.forEach(function(t){return t.start()});!t;)t=!0,this.graphLayoutsLookup.forEach(i);e&&this.series.forEach(function(t){t&&t.layout&&t.render()})}}return{compose:function(t){a(r,"GraphLayout")&&(s(t,"afterPrint",n),s(t,"beforePrint",l),s(t,"predraw",h),s(t,"render",p))},integrations:{},layouts:{}}}),i(e,"Series/PackedBubble/PackedBubblePoint.js",[e["Core/Chart/Chart.js"],e["Core/Series/Point.js"],e["Core/Series/SeriesRegistry.js"]],function(t,e,i){var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});return function(i){function o(){return null!==i&&i.apply(this,arguments)||this}return r(o,i),o.prototype.destroy=function(){var t;return(null===(t=this.series)||void 0===t?void 0:t.layout)&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),e.prototype.destroy.apply(this,arguments)},o.prototype.firePointEvent=function(){var t=this.series.options;if(this.isParentNode&&t.parentNode){var i=t.allowPointSelect;t.allowPointSelect=t.parentNode.allowPointSelect,e.prototype.firePointEvent.apply(this,arguments),t.allowPointSelect=i}else e.prototype.firePointEvent.apply(this,arguments)},o.prototype.select=function(){var i=this.series.chart;this.isParentNode?(i.getSelectedPoints=i.getSelectedParentNodes,e.prototype.select.apply(this,arguments),i.getSelectedPoints=t.prototype.getSelectedPoints):e.prototype.select.apply(this,arguments)},o}(i.seriesTypes.bubble.prototype.pointClass)}),i(e,"Series/PackedBubble/PackedBubbleSeriesDefaults.js",[e["Core/Utilities.js"]],function(t){var e=t.isNumber;return{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){var t=this.series.chart.numberFormatter,i=this.point.value;return e(i)?t(i,-1):""},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:null,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}}),i(e,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function(t,e,i){var o=t.getMass(),r=-i.x*e*this.diffTemperature,s=-i.y*e*this.diffTemperature;t.fromNode.fixedPosition||(t.fromNode.plotX-=r*o.fromNode/t.fromNode.degree,t.fromNode.plotY-=s*o.fromNode/t.fromNode.degree),t.toNode.fixedPosition||(t.toNode.plotX+=r*o.toNode/t.toNode.degree,t.toNode.plotY+=s*o.toNode/t.toNode.degree)},attractiveForceFunction:function(t,e){return(e-t)/t},barycenter:function(){var t=this.options.gravitationalConstant||0,e=(this.barycenter.xFactor-(this.box.left+this.box.width)/2)*t,i=(this.barycenter.yFactor-(this.box.top+this.box.height)/2)*t;this.nodes.forEach(function(t){t.fixedPosition||(t.plotX-=e/t.mass/t.degree,t.plotY-=i/t.mass/t.degree)})},getK:function(t){return Math.pow(t.box.width*t.box.height/t.nodes.length,.5)},integrate:function(t,e){var i=-t.options.friction,o=t.options.maxSpeed,r=e.prevX,s=e.prevY,a=(e.plotX+e.dispX-r)*i,n=(e.plotY+e.dispY-s)*i,l=Math.abs,h=l(a)/(a||1),p=l(n)/(n||1),c=h*Math.min(o,Math.abs(a)),u=p*Math.min(o,Math.abs(n));e.prevX=e.plotX+e.dispX,e.prevY=e.plotY+e.dispY,e.plotX+=c,e.plotY+=u,e.temperature=t.vectorLength({x:c,y:u})},repulsive:function(t,e,i){var o=e*this.diffTemperature/t.mass/t.degree;t.fixedPosition||(t.plotX+=i.x*o,t.plotY+=i.y*o)},repulsiveForceFunction:function(t,e){return(e-t)/t*(e>t?1:0)}}}),i(e,"Series/PackedBubble/PackedBubbleIntegration.js",[e["Core/Globals.js"],e["Series/Networkgraph/VerletIntegration.js"]],function(t,e){return{barycenter:function(){for(var t,e,i=this.options.gravitationalConstant,o=this.box,r=this.nodes,s=0;s<r.length;s++){var a=r[s];this.options.splitSeries&&!a.isParentNode?(t=a.series.parentNode.plotX,e=a.series.parentNode.plotY):(t=o.width/2,e=o.height/2),a.fixedPosition||(a.plotX-=(a.plotX-t)*i/(a.mass*Math.sqrt(r.length)),a.plotY-=(a.plotY-e)*i/(a.mass*Math.sqrt(r.length)))}},getK:t.noop,integrate:e.integrate,repulsive:function(t,e,i,o){var r=e*this.diffTemperature/t.mass/t.degree,s=i.x*r,a=i.y*r;t.fixedPosition||(t.plotX+=s,t.plotY+=a),o.fixedPosition||(o.plotX-=s,o.plotY-=a)},repulsiveForceFunction:function(t,e,i,o){return Math.min(t,(i.marker.radius+o.marker.radius)/2)}}}),i(e,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function(t,e,i,o){var r=t.getMass(),s=i.x/o*e,a=i.y/o*e;t.fromNode.fixedPosition||(t.fromNode.dispX-=s*r.fromNode/t.fromNode.degree,t.fromNode.dispY-=a*r.fromNode/t.fromNode.degree),t.toNode.fixedPosition||(t.toNode.dispX+=s*r.toNode/t.toNode.degree,t.toNode.dispY+=a*r.toNode/t.toNode.degree)},attractiveForceFunction:function(t,e){return t*t/e},barycenter:function(){var t=this.options.gravitationalConstant,e=this.barycenter.xFactor,i=this.barycenter.yFactor;this.nodes.forEach(function(o){if(!o.fixedPosition){var r=o.getDegree(),s=r*(1+r/2);o.dispX+=(e-o.plotX)*t*s/o.degree,o.dispY+=(i-o.plotY)*t*s/o.degree}})},getK:function(t){return Math.pow(t.box.width*t.box.height/t.nodes.length,.3)},integrate:function(t,e){e.dispX+=e.dispX*t.options.friction,e.dispY+=e.dispY*t.options.friction;var i=e.temperature=t.vectorLength({x:e.dispX,y:e.dispY});0!==i&&(e.plotX+=e.dispX/i*Math.min(Math.abs(e.dispX),t.temperature),e.plotY+=e.dispY/i*Math.min(Math.abs(e.dispY),t.temperature))},repulsive:function(t,e,i,o){t.dispX+=i.x/o*e/t.degree,t.dispY+=i.y/o*e/t.degree},repulsiveForceFunction:function(t,e){return e*e/t}}}),i(e,"Series/Networkgraph/QuadTreeNode.js",[],function(){return function(){function t(t){this.body=!1,this.isEmpty=!1,this.isInternal=!1,this.nodes=[],this.box=t,this.boxSize=Math.min(t.width,t.height)}return t.prototype.divideBox=function(){var e=this.box.width/2,i=this.box.height/2;this.nodes[0]=new t({left:this.box.left,top:this.box.top,width:e,height:i}),this.nodes[1]=new t({left:this.box.left+e,top:this.box.top,width:e,height:i}),this.nodes[2]=new t({left:this.box.left+e,top:this.box.top+i,width:e,height:i}),this.nodes[3]=new t({left:this.box.left,top:this.box.top+i,width:e,height:i})},t.prototype.getBoxPosition=function(t){var e=t.plotX<this.box.left+this.box.width/2,i=t.plotY<this.box.top+this.box.height/2;return e?i?0:3:i?1:2},t.prototype.insert=function(e,i){var o;this.isInternal?this.nodes[this.getBoxPosition(e)].insert(e,i-1):(this.isEmpty=!1,this.body?i?(this.isInternal=!0,this.divideBox(),!0!==this.body&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,i-1),this.body=!0),this.nodes[this.getBoxPosition(e)].insert(e,i-1)):((o=new t({top:e.plotX||NaN,left:e.plotY||NaN,width:.1,height:.1})).body=e,o.isInternal=!1,this.nodes.push(o)):(this.isInternal=!1,this.body=e))},t.prototype.updateMassAndCenter=function(){var t=0,e=0,i=0;if(this.isInternal){for(var o=0,r=this.nodes;o<r.length;o++){var s=r[o];s.isEmpty||(t+=s.mass,e+=s.plotX*s.mass,i+=s.plotY*s.mass)}e/=t,i/=t}else this.body&&(t=this.body.mass,e=this.body.plotX,i=this.body.plotY);this.mass=t,this.plotX=e,this.plotY=i},t}()}),i(e,"Series/Networkgraph/QuadTree.js",[e["Series/Networkgraph/QuadTreeNode.js"]],function(t){return function(){function e(e,i,o,r){this.box={left:e,top:i,width:o,height:r},this.maxDepth=25,this.root=new t(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}return e.prototype.calculateMassAndCenter=function(){this.visitNodeRecursive(null,null,function(t){t.updateMassAndCenter()})},e.prototype.insertNodes=function(t){for(var e=0;e<t.length;e++){var i=t[e];this.root.insert(i,this.maxDepth)}},e.prototype.visitNodeRecursive=function(t,e,i){var o;if(t||(t=this.root),t===this.root&&e&&(o=e(t)),!1!==o){for(var r=0,s=t.nodes;r<s.length;r++){var a=s[r];if(a.isInternal){if(e&&(o=e(a)),!1===o)continue;this.visitNodeRecursive(a,e,i)}else a.body&&e&&e(a.body);i&&i(a)}t===this.root&&i&&i(t)}},e}()}),i(e,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[e["Series/Networkgraph/EulerIntegration.js"],e["Core/Globals.js"],e["Series/GraphLayoutComposition.js"],e["Series/Networkgraph/QuadTree.js"],e["Core/Utilities.js"],e["Series/Networkgraph/VerletIntegration.js"]],function(t,e,i,o,r,s){var a=e.win,n=r.clamp,l=r.defined,h=r.isFunction,p=r.fireEvent,c=r.pick;return function(){function e(){this.box={},this.currentStep=0,this.initialRendering=!0,this.links=[],this.nodes=[],this.series=[],this.simulation=!1}return e.compose=function(o){i.compose(o),i.integrations.euler=t,i.integrations.verlet=s,i.layouts["reingold-fruchterman"]=e},e.prototype.init=function(t){this.options=t,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=i.integrations[t.integration],this.enableSimulation=t.enableSimulation,this.attractiveForce=c(t.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=c(t.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=t.approximation},e.prototype.updateSimulation=function(t){this.enableSimulation=c(t,this.options.enableSimulation)},e.prototype.start=function(){var t=this.series,e=this.options;this.currentStep=0,this.forces=t[0]&&t[0].forces||[],this.chart=t[0]&&t[0].chart,this.initialRendering&&(this.initPositions(),t.forEach(function(t){t.finishedAnimating=!0,t.render()})),this.setK(),this.resetSimulation(e),this.enableSimulation&&this.step()},e.prototype.step=function(){var t=this,e=this.series;this.currentStep++,"barnes-hut"===this.approximation&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter());for(var i=0,o=this.forces||[];i<o.length;i++)this[o[i]+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(var r=0;r<e.length;r++){var s=e[r];s.chart&&s.render()}this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&a.cancelAnimationFrame(this.simulation),this.simulation=a.requestAnimationFrame(function(){return t.step()})):(this.simulation=!1,this.series.forEach(function(t){p(t,"afterSimulation")}))}},e.prototype.stop=function(){this.simulation&&a.cancelAnimationFrame(this.simulation)},e.prototype.setArea=function(t,e,i,o){this.box={left:t,top:e,width:i,height:o}},e.prototype.setK=function(){this.k=this.options.linkLength||this.integration.getK(this)},e.prototype.addElementsToCollection=function(t,e){for(var i=0;i<t.length;i++){var o=t[i];-1===e.indexOf(o)&&e.push(o)}},e.prototype.removeElementFromCollection=function(t,e){var i=e.indexOf(t);-1!==i&&e.splice(i,1)},e.prototype.clear=function(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()},e.prototype.resetSimulation=function(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()},e.prototype.restartSimulation=function(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))},e.prototype.setMaxIterations=function(t){this.maxIterations=c(t,this.options.maxIterations)},e.prototype.setTemperature=function(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)},e.prototype.setDiffTemperature=function(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)},e.prototype.setInitialRendering=function(t){this.initialRendering=t},e.prototype.createQuadTree=function(){this.quadTree=new o(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)},e.prototype.initPositions=function(){var t=this.options.initialPositions;if(h(t)){t.call(this);for(var e=0,i=this.nodes;e<i.length;e++){var o=i[e];l(o.prevX)||(o.prevX=o.plotX),l(o.prevY)||(o.prevY=o.plotY),o.dispX=0,o.dispY=0}}else"circle"===t?this.setCircularPositions():this.setRandomPositions()},e.prototype.setCircularPositions=function(){for(var t,e=this.box,i=this.nodes,o=2*Math.PI/(i.length+1),r=i.filter(function(t){return 0===t.linksTo.length}),s={},a=this.options.initialPositionRadius,n=function(t){for(var e=0,i=t.linksFrom||[];e<i.length;e++){var o=i[e];s[o.toNode.id]||(s[o.toNode.id]=!0,l.push(o.toNode),n(o.toNode))}},l=[],h=0;h<r.length;h++){var p=r[h];l.push(p),n(p)}if(l.length)for(var u=0;u<i.length;u++){var d=i[u];-1===l.indexOf(d)&&l.push(d)}else l=i;for(var f=0,g=l.length;f<g;++f)(t=l[f]).plotX=t.prevX=c(t.plotX,e.width/2+a*Math.cos(f*o)),t.plotY=t.prevY=c(t.plotY,e.height/2+a*Math.sin(f*o)),t.dispX=0,t.dispY=0},e.prototype.setRandomPositions=function(){for(var t,e=this.box,i=this.nodes,o=i.length+1,r=function(t){var e=t*t/Math.PI;return e-Math.floor(e)},s=0,a=i.length;s<a;++s)(t=i[s]).plotX=t.prevX=c(t.plotX,e.width*r(s)),t.plotY=t.prevY=c(t.plotY,e.height*r(o+s)),t.dispX=0,t.dispY=0},e.prototype.force=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];this.integration[t].apply(this,e)},e.prototype.barycenterForces=function(){this.getBarycenter(),this.force("barycenter")},e.prototype.getBarycenter=function(){for(var t=0,e=0,i=0,o=0,r=this.nodes;o<r.length;o++){var s=r[o];e+=s.plotX*s.mass,i+=s.plotY*s.mass,t+=s.mass}return this.barycenter={x:e,y:i,xFactor:e/t,yFactor:i/t},this.barycenter},e.prototype.barnesHutApproximation=function(t,e){var i,o,r=this.getDistXY(t,e),s=this.vectorLength(r);return t!==e&&0!==s&&(e.isInternal?e.boxSize/s<this.options.theta&&0!==s?(o=this.repulsiveForce(s,this.k),this.force("repulsive",t,o*e.mass,r,s),i=!1):i=!0:(o=this.repulsiveForce(s,this.k),this.force("repulsive",t,o*e.mass,r,s))),i},e.prototype.repulsiveForces=function(){var t=this;if("barnes-hut"===this.approximation)for(var e=function(e){i.quadTree.visitNodeRecursive(null,function(i){return t.barnesHutApproximation(e,i)})},i=this,o=0,r=this.nodes;o<r.length;o++){var s=r[o];e(s)}else for(var a=void 0,n=void 0,l=void 0,h=0,p=this.nodes;h<p.length;h++)for(var s=p[h],c=0,u=this.nodes;c<u.length;c++){var d=u[c];s===d||s.fixedPosition||(l=this.getDistXY(s,d),0!==(n=this.vectorLength(l))&&(a=this.repulsiveForce(n,this.k),this.force("repulsive",s,a*d.mass,l,n)))}},e.prototype.attractiveForces=function(){for(var t,e,i,o=0,r=this.links;o<r.length;o++){var s=r[o];s.fromNode&&s.toNode&&(t=this.getDistXY(s.fromNode,s.toNode),0!==(e=this.vectorLength(t))&&(i=this.attractiveForce(e,this.k),this.force("attractive",s,i,t,e)))}},e.prototype.applyLimits=function(){for(var t=this.nodes,e=0;e<t.length;e++){var i=t[e];i.fixedPosition||(this.integration.integrate(this,i),this.applyLimitBox(i,this.box),i.dispX=0,i.dispY=0)}},e.prototype.applyLimitBox=function(t,e){var i=t.radius;t.plotX=n(t.plotX,e.left+i,e.width-i),t.plotY=n(t.plotY,e.top+i,e.height-i)},e.prototype.coolDown=function(t,e,i){return t-e*i},e.prototype.isStable=function(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||this.temperature<=0},e.prototype.getSystemTemperature=function(){for(var t=0,e=0,i=this.nodes;e<i.length;e++)t+=i[e].temperature;return t},e.prototype.vectorLength=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},e.prototype.getDistR=function(t,e){var i=this.getDistXY(t,e);return this.vectorLength(i)},e.prototype.getDistXY=function(t,e){var i=t.plotX-e.plotX,o=t.plotY-e.plotY;return{x:i,y:o,absX:Math.abs(i),absY:Math.abs(o)}},e}()}),i(e,"Series/PackedBubble/PackedBubbleLayout.js",[e["Series/GraphLayoutComposition.js"],e["Series/PackedBubble/PackedBubbleIntegration.js"],e["Series/Networkgraph/ReingoldFruchtermanLayout.js"],e["Core/Utilities.js"]],function(t,e,i,o){var r,s=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=o.addEvent,n=o.pick;function l(){var t=this.series,e=[];return t.forEach(function(t){t.parentNode&&t.parentNode.selected&&e.push(t.parentNode)}),e}function h(){this.allDataPoints&&delete this.allDataPoints}var p=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.index=NaN,t.nodes=[],t.series=[],t}return s(r,o),r.compose=function(o){i.compose(o),t.integrations.packedbubble=e,t.layouts.packedbubble=r;var s=o.prototype;s.getSelectedParentNodes||(a(o,"beforeRedraw",h),s.getSelectedParentNodes=l)},r.prototype.beforeStep=function(){this.options.marker&&this.series.forEach(function(t){t&&t.calculateParentRadius()})},r.prototype.isStable=function(){var t=Math.abs(this.prevSystemTemperature-this.systemTemperature);return 1>Math.abs(10*this.systemTemperature/Math.sqrt(this.nodes.length))&&t<1e-5||this.temperature<=0},r.prototype.setCircularPositions=function(){for(var t,e,i=this.box,o=this.nodes,r=2*Math.PI/(o.length+1),s=this.options.initialPositionRadius,a=0,l=0;l<o.length;l++){var h=o[l];this.options.splitSeries&&!h.isParentNode?(t=h.series.parentNode.plotX,e=h.series.parentNode.plotY):(t=i.width/2,e=i.height/2),h.plotX=h.prevX=n(h.plotX,t+s*Math.cos(h.index||a*r)),h.plotY=h.prevY=n(h.plotY,e+s*Math.sin(h.index||a*r)),h.dispX=0,h.dispY=0,a++}},r.prototype.repulsiveForces=function(){var t,e,i,o=this,r=o.options.bubblePadding,s=o.nodes;s.forEach(function(a){a.degree=a.mass,a.neighbours=0,s.forEach(function(s){t=0,a!==s&&!a.fixedPosition&&(o.options.seriesInteraction||a.series===s.series)&&(i=o.getDistXY(a,s),(e=o.vectorLength(i)-(a.marker.radius+s.marker.radius+r))<0&&(a.degree+=.01,a.neighbours++,t=o.repulsiveForce(-e/Math.sqrt(a.neighbours),o.k,a,s)),o.force("repulsive",a,t*s.mass,i,s,e))})})},r.prototype.applyLimitBox=function(t,e){var i,r;this.options.splitSeries&&!t.isParentNode&&this.options.parentNodeLimit&&(i=this.getDistXY(t,t.series.parentNode),(r=t.series.parentNodeRadius-t.marker.radius-this.vectorLength(i))<0&&r>-2*t.marker.radius&&(t.plotX-=.01*i.x,t.plotY-=.01*i.y)),o.prototype.applyLimitBox.call(this,t,e)},r}(i);return t.layouts.packedbubble=p,p}),i(e,"Series/SimulationSeriesUtilities.js",[e["Core/Utilities.js"],e["Core/Animation/AnimationUtilities.js"]],function(t,e){var i=t.merge,o=t.syncTimeout,r=e.animObject;return{initDataLabels:function(){var t=this.options.dataLabels;if(!this.dataLabelsGroup){var e=this.initDataLabelsGroup();return!this.chart.styledMode&&(null==t?void 0:t.style)&&e.css(t.style),e.attr({opacity:0}),this.visible&&e.show(),e}return this.dataLabelsGroup.attr(i({opacity:1},this.getPlotBox("data-labels"))),this.dataLabelsGroup},initDataLabelsDefer:function(){var t,e=this,i=this.options.dataLabels;(null==i?void 0:i.defer)&&(null===(t=this.options.layoutAlgorithm)||void 0===t?void 0:t.enableSimulation)?o(function(){e.deferDataLabels=!1},i?r(i.animation).defer:0):this.deferDataLabels=!1}}}),i(e,"Extensions/TextPath.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],function(t,e){var i=t.deg2rad,o=e.addEvent,r=e.merge,s=e.uniqueKey,a=e.defined,n=e.extend;function l(t,e){var i=this;e=r(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},e);var l=this.renderer.url,h=this.text||this,p=h.textPath,c=e.attributes,u=e.enabled;if(t=t||p&&p.path,p&&p.undo(),t&&u){var d=o(h,"afterModifyTree",function(e){if(t&&u){var o=t.attr("id");o||t.attr("id",o=s());var r={x:0,y:0};a(c.dx)&&(r.dx=c.dx,delete c.dx),a(c.dy)&&(r.dy=c.dy,delete c.dy),h.attr(r),i.attr({transform:""}),i.box&&(i.box=i.box.destroy());var p=e.nodes.slice(0);e.nodes.length=0,e.nodes[0]={tagName:"textPath",attributes:n(c,{"text-anchor":c.textAnchor,href:"".concat(l,"#").concat(o)}),children:p}}});h.textPath={path:t,undo:d}}else h.attr({dx:0,dy:0}),delete h.textPath;return this.added&&(h.textCache="",this.renderer.buildText(h)),this}function h(t){var e,o=t.bBox,r=null===(e=this.element)||void 0===e?void 0:e.querySelector("textPath");if(r){for(var s=[],a=this.renderer.fontMetrics(this.element),n=a.b,l=a.h-n,h=RegExp('(<tspan>|<tspan(?!\\sclass="highcharts-br")[^>]*>|<\\/tspan>)',"g"),p=r.innerHTML.replace(h,"").split(/<tspan class="highcharts-br"[^>]*>/),c=p.length,u=function(t,e){var o=e.x,s=e.y,a=(r.getRotationOfChar(t)-90)*i,h=Math.cos(a),p=Math.sin(a);return[[o-l*h,s-l*p],[o+n*h,s+n*p]]},d=0,f=0;f<c;f++){for(var g=p[f].length,y=0;y<g;y+=5)try{var b=d+y+f,m=u(b,r.getStartPositionOfChar(b)),v=m[0],x=m[1];0===y?(s.push(x),s.push(v)):(0===f&&s.unshift(x),f===c-1&&s.push(v))}catch(t){break}d+=g-1;try{var b=d+f,P=r.getEndPositionOfChar(b),S=u(b,P),v=S[0],x=S[1];s.unshift(x),s.unshift(v)}catch(t){break}}s.length&&s.push(s[0].slice()),o.polygon=s}return o}function p(t){var e,i=t.labelOptions,o=t.point,r=i[o.formatPrefix+"TextPath"]||i.textPath;r&&!i.useHTML&&(this.setTextPath((null===(e=o.getDataLabelPath)||void 0===e?void 0:e.call(o,this))||o.graphic,r),o.dataLabelPath&&!r.enabled&&(o.dataLabelPath=o.dataLabelPath.destroy()))}return{compose:function(t){o(t,"afterGetBBox",h),o(t,"beforeAddingDataLabel",p);var e=t.prototype;e.setTextPath||(e.setTextPath=l)}}}),i(e,"Series/PackedBubble/PackedBubbleSeries.js",[e["Core/Color/Color.js"],e["Series/DragNodesComposition.js"],e["Series/GraphLayoutComposition.js"],e["Core/Globals.js"],e["Series/PackedBubble/PackedBubblePoint.js"],e["Series/PackedBubble/PackedBubbleSeriesDefaults.js"],e["Series/PackedBubble/PackedBubbleLayout.js"],e["Core/Series/SeriesRegistry.js"],e["Series/SimulationSeriesUtilities.js"],e["Core/Utilities.js"],e["Core/Renderer/SVG/SVGElement.js"],e["Extensions/TextPath.js"]],function(t,e,i,o,r,s,a,n,l,h,p,c){var u,d=this&&this.__extends||(u=function(t,e){return(u=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),f=t.parse,g=o.noop,y=n.series.prototype,b=n.seriesTypes.bubble,m=l.initDataLabels,v=l.initDataLabelsDefer,x=h.addEvent,P=h.clamp,S=h.defined,M=h.extend,C=h.fireEvent,w=h.isArray,L=h.isNumber,k=h.merge,A=h.pick;c.compose(p);var T=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentNodeMass=0,e.deferDataLabels=!0,e}return d(o,t),o.compose=function(t,i,o){b.compose(t,i,o),e.compose(i),a.compose(i)},o.prototype.accumulateAllPoints=function(){for(var t,e=this.chart,i=[],o=0,r=e.series;o<r.length;o++){var s=r[o];if(s.is("packedbubble")&&s.reserveSpace()){t=s.yData||[];for(var a=0;a<t.length;a++)i.push([null,null,t[a],s.index,a,{id:a,marker:{radius:0}}])}}return i},o.prototype.addLayout=function(){var t,e=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},o=e.type||"packedbubble",r=this.chart.options.chart,s=this.chart.graphLayoutsStorage,a=this.chart.graphLayoutsLookup;s||(this.chart.graphLayoutsStorage=s={},this.chart.graphLayoutsLookup=a=[]),(t=s[o])||(e.enableSimulation=S(r.forExport)?!r.forExport:e.enableSimulation,s[o]=t=new i.layouts[o],t.init(e),a.splice(t.index,0,t)),this.layout=t,this.points.forEach(function(t){t.mass=2,t.degree=1,t.collisionNmb=1}),t.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),t.addElementsToCollection([this],t.series),t.addElementsToCollection(this.points,t.nodes)},o.prototype.addSeriesLayout=function(){var t=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},e=t.type||"packedbubble",o=this.chart.graphLayoutsStorage,r=this.chart.graphLayoutsLookup,s=k(t,t.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation}),a=o[e+"-series"];a||(o[e+"-series"]=a=new i.layouts[e],a.init(s),r.splice(a.index,0,a)),this.parentNodeLayout=a,this.createParentNodes()},o.prototype.calculateParentRadius=function(){var t=this.seriesBox();this.parentNodeRadius=P(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,t?Math.max(Math.sqrt(Math.pow(t.width,2)+Math.pow(t.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)},o.prototype.calculateZExtremes=function(){var t=this.chart.series,e=this.options.zMin,i=this.options.zMax,o=1/0,r=-1/0;return e&&i?[e,i]:(t.forEach(function(t){t.yData.forEach(function(t){S(t)&&(t>r&&(r=t),t<o&&(o=t))})}),[e=A(e,o),i=A(i,r)])},o.prototype.checkOverlap=function(t,e){var i=t[0]-e[0],o=t[1]-e[1];return Math.sqrt(i*i+o*o)-Math.abs(t[2]+e[2])<-.001},o.prototype.createParentNodes=function(){var t,e=this,i=this.pointClass,o=this.chart,r=this.parentNodeLayout,s=this.layout.options,a=this.parentNode,n={radius:this.parentNodeRadius,lineColor:this.color,fillColor:f(this.color).brighten(.4).get()};s.parentNodeOptions&&(n=k(s.parentNodeOptions.marker||{},n)),this.parentNodeMass=0,this.points.forEach(function(t){e.parentNodeMass+=Math.PI*Math.pow(t.marker.radius,2)}),this.calculateParentRadius(),r.nodes.forEach(function(i){i.seriesIndex===e.index&&(t=!0)}),r.setArea(0,0,o.plotWidth,o.plotHeight),t||(a||(a=new i(this,{mass:this.parentNodeRadius/2,marker:n,dataLabels:{inside:!1},states:{normal:{marker:n},hover:{marker:n}},dataLabelOnNull:!0,degree:this.parentNodeRadius,isParentNode:!0,seriesIndex:this.index})),this.parentNode&&(a.plotX=this.parentNode.plotX,a.plotY=this.parentNode.plotY),this.parentNode=a,r.addElementsToCollection([this],r.series),r.addElementsToCollection([a],r.nodes))},o.prototype.deferLayout=function(){var t=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),t.splitSeries&&this.addSeriesLayout())},o.prototype.destroy=function(){var t=this;this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach(function(e){e.removeElementFromCollection(t,e.series)},this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),y.destroy.apply(this,arguments)},o.prototype.drawDataLabels=function(){!this.deferDataLabels&&(y.drawDataLabels.call(this,this.points),this.parentNode&&(this.parentNode.formatPrefix="parentNode",y.drawDataLabels.call(this,[this.parentNode])))},o.prototype.drawGraph=function(){if(this.layout&&this.layout.options.splitSeries){var t,e=this.chart,i=this.layout.options.parentNodeOptions.marker,o={fill:i.fillColor||f(this.color).brighten(.4).get(),opacity:i.fillOpacity,stroke:i.lineColor||this.color,"stroke-width":A(i.lineWidth,this.options.lineWidth)},r={};this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",this.visible?"inherit":"hidden",.1,e.seriesGroup),null===(t=this.group)||void 0===t||t.attr({zIndex:2}),this.calculateParentRadius(),this.parentNode&&S(this.parentNode.plotX)&&S(this.parentNode.plotY)&&S(this.parentNodeRadius)&&(r=k({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},o),this.parentNode.graphic||(this.graph=this.parentNode.graphic=e.renderer.symbol(o.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(r))}},o.prototype.drawTracker=function(){var e,i=this.parentNode;t.prototype.drawTracker.call(this),i&&(e=w(i.dataLabels)?i.dataLabels:i.dataLabel?[i.dataLabel]:[],i.graphic&&(i.graphic.element.point=i),e.forEach(function(t){(t.div||t.element).point=i}))},o.prototype.getPointRadius=function(){var t,e,i,o,r=this,s=this.chart,a=s.plotWidth,n=s.plotHeight,l=this.options,h=l.useSimulation,p=Math.min(a,n),c={},u=[],d=s.allDataPoints||[],f=d.length;["minSize","maxSize"].forEach(function(t){var e=parseInt(l[t],10),i=/%$/.test(l[t]);c[t]=i?p*e/100:e*Math.sqrt(f)}),s.minRadius=t=c.minSize/Math.sqrt(f),s.maxRadius=e=c.maxSize/Math.sqrt(f);var g=h?this.calculateZExtremes():[t,e];d.forEach(function(s,a){i=h?P(s[2],g[0],g[1]):s[2],0===(o=r.getRadius(g[0],g[1],t,e,i))&&(o=null),d[a][2]=o,u.push(o)}),this.radii=u},o.prototype.init=function(){return y.init.apply(this,arguments),v.call(this),this.eventsToUnbind.push(x(this,"updatedData",function(){var t=this;this.chart.series.forEach(function(e){e.type===t.type&&(e.isDirty=!0)},this)})),this},o.prototype.onMouseUp=function(t){if(t.fixedPosition&&!t.removed){var i,o=this.layout,r=this.parentNodeLayout;r&&o.options.dragBetweenSeries&&r.nodes.forEach(function(e){t&&t.marker&&e!==t.series.parentNode&&(i=o.getDistXY(t,e),o.vectorLength(i)-e.marker.radius-t.marker.radius<0&&(e.series.addPoint(k(t.options,{plotX:t.plotX,plotY:t.plotY}),!1),o.removeElementFromCollection(t,o.nodes),t.remove()))}),e.onMouseUp.apply(this,arguments)}},o.prototype.placeBubbles=function(t){var e,i,o=this.checkOverlap,r=this.positionBubble,s=[],a=1,n=0,l=0,h=[],p=t.sort(function(t,e){return e[2]-t[2]});if(p.length){if(s.push([[0,0,p[0][2],p[0][3],p[0][4]]]),p.length>1)for(s.push([[0,0-p[1][2]-p[0][2],p[1][2],p[1][3],p[1][4]]]),i=2;i<p.length;i++)p[i][2]=p[i][2]||1,o(e=r(s[a][n],s[a-1][l],p[i]),s[a][0])?(s.push([]),l=0,s[a+1].push(r(s[a][n],s[a][0],p[i])),a++,n=0):a>1&&s[a-1][l+1]&&o(e,s[a-1][l+1])?(l++,s[a].push(r(s[a][n],s[a-1][l],p[i])),n++):(n++,s[a].push(e));this.chart.stages=s,this.chart.rawPositions=[].concat.apply([],s),this.resizeRadius(),h=this.chart.rawPositions}return h},o.prototype.pointAttribs=function(t,e){var i=this.options,o=t&&t.isParentNode,r=i.marker;o&&i.layoutAlgorithm&&i.layoutAlgorithm.parentNodeOptions&&(r=i.layoutAlgorithm.parentNodeOptions.marker);var s=r.fillOpacity,a=y.pointAttribs.call(this,t,e);return 1!==s&&(a["fill-opacity"]=s),a},o.prototype.positionBubble=function(t,e,i){var o=Math.asin,r=Math.acos,s=Math.pow,a=Math.abs,n=(0,Math.sqrt)(s(t[0]-e[0],2)+s(t[1]-e[1],2)),l=r((s(n,2)+s(i[2]+e[2],2)-s(i[2]+t[2],2))/(2*(i[2]+e[2])*n)),h=o(a(t[0]-e[0])/n),p=(t[1]-e[1]<0?0:Math.PI)+l+h*((t[0]-e[0])*(t[1]-e[1])<0?1:-1),c=Math.cos(p),u=Math.sin(p);return[e[0]+(e[2]+i[2])*u,e[1]-(e[2]+i[2])*c,i[2],i[3],i[4]]},o.prototype.render=function(){var t=[];y.render.apply(this,arguments),!this.options.dataLabels.allowOverlap&&(this.data.forEach(function(e){w(e.dataLabels)&&e.dataLabels.forEach(function(e){t.push(e)})}),this.options.useSimulation&&this.chart.hideOverlappingLabels(t))},o.prototype.resizeRadius=function(){var t,e,i,o,r,s=this.chart,a=s.rawPositions,n=Math.min,l=Math.max,h=s.plotLeft,p=s.plotTop,c=s.plotHeight,u=s.plotWidth;t=i=Number.POSITIVE_INFINITY,e=o=Number.NEGATIVE_INFINITY;for(var d=0;d<a.length;d++){var f=a[d];r=f[2],t=n(t,f[0]-r),e=l(e,f[0]+r),i=n(i,f[1]-r),o=l(o,f[1]+r)}var g=[e-t,o-i],y=[(u-h)/g[0],(c-p)/g[1]],b=n.apply([],y);if(Math.abs(b-1)>1e-10){for(var m=0;m<a.length;m++){var f=a[m];f[2]*=b}this.placeBubbles(a)}else s.diffY=c/2+p-i-(o-i)/2,s.diffX=u/2+h-t-(e-t)/2},o.prototype.seriesBox=function(){var t,e=this.chart,i=this.data,o=Math.max,r=Math.min,s=[e.plotLeft,e.plotLeft+e.plotWidth,e.plotTop,e.plotTop+e.plotHeight];return i.forEach(function(e){S(e.plotX)&&S(e.plotY)&&e.marker.radius&&(t=e.marker.radius,s[0]=r(s[0],e.plotX-t),s[1]=o(s[1],e.plotX+t),s[2]=r(s[2],e.plotY-t),s[3]=o(s[3],e.plotY+t))}),L(s.width/s.height)?s:null},o.prototype.setVisible=function(){var t=this;y.setVisible.apply(t,arguments),t.parentNodeLayout&&t.graph?t.visible?(t.graph.show(),t.parentNode.dataLabel&&t.parentNode.dataLabel.show()):(t.graph.hide(),t.parentNodeLayout.removeElementFromCollection(t.parentNode,t.parentNodeLayout.nodes),t.parentNode.dataLabel&&t.parentNode.dataLabel.hide()):t.layout&&(t.visible?t.layout.addElementsToCollection(t.points,t.layout.nodes):t.points.forEach(function(e){t.layout.removeElementFromCollection(e,t.layout.nodes)}))},o.prototype.translate=function(){var t,e,i,o=this.chart,r=this.data,s=this.index,a=this.options.useSimulation;this.processedXData=this.xData,this.generatePoints(),S(o.allDataPoints)||(o.allDataPoints=this.accumulateAllPoints(),this.getPointRadius()),a?i=o.allDataPoints:(i=this.placeBubbles(o.allDataPoints),this.options.draggable=!1);for(var n=0,l=i;n<l.length;n++){var h=l[n];h[3]===s&&(t=r[h[4]],e=A(h[2],void 0),a||(t.plotX=h[0]-o.plotLeft+o.diffX,t.plotY=h[1]-o.plotTop+o.diffY),L(e)&&(t.marker=M(t.marker,{radius:e,width:2*e,height:2*e}),t.radius=e))}a&&this.deferLayout(),C(this,"afterTranslate")},o.defaultOptions=k(b.defaultOptions,s),o}(b);return M(T.prototype,{pointClass:r,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["value"],pointValKey:"value",requireSorting:!1,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"],initDataLabels:m,alignDataLabel:y.alignDataLabel,indexateNodes:g,onMouseDown:e.onMouseDown,onMouseMove:e.onMouseMove,redrawHalo:e.redrawHalo,searchPoint:g}),n.registerSeriesType("packedbubble",T),T}),i(e,"Series/Polygon/PolygonSeriesDefaults.js",[],function(){return{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0,legendSymbol:"rectangle"}}),i(e,"Series/Polygon/PolygonSeries.js",[e["Core/Globals.js"],e["Series/Polygon/PolygonSeriesDefaults.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e,i,o){var r,s=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=t.noop,n=i.seriesTypes,l=n.area,h=n.line,p=n.scatter,c=o.extend,u=o.merge,d=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return s(i,t),i.prototype.getGraphPath=function(){for(var t=h.prototype.getGraphPath.call(this),e=t.length+1;e--;)(e===t.length||"M"===t[e][0])&&e>0&&t.splice(e,0,["Z"]);return this.areaPath=t,t},i.prototype.drawGraph=function(){this.options.fillColor=this.color,l.prototype.drawGraph.call(this)},i.defaultOptions=u(p.defaultOptions,e),i}(p);return c(d.prototype,{type:"polygon",drawTracker:h.prototype.drawTracker,setStackedPoints:a}),i.registerSeriesType("polygon",d),d}),i(e,"Core/Axis/RadialAxisDefaults.js",[],function(){return{circular:{gridLineWidth:1,labels:{align:void 0,x:0,y:void 0,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},radial:{gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",padding:5,x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},radialGauge:{endOnTick:!1,gridLineWidth:0,labels:{align:"center",distance:-25,x:0,y:void 0},lineWidth:1,minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickPosition:"inside",tickWidth:2,title:{rotation:0,text:""},zIndex:2}}}),i(e,"Core/Axis/RadialAxis.js",[e["Core/Axis/RadialAxisDefaults.js"],e["Core/Defaults.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],function(t,e,i,o){var r,s=e.defaultOptions,a=i.composed,n=i.noop,l=o.addEvent,h=o.correctFloat,p=o.defined,c=o.extend,u=o.fireEvent,d=o.isObject,f=o.merge,g=o.pick,y=o.pushUnique,b=o.relativeLength,m=o.wrap;return function(e){function o(){this.autoConnect=this.isCircular&&void 0===g(this.userMax,this.options.max)&&h(this.endAngleRad-this.startAngleRad)===h(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)}function r(){var t=this;return function(){if(t.isRadial&&t.tickPositions&&t.options.labels&&!0!==t.options.labels.allowOverlap)return t.tickPositions.map(function(e){return t.ticks[e]&&t.ticks[e].label}).filter(function(t){return!!t})}}function v(){return n}function x(t,e,i){var o,r,s,a=this.pane.center,n=t.value;return this.isCircular?(p(n)?t.point&&(t.point.shapeArgs||{}).start&&(n=this.chart.inverted?this.translate(t.point.rectPlotY,!0):t.point.x):(r=t.chartX||0,s=t.chartY||0,n=this.translate(Math.atan2(s-i,r-e)-this.startAngleRad,!0)),r=(o=this.getPosition(n)).x,s=o.y):(p(n)||(r=t.chartX,s=t.chartY),p(r)&&p(s)&&(i=a[1]+this.chart.plotTop,n=this.translate(Math.min(Math.sqrt(Math.pow(r-e,2)+Math.pow(s-i,2)),a[2]/2)-a[3]/2,!0))),[n,r||0,s||0]}function P(t,e,i){var o,r,s=this.pane.center,a=this.chart,n=this.left||0,l=this.top||0,h=g(e,s[2]/2-this.offset);return void 0===i&&(i=this.horiz?0:this.center&&-this.center[3]/2),i&&(h+=i),this.isCircular||void 0!==e?((r=this.chart.renderer.symbols.arc(n+s[0],l+s[1],h,h,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})).xBounds=[n+s[0]],r.yBounds=[l+s[1]-h]):(o=this.postTranslate(this.angleRad,h),r=[["M",this.center[0]+a.plotLeft,this.center[1]+a.plotTop],["L",o.x,o.y]]),r}function S(){this.constructor.prototype.getOffset.call(this),this.chart.axisOffset[this.side]=0}function M(t,e,i){var o,r,s,a,n,l,h=this.chart,p=function(t){if("string"==typeof t){var e=parseInt(t,10);return m.test(t)&&(e=e*d/100),e}return t},c=this.center,u=this.startAngleRad,d=c[2]/2,f=Math.min(this.offset,0),y=this.left||0,b=this.top||0,m=/%$/,v=this.isCircular,x=g(p(i.outerRadius),d),P=p(i.innerRadius),S=g(p(i.thickness),10);if("polygon"===this.options.gridLineInterpolation)l=this.getPlotLinePath({value:t}).concat(this.getPlotLinePath({value:e,reverse:!0}));else{t=Math.max(t,this.min),e=Math.min(e,this.max);var M=this.translate(t),C=this.translate(e);v||(x=M||0,P=C||0),"circle"!==i.shape&&v?(o=u+(M||0),r=u+(C||0)):(o=-Math.PI/2,r=1.5*Math.PI,n=!0),x-=f,S-=f,l=h.renderer.symbols.arc(y+c[0],b+c[1],x,x,{start:Math.min(o,r),end:Math.max(o,r),innerR:g(P,x-S),open:n,borderRadius:i.borderRadius}),v&&(s=(r+o)/2,a=y+c[0]+c[2]/2*Math.cos(s),l.xBounds=s>-Math.PI/2&&s<Math.PI/2?[a,h.plotWidth]:[0,a],l.yBounds=[b+c[1]+c[2]/2*Math.sin(s)],l.yBounds[0]+=s>-Math.PI&&s<0||s>Math.PI?-10:10)}return l}function C(t){var e,i,o,r,s,a,n,l,h,p=this,c=this.pane.center,u=this.chart,d=u.inverted,f=t.reverse,g=this.pane.options.background?this.pane.options.background[0]||this.pane.options.background:{},y=g.innerRadius||"0%",m=g.outerRadius||"100%",v=c[0]+u.plotLeft,x=c[1]+u.plotTop,P=this.height,S=t.isCrosshair,M=c[3]/2,C=t.value,w=this.getPosition(C),L=w.x,k=w.y;if(S&&(C=(l=this.getCrosshairPosition(t,v,x))[0],L=l[1],k=l[2]),this.isCircular)i=Math.sqrt(Math.pow(L-v,2)+Math.pow(k-x,2)),o="string"==typeof y?b(y,1):y/i,r="string"==typeof m?b(m,1):m/i,c&&M&&(o<(e=M/i)&&(o=e),r<e&&(r=e)),h=[["M",v+o*(L-v),x-o*(x-k)],["L",L-(1-r)*(L-v),k+(1-r)*(x-k)]];else if((C=this.translate(C))&&(C<0||C>P)&&(C=0),"circle"===this.options.gridLineInterpolation)h=this.getLinePath(0,C,M);else if(h=[],u[d?"yAxis":"xAxis"].forEach(function(t){t.pane===p.pane&&(s=t)}),s){n=s.tickPositions,s.autoConnect&&(n=n.concat([n[0]])),f&&(n=n.slice().reverse()),C&&(C+=M);for(var A=0;A<n.length;A++)a=s.getPosition(n[A],C),h.push(A?["L",a.x,a.y]:["M",a.x,a.y])}return h}function w(t,e){var i=this.translate(t);return this.postTranslate(this.isCircular?i:this.angleRad,g(this.isCircular?e:i<0?0:i,this.center[2]/2)-this.offset)}function L(){var t=this.center,e=this.chart,i=this.options.title;return{x:e.plotLeft+t[0]+(i.x||0),y:e.plotTop+t[1]-({high:.5,middle:.25,low:0})[i.align]*t[2]+(i.y||0)}}function k(t){t.beforeSetTickPositions=o,t.createLabelCollector=r,t.getCrosshairPosition=x,t.getLinePath=P,t.getOffset=S,t.getPlotBandPath=M,t.getPlotLinePath=C,t.getPosition=w,t.getTitlePosition=L,t.postTranslate=Y,t.setAxisSize=I,t.setAxisTranslation=D,t.setOptions=B}function A(){var t=this.chart,e=this.options,i=t.angular&&this.isXAxis,o=this.pane,r=o&&o.options;if(!i&&o&&(t.angular||t.polar)){var s=2*Math.PI,a=(g(r.startAngle,0)-90)*Math.PI/180,n=(g(r.endAngle,g(r.startAngle,0)+360)-90)*Math.PI/180;this.angleRad=(e.angle||0)*Math.PI/180,this.startAngleRad=a,this.endAngleRad=n,this.offset=e.offset||0;var l=(a%s+s)%s,h=(n%s+s)%s;l>Math.PI&&(l-=s),h>Math.PI&&(h-=s),this.normalizedStartAngleRad=l,this.normalizedEndAngleRad=h}}function T(t){this.isRadial&&(t.align=void 0,t.preventDefault())}function j(){if(this.chart&&this.chart.labelCollectors){var t=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;t>=0&&this.chart.labelCollectors.splice(t,1)}}function N(t){var e,i=this.chart,o=i.angular,r=i.polar,s=this.isXAxis,a=this.coll,l=t.userOptions.pane||0,h=this.pane=i.pane&&i.pane[l];if("colorAxis"===a){this.isRadial=!1;return}o?(o&&s?(this.isHidden=!0,this.createLabelCollector=v,this.getOffset=n,this.redraw=E,this.render=E,this.setScale=n,this.setCategories=n,this.setTitle=n):k(this),e=!s):r&&(k(this),e=this.horiz),o||r?(this.isRadial=!0,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&i.labelCollectors.push(this.labelCollector)):this.isRadial=!1,h&&e&&(h.axis=this),this.isCircular=e}function X(){this.isRadial&&this.beforeSetTickPositions()}function O(t){var e=this.label;if(e){var i,o=this.axis,r=e.getBBox(),s=o.options.labels,a=(o.translate(this.pos)+o.startAngleRad+Math.PI/2)/Math.PI*180%360,n=Math.round(a),l=p(s.y)?0:-(.3*r.height),h=s.y,c=20,u=s.align,d="end",f=n<0?n+360:n,y=f,m=0,v=0;o.isRadial&&(i=o.getPosition(this.pos,o.center[2]/2+b(g(s.distance,-25),o.center[2]/2,-o.center[2]/2)),"auto"===s.rotation?e.attr({rotation:a}):p(h)||(h=o.chart.renderer.fontMetrics(e).b-r.height/2),p(u)||(o.isCircular?(r.width>o.len*o.tickInterval/(o.max-o.min)&&(c=0),u=a>c&&a<180-c?"left":a>180+c&&a<360-c?"right":"center"):u="center",e.attr({align:u})),"auto"===u&&2===o.tickPositions.length&&o.isCircular&&(f>90&&f<180?f=180-f:f>270&&f<=360&&(f=540-f),y>180&&y<=360&&(y=360-y),(o.pane.options.startAngle===n||o.pane.options.startAngle===n+360||o.pane.options.startAngle===n-360)&&(d="start"),u=n>=-90&&n<=90||n>=-360&&n<=-270||n>=270&&n<=360?"start"===d?"right":"left":"start"===d?"left":"right",y>70&&y<110&&(u="center"),f<15||f>=180&&f<195?m=.3*r.height:f>=15&&f<=35?m="start"===d?0:.75*r.height:f>=195&&f<=215?m="start"===d?.75*r.height:0:f>35&&f<=90?m="start"===d?-(.25*r.height):r.height:f>215&&f<=270&&(m="start"===d?r.height:-(.25*r.height)),y<15?v="start"===d?-(.15*r.height):.15*r.height:y>165&&y<=180&&(v="start"===d?.15*r.height:-(.15*r.height)),e.attr({align:u}),e.translate(v,m+l)),t.pos.x=i.x+(s.x||0),t.pos.y=i.y+(h||0))}}function R(t){this.axis.getPosition&&c(t.pos,this.axis.getPosition(this.pos))}function _(t){var i=t.options;i.xAxis&&f(!0,e.radialDefaultOptions.circular,i.xAxis),i.yAxis&&f(!0,e.radialDefaultOptions.radialGauge,i.yAxis)}function Y(t,e){var i=this.chart,o=this.center;return t=this.startAngleRad+t,{x:i.plotLeft+o[0]+Math.cos(t)*e,y:i.plotTop+o[1]+Math.sin(t)*e}}function E(){this.isDirty=!1}function I(){var t,e;this.constructor.prototype.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),t=this.center=this.pane.center.slice(),this.isCircular?this.sector=this.endAngleRad-this.startAngleRad:(e=this.postTranslate(this.angleRad,t[3]/2),t[0]=e.x-this.chart.plotLeft,t[1]=e.y-this.chart.plotTop),this.len=this.width=this.height=(t[2]-t[3])*g(this.sector,1)/2)}function D(){this.constructor.prototype.setAxisTranslation.call(this),this.center&&(this.isCircular?this.transA=(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.transA=(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.isXAxis?this.minPixelPadding=this.transA*this.minPointOffset:this.minPixelPadding=0)}function B(t){var i=this.coll,o=this.chart,r=o.angular,a=o.inverted,n=o.polar,l={};r?this.isXAxis||(l=f(s.yAxis,e.radialDefaultOptions.radialGauge)):n&&(l=this.horiz?f(s.xAxis,e.radialDefaultOptions.circular):f("xAxis"===i?s.xAxis:s.yAxis,e.radialDefaultOptions.radial)),a&&"yAxis"===i&&(l.stackLabels=d(s.yAxis,!0)?s.yAxis.stackLabels:{},l.reversedStacks=!0);var h=this.options=f(l,t);h.plotBands||(h.plotBands=[]),u(this,"afterSetOptions")}function z(t,e,i,o,r,s,a){var n,l=this.axis;return l.isRadial?["M",e,i,"L",(n=l.getPosition(this.pos,l.center[2]/2+o)).x,n.y]:t.call(this,e,i,o,r,s,a)}e.radialDefaultOptions=f(t),e.compose=function(t,e){return y(a,"Axis.Radial")&&(l(t,"afterInit",A),l(t,"autoLabelAlign",T),l(t,"destroy",j),l(t,"init",N),l(t,"initialAxisTranslation",X),l(e,"afterGetLabelPosition",O),l(e,"afterGetPosition",R),l(i,"setOptions",_),m(e.prototype,"getMarkPath",z)),t}}(r||(r={})),r}),i(e,"Series/PolarComposition.js",[e["Core/Animation/AnimationUtilities.js"],e["Core/Globals.js"],e["Core/Series/Series.js"],e["Extensions/Pane/Pane.js"],e["Core/Axis/RadialAxis.js"],e["Core/Utilities.js"]],function(t,e,i,o,r,s){var a=this&&this.__spreadArray||function(t,e,i){if(i||2==arguments.length)for(var o,r=0,s=e.length;r<s;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},n=t.animObject,l=e.composed,h=s.addEvent,p=s.defined,c=s.find,u=s.isNumber,d=s.merge,f=s.pick,g=s.pushUnique,y=s.relativeLength,b=s.splat,m=s.uniqueKey,v=s.wrap;function x(){(this.pane||[]).forEach(function(t){t.render()})}function P(t){var e=t.args[0].xAxis,i=t.args[0].yAxis,o=t.args[0].chart;e&&i&&("polygon"===i.gridLineInterpolation?(e.startOnTick=!0,e.endOnTick=!0):"polygon"===e.gridLineInterpolation&&o.inverted&&(i.startOnTick=!0,i.endOnTick=!0))}function S(){var t=this;this.pane||(this.pane=[]),this.options.pane=b(this.options.pane),this.options.pane.forEach(function(e){new o(e,t)},this)}function M(t){var e=t.args.marker,i=this.chart.xAxis[0],o=this.chart.yAxis[0],r=this.chart.inverted,s=r?o:i,a=r?i:o;if(this.chart.polar){t.preventDefault();var n=(e.attr?e.attr("start"):e.start)-s.startAngleRad,l=e.attr?e.attr("r"):e.r,h=(e.attr?e.attr("end"):e.end)-s.startAngleRad,p=e.attr?e.attr("innerR"):e.innerR;t.result.x=n+s.pos,t.result.width=h-n,t.result.y=a.len+a.pos-l,t.result.height=l-p}}function C(t){var e=this.chart;if(e.polar&&e.hoverPane&&e.hoverPane.axis){t.preventDefault();var i=e.hoverPane.center,o=e.mouseDownX||0,r=e.mouseDownY||0,s=t.args.chartY,n=t.args.chartX,l=2*Math.PI,h=e.hoverPane.axis.startAngleRad,p=e.hoverPane.axis.endAngleRad,c=e.inverted?e.xAxis[0]:e.yAxis[0],u={},d="arc";if(u.x=i[0]+e.plotLeft,u.y=i[1]+e.plotTop,this.zoomHor){var f=h>0?p-h:Math.abs(h)+Math.abs(p),g=Math.atan2(r-e.plotTop-i[1],o-e.plotLeft-i[0])-h,y=Math.atan2(s-e.plotTop-i[1],n-e.plotLeft-i[0])-h;u.r=i[2]/2,u.innerR=i[3]/2,g<=0&&(g+=l),y<=0&&(y+=l),y<g&&(y=[g,g=y][0]),f<l&&h+y>p+(l-f)/2&&(y=g,g=h<=0?h:0);var b=u.start=Math.max(g+h,h),m=u.end=Math.min(y+h,p);if("polygon"===c.options.gridLineInterpolation){var v=e.hoverPane.axis,x=b-v.startAngleRad+v.pos,P=m-b,S=c.getPlotLinePath({value:c.max}),M=v.toValue(x),C=v.toValue(x+P);if(M<v.getExtremes().min){var w=v.getExtremes(),L=w.min;M=w.max-(L-M)}if(C<v.getExtremes().min){var k=v.getExtremes(),T=k.min;C=k.max-(T-C)}C<M&&(C=[M,M=C][0]),(S=A(S,M,C,v)).push(["L",i[0]+e.plotLeft,e.plotTop+i[1]]),u.d=S,d="path"}}if(this.zoomVert){var j=e.inverted?e.xAxis[0]:e.yAxis[0],N=Math.sqrt(Math.pow(o-e.plotLeft-i[0],2)+Math.pow(r-e.plotTop-i[1],2)),X=Math.sqrt(Math.pow(n-e.plotLeft-i[0],2)+Math.pow(s-e.plotTop-i[1],2));if(X<N&&(N=[X,X=N][0]),X>i[2]/2&&(X=i[2]/2),N<i[3]/2&&(N=i[3]/2),this.zoomHor||(u.start=h,u.end=p),u.r=X,u.innerR=N,"polygon"===j.options.gridLineInterpolation){var m=j.toValue(j.len+j.pos-N),b=j.toValue(j.len+j.pos-X),S=j.getPlotLinePath({value:b}).concat(j.getPlotLinePath({value:m,reverse:!0}));u.d=S,d="path"}}if(this.zoomHor&&this.zoomVert&&"polygon"===c.options.gridLineInterpolation){var v=e.hoverPane.axis,b=u.start||0,m=u.end||0,x=b-v.startAngleRad+v.pos,P=m-b,M=v.toValue(x),C=v.toValue(x+P);if(u.d instanceof Array){var O=u.d.slice(0,u.d.length/2),R=u.d.slice(u.d.length/2,u.d.length);R=a([],R,!0).reverse();var _=e.hoverPane.axis;O=A(O,M,C,_),(R=A(R,M,C,_))&&(R[0][0]="L"),R=a([],R,!0).reverse(),u.d=O.concat(R),d="path"}}t.attrs=u,t.shapeType=d}}function w(){var t=this.chart;t.polar&&(this.polar=new I(this),t.inverted&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0)))}function L(){if(this.chart.polar&&this.xAxis){var t=this.xAxis,i=this.yAxis,o=this.chart;this.kdByAngle=o.tooltip&&o.tooltip.shared,this.kdByAngle||o.inverted?this.searchPoint=k:this.options.findNearestPointBy="xy";for(var r=this.points,s=r.length;s--;)this.is("column")||this.is("columnrange")||this.polar.toXY(r[s]),o.hasParallelCoordinates||this.yAxis.reversed||(f(r[s].y,Number.MIN_VALUE)<i.min||r[s].x<t.min||r[s].x>t.max?(r[s].isNull=!0,r[s].plotY=NaN):r[s].isNull=r[s].isValid&&!r[s].isValid());this.hasClipCircleSetter||(this.hasClipCircleSetter=!!this.eventsToUnbind.push(h(this,"afterRender",function(){var t,i,r,s,a,n,l,h,p;o.polar&&!1!==this.options.clip&&((t=this.yAxis.pane.center,this.clipCircle)?this.clipCircle.animate({x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2}):this.clipCircle=(i=o.renderer,r=t[0],s=t[1],a=t[2]/2,n=t[3]/2,l=m(),h=i.createElement("clipPath").attr({id:l}).add(i.defs),(p=n?i.arc(r,s,a,n,0,2*Math.PI).add(h):i.circle(r,s,a).add(h)).id=l,p.clipPath=h,p),this.group.clip(this.clipCircle),this.setClip=e.noop)})))}}function k(t){var e=this.chart,i=this.xAxis,o=this.yAxis,r=i.pane&&i.pane.center,s=t.chartX-(r&&r[0]||0)-e.plotLeft,a=t.chartY-(r&&r[1]||0)-e.plotTop,n=e.inverted?{clientX:t.chartX-o.pos,plotY:t.chartY-i.pos}:{clientX:180+-180/Math.PI*Math.atan2(s,a)};return this.searchKDTree(n)}function A(t,e,i,o){var r=o.tickInterval,s=o.tickPositions,n=c(s,function(t){return t>=i}),l=c(a([],s,!0).reverse(),function(t){return t<=e});return p(n)||(n=s[s.length-1]),p(l)||(l=s[0],n+=r,t[0][0]="L",t.unshift(t[t.length-3])),(t=t.slice(s.indexOf(l),s.indexOf(n)+1))[0][0]="M",t}function T(t,e){return c(this.pane||[],function(t){return t.options.id===e})||t.call(this,e)}function j(t,e,o,r,s,a){var n,l,h,p,c,u,g=this.chart,y=f(r.inside,!!this.options.stacking);g.polar?((p=e.rectPlotX/Math.PI*180,g.inverted)?(this.forceDL=g.isInsidePlot(e.plotX,e.plotY),y&&e.shapeArgs?(c=e.shapeArgs,s=d(s,{x:(u=this.yAxis.postTranslate(((c.start||0)+(c.end||0))/2-this.xAxis.startAngleRad,e.barX+e.pointWidth/2)).x-g.plotLeft,y:u.y-g.plotTop})):e.tooltipPos&&(s=d(s,{x:e.tooltipPos[0],y:e.tooltipPos[1]})),r.align=f(r.align,"center"),r.verticalAlign=f(r.verticalAlign,"middle")):(null===(n=r).align&&(l=p>20&&p<160?"left":p>200&&p<340?"right":"center",n.align=l),null===n.verticalAlign&&(h=p<45||p>315?"bottom":p>135&&p<225?"top":"middle",n.verticalAlign=h),r=n),i.prototype.alignDataLabel.call(this,e,o,r,s,a),this.isRadialBar&&e.shapeArgs&&e.shapeArgs.start===e.shapeArgs.end?o.hide():o.show()):t.call(this,e,o,r,s,a)}function N(){var t,e,i,o,r,a,n,l,h,c,d,f,g,b=this.options,m=b.stacking,v=this.chart,x=this.xAxis,P=this.yAxis,S=P.reversed,M=P.center,C=x.startAngleRad,w=x.endAngleRad-C,L=b.threshold,k=0,A=0,T=0;if(x.isRadial)for(i=(t=this.points).length,o=P.translate(P.min),r=P.translate(P.max),L=b.threshold||0,v.inverted&&u(L)&&p(k=P.translate(L))&&(k<0?k=0:k>w&&(k=w),this.translatedThreshold=k+C);i--;){if(d=(e=t[i]).barX,n=e.x,l=e.y,e.shapeType="arc",v.inverted){e.plotY=P.translate(l),m&&P.stacking?(c=P.stacking.stacks[(l<0?"-":"")+this.stackKey],this.visible&&c&&c[n]&&!e.isNull&&(h=c[n].points[this.getStackIndicator(void 0,n,this.index).key],A=P.translate(h[0]),T=P.translate(h[1]),p(A)&&(A=s.clamp(A,0,w)))):(A=k,T=e.plotY),A>T&&(T=[A,A=T][0]),S?T>o?T=o:A<r?A=r:(A>o||T<r)&&(A=T=w):A<o?A=o:T>r?T=r:(T<o||A>r)&&(A=T=0),P.min>P.max&&(A=T=S?w:0),A+=C,T+=C,M&&(e.barX=d+=M[3]/2),f=Math.max(d,0),g=Math.max(d+e.pointWidth,0);var j=b.borderRadius,N=y(("object"==typeof j?j.radius:j)||0,g-f);e.shapeArgs={x:M[0],y:M[1],r:g,innerR:f,start:A,end:T,borderRadius:N},e.opacity=A===T?0:void 0,e.plotY=(p(this.translatedThreshold)&&(A<this.translatedThreshold?A:T))-C}else A=d+C,e.shapeArgs=this.polar.arc(e.yBottom,e.plotY,A,A+e.pointWidth),e.shapeArgs.borderRadius=0;this.polar.toXY(e),v.inverted?(a=P.postTranslate(e.rectPlotY,d+e.pointWidth/2),e.tooltipPos=[a.x-v.plotLeft,a.y-v.plotTop]):e.tooltipPos=[e.plotX,e.plotY],M&&(e.ttBelow=e.plotY>M[1])}}function X(t,e){var i,o,r=this;if(this.chart.polar){e=e||this.points;for(var s=0;s<e.length;s++)if(!e[s].isNull){i=s;break}!1!==this.options.connectEnds&&void 0!==i&&(this.connectEnds=!0,e.splice(e.length,0,e[i]),o=!0),e.forEach(function(t){void 0===t.polarPlotY&&r.polar.toXY(t)})}var a=t.apply(this,[].slice.call(arguments,1));return o&&e.pop(),a}function O(t,e){var i=this.chart,o={xAxis:[],yAxis:[]};return i.polar?i.axes.forEach(function(t){if("colorAxis"!==t.coll){var r=t.isXAxis,s=t.center,a=e.chartX-s[0]-i.plotLeft,n=e.chartY-s[1]-i.plotTop;o[r?"xAxis":"yAxis"].push({axis:t,value:t.translate(r?Math.PI-Math.atan2(a,n):Math.sqrt(Math.pow(a,2)+Math.pow(n,2)),!0)})}}):o=t.call(this,e),o}function R(t,e){this.chart.polar||t.call(this,e)}function _(t,i){var o,r,s,a,l,h,p=this,c=this.chart,u=this.group,d=this.markerGroup,g=this.xAxis&&this.xAxis.center,y=c.plotLeft,b=c.plotTop,m=this.options.animation;c.polar?p.isRadialBar?i||(p.startAngleRad=f(p.translatedThreshold,p.xAxis.startAngleRad),e.seriesTypes.pie.prototype.animate.call(p,i)):(m=n(m),p.is("column")?i||(r=g[3]/2,p.points.forEach(function(t){s=t.graphic,l=(a=t.shapeArgs)&&a.r,h=a&&a.innerR,s&&a&&(s.attr({r:r,innerR:r}),s.animate({r:l,innerR:h},p.options.animation))})):i?(o={translateX:g[0]+y,translateY:g[1]+b,scaleX:.001,scaleY:.001},u.attr(o),d&&d.attr(o)):(o={translateX:y,translateY:b,scaleX:1,scaleY:1},u.animate(o,m),d&&d.animate(o,m))):t.call(this,i)}function Y(t,e,i,o){var r,s;if(this.chart.polar){if(o){var a=(s=function t(e,i,o,r){var s,a,n,l,h,p,c=r?1:0,u=(s=i>=0&&i<=e.length-1?i:i<0?e.length-1+i:0)-1<0?e.length-(1+c):s-1,d=s+1>e.length-1?c:s+1,f=e[u],g=e[d],y=f.plotX,b=f.plotY,m=g.plotX,v=g.plotY,x=e[s].plotX,P=e[s].plotY;a=(1.5*x+y)/2.5,n=(1.5*P+b)/2.5,l=(1.5*x+m)/2.5,h=(1.5*P+v)/2.5;var S=Math.sqrt(Math.pow(a-x,2)+Math.pow(n-P,2)),M=Math.sqrt(Math.pow(l-x,2)+Math.pow(h-P,2)),C=Math.atan2(n-P,a-x);p=Math.PI/2+(C+Math.atan2(h-P,l-x))/2,Math.abs(C-p)>Math.PI/2&&(p-=Math.PI),a=x+Math.cos(p)*S,n=P+Math.sin(p)*S;var w={rightContX:l=x+Math.cos(Math.PI+p)*M,rightContY:h=P+Math.sin(Math.PI+p)*M,leftContX:a,leftContY:n,plotX:x,plotY:P};return o&&(w.prevPointCont=t(e,u,!1,r)),w}(e,o,!0,this.connectEnds)).prevPointCont&&s.prevPointCont.rightContX,n=s.prevPointCont&&s.prevPointCont.rightContY;r=["C",u(a)?a:s.plotX,u(n)?n:s.plotY,u(s.leftContX)?s.leftContX:s.plotX,u(s.leftContY)?s.leftContY:s.plotY,s.plotX,s.plotY]}else r=["M",i.plotX,i.plotY]}else r=t.call(this,e,i,o);return r}function E(t,e,i){if(void 0===i&&(i=this.plotY),!this.destroyed){var o=this.plotX,r=this.series.chart;return r.polar&&u(o)&&u(i)?[o+(e?r.plotLeft:0),i+(e?r.plotTop:0)]:t.call(this,e,i)}}var I=function(){function t(t){this.series=t}return t.compose=function(t,e,i,s,a,n,p,c,u,d){if(o.compose(e,i),r.compose(t,a),g(l,"Polar")){var f=e.prototype,y=n.prototype,b=i.prototype,m=s.prototype;if(h(e,"afterDrawChartBox",x),h(e,"getAxes",S),h(e,"init",P),v(f,"get",T),v(b,"getCoordinates",O),v(b,"pinch",R),h(i,"getSelectionMarkerAttrs",C),h(i,"getSelectionBox",M),h(s,"afterInit",w),h(s,"afterTranslate",L,{order:2}),h(s,"afterColumnTranslate",N,{order:4}),v(m,"animate",_),v(y,"pos",E),c){var k=c.prototype;v(k,"alignDataLabel",j),v(k,"animate",_)}if(u&&v(u.prototype,"getGraphPath",X),d){var A=d.prototype;v(A,"getPointSpline",Y),p&&(p.prototype.getPointSpline=A.getPointSpline)}}},t.prototype.arc=function(t,e,i,o){var r=this.series,s=r.xAxis.center,a=r.yAxis.len,n=s[3]/2,l=a-e+n,h=a-f(t,a)+n;return r.yAxis.reversed&&(l<0&&(l=n),h<0&&(h=n)),{x:s[0],y:s[1],r:l,innerR:h,start:i,end:o}},t.prototype.toXY=function(t){var e,i=this.series,o=i.chart,r=i.xAxis,s=i.yAxis,a=t.plotX,n=o.inverted,l=t.y,h=t.plotY,p=n?a:s.len-h;if(n&&i&&!i.isRadialBar&&(t.plotY=h=u(l)?s.translate(l):0),t.rectPlotX=a,t.rectPlotY=h,s.center&&(p+=s.center[3]/2),u(h)){var c=n?s.postTranslate(h,p):r.postTranslate(a,p);t.plotX=t.polarPlotX=c.x-o.plotLeft,t.plotY=t.polarPlotY=c.y-o.plotTop}i.kdByAngle?((e=(a/Math.PI*180+r.pane.options.startAngle)%360)<0&&(e+=360),t.clientX=e):t.clientX=t.plotX},t}();return I}),i(e,"Core/Axis/WaterfallAxis.js",[e["Core/Globals.js"],e["Core/Axis/Stacking/StackItem.js"],e["Core/Utilities.js"]],function(t,e,i){var o,r=t.composed,s=i.addEvent,a=i.objectEach,n=i.pushUnique;return function(t){function i(){var t=this.waterfall.stacks;t&&(t.changed=!1,delete t.alreadyChanged)}function o(){var t=this.options.stackLabels;t&&t.enabled&&this.waterfall.stacks&&this.waterfall.renderStackTotals()}function l(){this.waterfall||(this.waterfall=new p(this))}function h(){for(var t=this.axes,e=this.series,i=0;i<e.length;i++)if(e[i].options.stacking){for(var o=0;o<t.length;o++){var r=t[o];r.isXAxis||(r.waterfall.stacks.changed=!0)}break}}t.compose=function(t,e){n(r,"Axis.Waterfall")&&(s(t,"init",l),s(t,"afterBuildStacks",i),s(t,"afterRender",o),s(e,"beforeRedraw",h))};var p=function(){function t(t){this.axis=t,this.stacks={changed:!1}}return t.prototype.renderStackTotals=function(){var t=this.axis,i=t.waterfall.stacks,o=t.stacking&&t.stacking.stackTotalGroup,r=new e(t,t.options.stackLabels||{},!1,0,void 0);this.dummyStackItem=r,o&&a(i,function(t){a(t,function(t,i){r.total=t.stackTotal,r.x=+i,t.label&&(r.label=t.label),e.prototype.render.call(r,o),t.label=r.label,delete r.label})}),r.total=null},t}();t.Composition=p}(o||(o={})),o}),i(e,"Series/Waterfall/WaterfallPoint.js",[e["Series/Column/ColumnSeries.js"],e["Core/Series/Point.js"],e["Core/Utilities.js"]],function(t,e,i){var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=i.isNumber;return function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return r(i,t),i.prototype.getClassName=function(){var t=e.prototype.getClassName.call(this);return this.isSum?t+=" highcharts-sum":this.isIntermediateSum&&(t+=" highcharts-intermediate-sum"),t},i.prototype.isValid=function(){return s(this.y)||this.isSum||!!this.isIntermediateSum},i}(t.prototype.pointClass)}),i(e,"Series/Waterfall/WaterfallSeriesDefaults.js",[],function(){return{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}}}),i(e,"Series/Waterfall/WaterfallSeries.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"],e["Core/Axis/WaterfallAxis.js"],e["Series/Waterfall/WaterfallPoint.js"],e["Series/Waterfall/WaterfallSeriesDefaults.js"]],function(t,e,i,o,r){var s,a=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),n=t.seriesTypes,l=n.column,h=n.line,p=e.addEvent,c=e.arrayMax,u=e.arrayMin,d=e.correctFloat,f=e.crisp,g=e.extend,y=e.isNumber,b=e.merge,m=e.objectEach,v=e.pick;function x(t,e){return Object.hasOwnProperty.call(t,e)}var P=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.generatePoints=function(){l.prototype.generatePoints.apply(this);for(var t=0,e=this.points.length;t<e;t++){var i=this.points[t],o=this.processedYData[t];y(o)&&(i.isIntermediateSum||i.isSum)&&(i.y=d(o))}},e.prototype.processData=function(e){var i,o,r,s,a,n,l=this.options,h=this.yData,p=l.data,c=h.length,u=l.threshold||0;r=o=s=a=0;for(var f=0;f<c;f++)n=h[f],i=p&&p[f]?p[f]:{},"sum"===n||i.isSum?h[f]=d(r):"intermediateSum"===n||i.isIntermediateSum?(h[f]=d(o),o=0):(r+=n,o+=n),s=Math.min(r,s),a=Math.max(r,a);t.prototype.processData.call(this,e),l.stacking||(this.dataMin=s+u,this.dataMax=a)},e.prototype.toYData=function(t){return t.isSum?"sum":t.isIntermediateSum?"intermediateSum":t.y},e.prototype.updateParallelArrays=function(e,i){t.prototype.updateParallelArrays.call(this,e,i),("sum"===this.yData[0]||"intermediateSum"===this.yData[0])&&(this.yData[0]=null)},e.prototype.pointAttribs=function(t,e){var i=this.options.upColor;i&&!t.options.color&&y(t.y)&&(t.color=t.y>0?i:void 0);var o=l.prototype.pointAttribs.call(this,t,e);return delete o.dashstyle,o},e.prototype.getGraphPath=function(){return[["M",0,0]]},e.prototype.getCrispPath=function(){for(var t,e=this.data.filter(function(t){return y(t.y)}),i=this.yAxis,o=e.length,r=(null===(t=this.graph)||void 0===t?void 0:t.strokeWidth())||0,s=this.xAxis.reversed,a=this.yAxis.reversed,n=this.options.stacking,l=[],h=1;h<o;h++)if(this.options.connectNulls||y(this.data[e[h].index-1].y)){var p=e[h].box,c=e[h-1],u=c.y||0,d=e[h-1].box;if(p&&d){var g=i.waterfall.stacks[this.stackKey],b=u>0?-d.height:0;if(g&&d&&p){var m=g[h-1],v=void 0;if(n){var x=m.connectorThreshold;v=f(i.translate(x,!1,!0,!1,!0)+(a?b:0),r)}else v=f(d.y+(c.minPointLengthOffset||0),r);l.push(["M",(d.x||0)+(s?0:d.width||0),v],["L",(p.x||0)+(s&&p.width||0),v])}if(d&&l.length&&(!n&&u<0&&!a||u>0&&a)){var P=l[l.length-2];P&&"number"==typeof P[2]&&(P[2]+=d.height||0);var S=l[l.length-1];S&&"number"==typeof S[2]&&(S[2]+=d.height||0)}}}return l},e.prototype.drawGraph=function(){h.prototype.drawGraph.call(this),this.graph&&this.graph.attr({d:this.getCrispPath()})},e.prototype.setStackedPoints=function(t){var e,i,o,r,s,a,n,l,h,p,c=this.options,u=null===(e=t.waterfall)||void 0===e?void 0:e.stacks,d=c.threshold||0,f=this.stackKey,g=this.xData,y=g.length,b=d,m=b,v=0,x=0,P=0,S=function(t,e,r,s){if(i){if(o)for(;r<o;r++)i.stackState[r]+=s;else i.stackState[0]=t,o=i.stackState.length;i.stackState.push(i.stackState[o-1]+e)}};if(t.stacking&&u&&this.reserveSpace()){p=u.changed,(h=u.alreadyChanged)&&0>h.indexOf(f)&&(p=!0),u[f]||(u[f]={});var M=u[f];if(M)for(var C=0;C<y;C++)(!M[l=g[C]]||p)&&(M[l]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:p&&M[l]?M[l].label:void 0}),i=M[l],(n=this.yData[C])>=0?i.posTotal+=n:i.negTotal+=n,a=c.data[C],r=i.absolutePos=i.posTotal,s=i.absoluteNeg=i.negTotal,i.stackTotal=r+s,o=i.stackState.length,a&&a.isIntermediateSum?(S(P,x,0,P),P=x,x=d,b^=m,m^=b,b^=m):a&&a.isSum?(S(d,v,o,0),b=d):(S(b,n,0,v),a&&(v+=n,x+=n)),i.stateIndex++,i.threshold=b,b+=i.stackTotal;u.changed=!1,u.alreadyChanged||(u.alreadyChanged=[]),u.alreadyChanged.push(f)}},e.prototype.getExtremes=function(){var t,e,i,o=this.options.stacking;return o?(t=this.yAxis.waterfall.stacks,e=this.stackedYNeg=[],i=this.stackedYPos=[],"overlap"===o?m(t[this.stackKey],function(t){e.push(u(t.stackState)),i.push(c(t.stackState))}):m(t[this.stackKey],function(t){e.push(t.negTotal+t.threshold),i.push(t.posTotal+t.threshold)}),{dataMin:u(e),dataMax:c(i)}):{dataMin:this.dataMin,dataMax:this.dataMax}},e.defaultOptions=b(l.defaultOptions,r),e.compose=i.compose,e}(l);return g(P.prototype,{pointValKey:"y",showLine:!0,pointClass:o}),p(P,"afterColumnTranslate",function(){for(var t,e,i,o,r=this.options,s=this.points,a=this.yAxis,n=v(r.minPointLength,5),l=n/2,h=r.threshold||0,p=r.stacking,c=a.waterfall.stacks[this.stackKey],u=h,d=h,m=0;m<s.length;m++){var P=s[m],S=this.processedYData[m],M=g({x:0,y:0,width:0,height:0},P.shapeArgs||{});P.box=M;var C=[0,S],w=P.y||0;if(p){if(c){var L=c[m];"overlap"===p?(e=L.stackState[L.stateIndex--],t=w>=0?e:e-w,x(L,"absolutePos")&&delete L.absolutePos,x(L,"absoluteNeg")&&delete L.absoluteNeg):(w>=0?(e=L.threshold+L.posTotal,L.posTotal-=w,t=e):(e=L.threshold+L.negTotal,L.negTotal-=w,t=e-w),!L.posTotal&&y(L.absolutePos)&&x(L,"absolutePos")&&(L.posTotal=L.absolutePos,delete L.absolutePos),!L.negTotal&&y(L.absoluteNeg)&&x(L,"absoluteNeg")&&(L.negTotal=L.absoluteNeg,delete L.absoluteNeg)),P.isSum||(L.connectorThreshold=L.threshold+L.stackTotal),a.reversed?(i=w>=0?t-w:t+w,o=t):(i=t,o=t-w),P.below=i<=h,M.y=a.translate(i,!1,!0,!1,!0),M.height=Math.abs(M.y-a.translate(o,!1,!0,!1,!0));var k=a.waterfall.dummyStackItem;k&&(k.x=m,k.label=c[m].label,k.setOffset(this.pointXOffset||0,this.barW||0,this.stackedYNeg[m],this.stackedYPos[m],void 0,this.xAxis))}}else t=Math.max(d,d+w)+C[0],M.y=a.translate(t,!1,!0,!1,!0),P.isSum?(M.y=a.translate(C[1],!1,!0,!1,!0),M.height=Math.min(a.translate(C[0],!1,!0,!1,!0),a.len)-M.y,P.below=C[1]<=h):P.isIntermediateSum?(w>=0?(i=C[1]+u,o=u):(i=u,o=C[1]+u),a.reversed&&(i^=o,o^=i,i^=o),M.y=a.translate(i,!1,!0,!1,!0),M.height=Math.abs(M.y-Math.min(a.translate(o,!1,!0,!1,!0),a.len)),u+=C[1],P.below=i<=h):(M.height=S>0?a.translate(d,!1,!0,!1,!0)-M.y:a.translate(d,!1,!0,!1,!0)-a.translate(d-S,!1,!0,!1,!0),d+=S,P.below=d<h),M.height<0&&(M.y+=M.height,M.height*=-1);P.plotY=M.y,P.yBottom=M.y+M.height,M.height<=n&&!P.isNull?(M.height=n,M.y-=l,P.yBottom=M.y+M.height,P.plotY=M.y,w<0?P.minPointLengthOffset=-l:P.minPointLengthOffset=l):(P.isNull&&(M.width=0),P.minPointLengthOffset=0);var A=P.plotY+(P.negative?M.height:0);P.below&&(P.plotY+=M.height),P.tooltipPos&&(this.chart.inverted?P.tooltipPos[0]=a.len-A:P.tooltipPos[1]=A),P.isInside=this.isPointInside(P);var T=f(P.yBottom,this.borderWidth);M.y=f(M.y,this.borderWidth),M.height=T-M.y,b(!0,P.shapeArgs,M)}},{order:2}),t.registerSeriesType("waterfall",P),P}),i(e,"masters/highcharts-more.src.js",[e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Extensions/Pane/Pane.js"],e["Series/Bubble/BubbleSeries.js"],e["Series/PackedBubble/PackedBubbleSeries.js"],e["Series/PolarComposition.js"],e["Core/Axis/RadialAxis.js"],e["Series/Waterfall/WaterfallSeries.js"]],function(t,e,i,o,r,s,a,n){return t.RadialAxis=a,o.compose(t.Axis,t.Chart,t.Legend),r.compose(t.Axis,t.Chart,t.Legend),i.compose(t.Chart,t.Pointer),s.compose(t.Axis,t.Chart,t.Pointer,t.Series,t.Tick,t.Point,e.seriesTypes.areasplinerange,e.seriesTypes.column,e.seriesTypes.line,e.seriesTypes.spline),n.compose(t.Axis,t.Chart),t})});