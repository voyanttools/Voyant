{"version":3,"sources":["<anon>"],"sourcesContent":["/**\n * @license Highcharts JS v11.4.8 (2024-08-29)\n *\n * (c) 2009-2024 Torstein Honsi\n *\n * License: www.highcharts.com/license\n */\n(function (factory) {\n    if (typeof module === 'object' && module.exports) {\n        factory['default'] = factory;\n        module.exports = factory;\n    } else if (typeof define === 'function' && define.amd) {\n        define('highcharts/modules/draggable-points', ['highcharts'], function (Highcharts) {\n            factory(Highcharts);\n            factory.Highcharts = Highcharts;\n            return factory;\n        });\n    } else {\n        factory(typeof Highcharts !== 'undefined' ? Highcharts : undefined);\n    }\n}(function (Highcharts) {\n    'use strict';\n    var _modules = Highcharts ? Highcharts._modules : {};\n    function _registerModule(obj, path, args, fn) {\n        if (!obj.hasOwnProperty(path)) {\n            obj[path] = fn.apply(null, args);\n\n            if (typeof CustomEvent === 'function') {\n                Highcharts.win.dispatchEvent(new CustomEvent(\n                    'HighchartsModuleLoaded',\n                    { detail: { path: path, module: obj[path] } }\n                ));\n            }\n        }\n    }\n    _registerModule(_modules, 'Extensions/DraggablePoints/DragDropUtilities.js', [_modules['Core/Utilities.js']], function (U) {\n        /* *\n         *\n         *  (c) 2009-2024 Highsoft AS\n         *\n         *  Authors: Øystein Moseng, Torstein Hønsi, Jon A. Nygård\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var addEvent = U.addEvent;\n        /* *\n         *\n         *  Functions\n         *\n         * */\n        /**\n         * Add multiple event listeners with the same handler to the same element.\n         *\n         * @private\n         * @function addEvents\n         * @param {T} el\n         *        The element or object to add listeners to.\n         * @param {Array<string>} types\n         *        Array with the event types this handler should apply to.\n         * @param {Function|Highcharts.EventCallbackFunction<T>} fn\n         *        The function callback to execute when the events are fired.\n         * @param {Highcharts.EventOptionsObject} [options]\n         *        Event options:\n         *        - `order`: The order the event handler should be called. This opens\n         *          for having one handler be called before another, independent of in\n         *          which order they were added.\n         * @return {Function}\n         *         A callback function to remove the added events.\n         * @template T\n         */\n        function addEvents(el, types, fn, options) {\n            var removeFuncs = types.map(function (type) { return addEvent(el, type, fn, options); });\n            return function () {\n                for (var _i = 0, removeFuncs_1 = removeFuncs; _i < removeFuncs_1.length; _i++) {\n                    var fn_1 = removeFuncs_1[_i];\n                    fn_1();\n                }\n            };\n        }\n        /**\n         * Utility function to count the number of props in an object.\n         *\n         * @private\n         * @function countProps\n         *\n         * @param {Object} obj\n         *        The object to count.\n         *\n         * @return {number}\n         *         Number of own properties on the object.\n         */\n        function countProps(obj) {\n            return Object.keys(obj).length;\n        }\n        /**\n         * Utility function to get the value of the first prop of an object. (Note that\n         * the order of keys in an object is usually not guaranteed.)\n         *\n         * @private\n         * @function getFirstProp\n         * @param {Highcharts.Dictionary<T>} obj\n         *        The object to count.\n         * @return {T}\n         *         Value of the first prop in the object.\n         * @template T\n         */\n        function getFirstProp(obj) {\n            for (var p in obj) {\n                if (Object.hasOwnProperty.call(obj, p)) {\n                    return obj[p];\n                }\n            }\n        }\n        /**\n         * Take a mouse/touch event and return the event object with chartX/chartY.\n         *\n         * @private\n         * @function getNormalizedEvent\n         * @param {global.PointerEvent} e\n         *        The event to normalize.\n         * @param {Highcharts.Chart} chart\n         *        The related chart.\n         * @return {Highcharts.PointerEventLObject}\n         *         The normalized event.\n         */\n        function getNormalizedEvent(e, chart) {\n            var _a;\n            return (typeof e.chartX === 'undefined' ||\n                typeof e.chartY === 'undefined' ?\n                ((_a = chart.pointer) === null || _a === void 0 ? void 0 : _a.normalize(e)) || e :\n                e);\n        }\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n        var DragDropUtilities = {\n            addEvents: addEvents,\n            countProps: countProps,\n            getFirstProp: getFirstProp,\n            getNormalizedEvent: getNormalizedEvent\n        };\n\n        return DragDropUtilities;\n    });\n    _registerModule(_modules, 'Extensions/DraggablePoints/DragDropDefaults.js', [], function () {\n        /* *\n         *\n         *  (c) 2009-2024 Highsoft AS\n         *\n         *  Authors: Øystein Moseng, Torstein Hønsi, Jon A. Nygård\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        /* *\n         *\n         *  API Options\n         *\n         * */\n        /**\n         * The draggable-points module allows points to be moved around or modified in\n         * the chart. In addition to the options mentioned under the `dragDrop` API\n         * structure, the module fires three events,\n         * [point.dragStart](plotOptions.series.point.events.dragStart),\n         * [point.drag](plotOptions.series.point.events.drag) and\n         * [point.drop](plotOptions.series.point.events.drop).\n         *\n         * @sample {highcharts|highstock}\n         *         highcharts/dragdrop/resize-column\n         *         Draggable column and line series\n         * @sample {highcharts|highstock}\n         *         highcharts/dragdrop/bar-series\n         *         Draggable bar\n         * @sample {highcharts|highstock}\n         *         highcharts/dragdrop/drag-bubble\n         *         Draggable bubbles\n         * @sample {highcharts|highstock}\n         *         highcharts/dragdrop/drag-xrange\n         *         Draggable X range series\n         * @sample {highcharts|highstock}\n         *         highcharts/dragdrop/undraggable-points\n         *         Dragging disabled for specific points\n         * @sample {highmaps}\n         *         maps/series/draggable-mappoint\n         *         Draggable Map Point series\n         *\n         * @declare      Highcharts.SeriesDragDropOptionsObject\n         * @since        6.2.0\n         * @requires     modules/draggable-points\n         * @optionparent plotOptions.series.dragDrop\n         */\n        var DragDropDefaults = {\n            /**\n             * Set the minimum X value the points can be moved to.\n             *\n             * @sample {gantt} gantt/dragdrop/drag-gantt\n             *         Limit dragging\n             * @sample {highcharts} highcharts/dragdrop/drag-xrange\n             *         Limit dragging\n             *\n             * @type      {number}\n             * @since     6.2.0\n             * @apioption plotOptions.series.dragDrop.dragMinX\n             */\n            /**\n             * Set the maximum X value the points can be moved to.\n             *\n             * @sample {gantt} gantt/dragdrop/drag-gantt\n             *         Limit dragging\n             * @sample {highcharts} highcharts/dragdrop/drag-xrange\n             *         Limit dragging\n             *\n             * @type      {number}\n             * @since     6.2.0\n             * @apioption plotOptions.series.dragDrop.dragMaxX\n             */\n            /**\n             * Set the minimum Y value the points can be moved to.\n             *\n             * @sample {gantt} gantt/dragdrop/drag-gantt\n             *         Limit dragging\n             * @sample {highcharts} highcharts/dragdrop/drag-xrange\n             *         Limit dragging\n             *\n             * @type      {number}\n             * @since     6.2.0\n             * @apioption plotOptions.series.dragDrop.dragMinY\n             */\n            /**\n             * Set the maximum Y value the points can be moved to.\n             *\n             * @sample {gantt} gantt/dragdrop/drag-gantt\n             *         Limit dragging\n             * @sample {highcharts} highcharts/dragdrop/drag-xrange\n             *         Limit dragging\n             *\n             * @type      {number}\n             * @since     6.2.0\n             * @apioption plotOptions.series.dragDrop.dragMaxY\n             */\n            /**\n             * The X precision value to drag to for this series. Set to 0 to disable. By\n             * default this is disabled, except for category axes, where the default is\n             * `1`.\n             *\n             * @type      {number}\n             * @default   0\n             * @since     6.2.0\n             * @apioption plotOptions.series.dragDrop.dragPrecisionX\n             */\n            /**\n             * The Y precision value to drag to for this series. Set to 0 to disable. By\n             * default this is disabled, except for category axes, where the default is\n             * `1`.\n             *\n             * @type      {number}\n             * @default   0\n             * @since     6.2.0\n             * @apioption plotOptions.series.dragDrop.dragPrecisionY\n             */\n            /**\n             * Enable dragging in the X dimension.\n             *\n             * @type      {boolean}\n             * @since     6.2.0\n             * @apioption plotOptions.series.dragDrop.draggableX\n             */\n            /**\n             * Enable dragging in the Y dimension. Note that this is not supported for\n             * TreeGrid axes (the default axis type in Gantt charts).\n             *\n             * @type      {boolean}\n             * @since     6.2.0\n             * @apioption plotOptions.series.dragDrop.draggableY\n             */\n            /**\n             * Group the points by a property. Points with the same property value will\n             * be grouped together when moving.\n             *\n             * @sample {gantt} gantt/dragdrop/drag-gantt\n             *         Drag grouped points\n             * @sample {highcharts} highcharts/dragdrop/drag-xrange\n             *         Drag grouped points\n             *\n             * @type      {string}\n             * @since     6.2.0\n             * @apioption plotOptions.series.dragDrop.groupBy\n             */\n            /**\n             * Update points as they are dragged. If false, a guide box is drawn to\n             * illustrate the new point size.\n             *\n             * @sample {gantt} gantt/dragdrop/drag-gantt\n             *         liveRedraw disabled\n             * @sample {highcharts} highcharts/dragdrop/drag-xrange\n             *         liveRedraw disabled\n             *\n             * @type      {boolean}\n             * @default   true\n             * @since     6.2.0\n             * @apioption plotOptions.series.dragDrop.liveRedraw\n             */\n            /**\n             * Set a key to hold when dragging to zoom the chart. This is useful to\n             * avoid zooming while moving points. Should be set different than\n             * [chart.panKey](#chart.panKey).\n             *\n             * @type       {string}\n             * @since      6.2.0\n             * @validvalue [\"alt\", \"ctrl\", \"meta\", \"shift\"]\n             * @deprecated\n             * @requires  modules/draggable-points\n             * @apioption  chart.zoomKey\n             */\n            /**\n             * Callback that fires when starting to drag a point. The mouse event object\n             * is passed in as an argument. If a drag handle is used, `e.updateProp` is\n             * set to the data property being dragged. The `this` context is the point.\n             * See [drag and drop options](plotOptions.series.dragDrop).\n             *\n             * @sample {highcharts} highcharts/dragdrop/drag-xrange\n             *         Drag events\n             *\n             * @type      {Highcharts.PointDragStartCallbackFunction}\n             * @since     6.2.0\n             * @requires  modules/draggable-points\n             * @apioption plotOptions.series.point.events.dragStart\n             */\n            /**\n             * Callback that fires while dragging a point. The mouse event is passed in\n             * as parameter. The original data can be accessed from `e.origin`, and the\n             * new point values can be accessed from `e.newPoints`. If there is only a\n             * single point being updated, it can be accessed from `e.newPoint` for\n             * simplicity, and its ID can be accessed from `e.newPointId`. The `this`\n             * context is the point being dragged. To stop the default drag action,\n             * return false. See [drag and drop options](plotOptions.series.dragDrop).\n             *\n             * @sample {highcharts} highcharts/dragdrop/drag-xrange\n             *         Drag events\n             * @sample {highcharts|highstock} highcharts/dragdrop/undraggable-points\n             *         Dragging disabled for specific points\n             *\n             * @type      {Highcharts.PointDragCallbackFunction}\n             * @since     6.2.0\n             * @requires  modules/draggable-points\n             * @apioption plotOptions.series.point.events.drag\n             */\n            /**\n             * Callback that fires when the point is dropped. The parameters passed are\n             * the same as for [drag](#plotOptions.series.point.events.drag). To stop\n             * the default drop action, return false. See\n             * [drag and drop options](plotOptions.series.dragDrop).\n             *\n             * @sample {highcharts} highcharts/dragdrop/drag-xrange\n             *         Drag events\n             * @sample {highcharts|highstock} highcharts/dragdrop/undraggable-points\n             *         Dragging disabled for specific points\n             *\n             * @type      {Highcharts.PointDropCallbackFunction}\n             * @since     6.2.0\n             * @requires  modules/draggable-points\n             * @apioption plotOptions.series.point.events.drop\n             */\n            /**\n             * Point specific options for the draggable-points module. Overrides options\n             * on `series.dragDrop`.\n             *\n             * @declare   Highcharts.SeriesLineDataDragDropOptions\n             * @extends   plotOptions.series.dragDrop\n             * @since     6.2.0\n             * @requires  modules/draggable-points\n             * @apioption series.line.data.dragDrop\n             */\n            /**\n             * The amount of pixels to drag the pointer before it counts as a drag\n             * operation. This prevents drag/drop to fire when just clicking or\n             * selecting points.\n             *\n             * @type      {number}\n             * @default   2\n             * @since     6.2.0\n             */\n            dragSensitivity: 2,\n            /**\n             * Options for the drag handles available in column series.\n             *\n             * @declare      Highcharts.DragDropHandleOptionsObject\n             * @since        6.2.0\n             * @optionparent plotOptions.column.dragDrop.dragHandle\n             */\n            dragHandle: {\n                /**\n                 * Function to define the SVG path to use for the drag handles. Takes\n                 * the point as argument. Should return an SVG path in array format. The\n                 * SVG path is automatically positioned on the point.\n                 *\n                 * @type      {Function}\n                 * @since     6.2.0\n                 * @apioption plotOptions.column.dragDrop.dragHandle.pathFormatter\n                 */\n                // pathFormatter: null,\n                /**\n                 * The mouse cursor to use for the drag handles. By default this is\n                 * intelligently switching between `ew-resize` and `ns-resize` depending on\n                 * the direction the point is being dragged.\n                 *\n                 * @type      {string}\n                 * @since     6.2.0\n                 * @apioption plotOptions.column.dragDrop.dragHandle.cursor\n                 */\n                // cursor: null,\n                /**\n                 * The class name of the drag handles. Defaults to `highcharts-drag-handle`.\n                 *\n                 * @since 6.2.0\n                 */\n                className: 'highcharts-drag-handle',\n                /**\n                 * The fill color of the drag handles.\n                 *\n                 * @type  {Highcharts.ColorString|Highcharts.GradientColorObject|Highcharts.PatternObject}\n                 * @since 6.2.0\n                 */\n                color: '#fff',\n                /**\n                 * The line color of the drag handles.\n                 *\n                 * @type  {Highcharts.ColorString}\n                 * @since 6.2.0\n                 */\n                lineColor: 'rgba(0, 0, 0, 0.6)',\n                /**\n                 * The line width for the drag handles.\n                 *\n                 * @since 6.2.0\n                 */\n                lineWidth: 1,\n                /**\n                 * The z index for the drag handles.\n                 *\n                 * @since 6.2.0\n                 */\n                zIndex: 901\n            },\n            /**\n             * Style options for the guide box. The guide box has one state by default,\n             * the `default` state.\n             *\n             * @declare Highcharts.PlotOptionsSeriesDragDropGuideBoxOptions\n             * @since 6.2.0\n             * @type  {Highcharts.Dictionary<Highcharts.DragDropGuideBoxOptionsObject>}\n             */\n            guideBox: {\n                /**\n                 * Style options for the guide box default state.\n                 *\n                 * @declare Highcharts.DragDropGuideBoxOptionsObject\n                 * @since   6.2.0\n                 */\n                'default': {\n                    /**\n                     * CSS class name of the guide box in this state. Defaults to\n                     * `highcharts-drag-box-default`.\n                     *\n                     * @since 6.2.0\n                     */\n                    className: 'highcharts-drag-box-default',\n                    /**\n                     * Width of the line around the guide box.\n                     *\n                     * @since 6.2.0\n                     */\n                    lineWidth: 1,\n                    /**\n                     * Color of the border around the guide box.\n                     *\n                     * @type  {Highcharts.ColorString}\n                     * @since 6.2.0\n                     */\n                    lineColor: '#888',\n                    /**\n                     * Guide box fill color.\n                     *\n                     * @type  {Highcharts.ColorString|Highcharts.GradientColorObject|Highcharts.PatternObject}\n                     * @since 6.2.0\n                     */\n                    color: 'rgba(0, 0, 0, 0.1)',\n                    /**\n                     * Guide box cursor.\n                     *\n                     * @since 6.2.0\n                     */\n                    cursor: 'move',\n                    /**\n                     * Guide box zIndex.\n                     *\n                     * @since 6.2.0\n                     */\n                    zIndex: 900\n                }\n            }\n        };\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return DragDropDefaults;\n    });\n    _registerModule(_modules, 'Extensions/DraggablePoints/DraggableChart.js', [_modules['Core/Animation/AnimationUtilities.js'], _modules['Extensions/DraggablePoints/DragDropUtilities.js'], _modules['Extensions/DraggablePoints/DragDropDefaults.js'], _modules['Core/Globals.js'], _modules['Core/Utilities.js']], function (A, DDU, DragDropDefaults, H, U) {\n        /* *\n         *\n         *  (c) 2009-2024 Highsoft AS\n         *\n         *  Authors: Øystein Moseng, Torstein Hønsi, Jon A. Nygård\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var animObject = A.animObject;\n        var addEvents = DDU.addEvents, countProps = DDU.countProps, getFirstProp = DDU.getFirstProp, getNormalizedEvent = DDU.getNormalizedEvent;\n        var doc = H.doc;\n        var addEvent = U.addEvent, merge = U.merge, pick = U.pick;\n        /* *\n         *\n         *  Functions\n         *\n         * */\n        /**\n         * Add events to document and chart if the chart is draggable.\n         *\n         * @private\n         * @function addDragDropEvents\n         * @param {Highcharts.Chart} chart\n         *        The chart to add events to.\n         */\n        function addDragDropEvents(chart) {\n            var container = chart.container;\n            // Only enable if we have a draggable chart\n            if (isChartDraggable(chart)) {\n                addEvents(container, ['mousedown', 'touchstart'], function (e) {\n                    mouseDown(getNormalizedEvent(e, chart), chart);\n                });\n                addEvents(container, ['mousemove', 'touchmove'], function (e) {\n                    mouseMove(getNormalizedEvent(e, chart), chart);\n                }, {\n                    passive: false\n                });\n                addEvent(container, 'mouseleave', function (e) {\n                    mouseUp(getNormalizedEvent(e, chart), chart);\n                });\n                chart.unbindDragDropMouseUp = addEvents(doc, ['mouseup', 'touchend'], function (e) {\n                    mouseUp(getNormalizedEvent(e, chart), chart);\n                }, {\n                    passive: false\n                });\n                // Add flag to avoid doing this again\n                chart.hasAddedDragDropEvents = true;\n                // Add cleanup to make sure we don't pollute document\n                addEvent(chart, 'destroy', function () {\n                    if (chart.unbindDragDropMouseUp) {\n                        chart.unbindDragDropMouseUp();\n                    }\n                });\n            }\n        }\n        /**\n         * Remove the chart's drag handles if they exist.\n         *\n         * @private\n         * @function Highcharts.Chart#hideDragHandles\n         */\n        function chartHideDragHandles() {\n            var chart = this, dragHandles = (chart.dragHandles || {});\n            if (dragHandles) {\n                for (var _i = 0, _a = Object.keys(dragHandles); _i < _a.length; _i++) {\n                    var key = _a[_i];\n                    if (dragHandles[key].destroy) {\n                        dragHandles[key].destroy();\n                    }\n                }\n                delete chart.dragHandles;\n            }\n        }\n        /**\n         * Set the state of the guide box.\n         *\n         * @private\n         * @function Highcharts.Chart#setGuideBoxState\n         * @param {string} state\n         *        The state to set the guide box to.\n         * @param {Highcharts.Dictionary<Highcharts.DragDropGuideBoxOptionsObject>} [options]\n         *        Additional overall guideBox options to consider.\n         * @return {Highcharts.SVGElement}\n         *         The modified guide box.\n         */\n        function chartSetGuideBoxState(state, options) {\n            var guideBox = this.dragGuideBox, guideBoxOptions = merge(DragDropDefaults.guideBox, options), stateOptions = merge(guideBoxOptions['default'], // eslint-disable-line dot-notation\n            guideBoxOptions[state]);\n            return guideBox\n                .attr({\n                'class': stateOptions.className,\n                stroke: stateOptions.lineColor,\n                strokeWidth: stateOptions.lineWidth,\n                fill: stateOptions.color,\n                cursor: stateOptions.cursor,\n                zIndex: stateOptions.zIndex\n            })\n                // Use pointerEvents 'none' to avoid capturing the click event\n                .css({ pointerEvents: 'none' });\n        }\n        /**\n         * Check whether the zoomKey or panKey is pressed.\n         *\n         * @private\n         * @function zoomOrPanKeyPressed\n         * @param {global.Event} e\n         *        A mouse event.\n         * @return {boolean}\n         *         True if the zoom or pan keys are pressed. False otherwise.\n         */\n        function chartZoomOrPanKeyPressed(e) {\n            // Check whether the panKey and zoomKey are set in chart.userOptions\n            var chart = this, chartOptions = chart.options.chart || {}, panKey = chartOptions.panKey && chartOptions.panKey + 'Key', zoomKey = chart.zooming.key && chart.zooming.key + 'Key';\n            return (e[zoomKey] || e[panKey]);\n        }\n        /**\n         * Composes the chart class with essential functions to support draggable\n         * points.\n         *\n         * @private\n         * @function compose\n         *\n         * @param {Highcharts.Chart} ChartClass\n         *        Class constructor of chart.\n         */\n        function compose(ChartClass) {\n            var chartProto = ChartClass.prototype;\n            if (!chartProto.hideDragHandles) {\n                chartProto.hideDragHandles = chartHideDragHandles;\n                chartProto.setGuideBoxState = chartSetGuideBoxState;\n                chartProto.zoomOrPanKeyPressed = chartZoomOrPanKeyPressed;\n                addEvent(ChartClass, 'render', onChartRender);\n            }\n        }\n        /**\n         * Default mouse move handler while dragging. Handles updating points or guide\n         * box.\n         *\n         * @private\n         * @function dragMove\n         * @param {Highcharts.PointerEventObject} e\n         *        The mouse move event.\n         * @param {Highcharts.Point} point\n         *        The point that is dragged.\n         */\n        function dragMove(e, point) {\n            var series = point.series, chart = series.chart, data = chart.dragDropData, options = merge(series.options.dragDrop, point.options.dragDrop), draggableX = options.draggableX, draggableY = options.draggableY, origin = data.origin, updateProp = data.updateProp;\n            var dX = e.chartX - origin.chartX, dY = e.chartY - origin.chartY;\n            var oldDx = dX;\n            // Handle inverted\n            if (chart.inverted) {\n                dX = -dY;\n                dY = -oldDx;\n            }\n            // If we have liveRedraw enabled, update the points immediately. Otherwise\n            // update the guideBox.\n            if (pick(options.liveRedraw, true)) {\n                updatePoints(chart, false);\n                // Update drag handles\n                point.showDragHandles();\n            }\n            else {\n                // No live redraw, update guide box\n                if (updateProp) {\n                    // We are resizing, so resize the guide box\n                    resizeGuideBox(point, dX, dY);\n                }\n                else {\n                    // We are moving, so move the guide box\n                    chart.dragGuideBox.translate(draggableX ? dX : 0, draggableY ? dY : 0);\n                }\n            }\n            // Update stored previous dX/Y\n            origin.prevdX = dX;\n            origin.prevdY = dY;\n        }\n        /**\n         * Flip a side property, used with resizeRect. If input side is \"left\", return\n         * \"right\" etc.\n         *\n         * @private\n         * @function flipResizeSide\n         *\n         * @param {string} side\n         *        Side prop to flip. Can be `left`, `right`, `top` or `bottom`.\n         *\n         * @return {\"bottom\"|\"left\"|\"right\"|\"top\"|undefined}\n         *         The flipped side.\n         */\n        function flipResizeSide(side) {\n            return {\n                left: 'right',\n                right: 'left',\n                top: 'bottom',\n                bottom: 'top'\n            }[side];\n        }\n        /**\n         * Get a list of points that are grouped with this point. If only one point is\n         * in the group, that point is returned by itself in an array.\n         *\n         * @private\n         * @function getGroupedPoints\n         * @param {Highcharts.Point} point\n         *        Point to find group from.\n         * @return {Array<Highcharts.Point>}\n         *         Array of points in this group.\n         */\n        function getGroupedPoints(point) {\n            var series = point.series, data = series.options.data || [], groupKey = series.options.dragDrop.groupBy;\n            var points = [];\n            if (series.boosted) { // #11156\n                for (var i = 0, iEnd = data.length; i < iEnd; ++i) {\n                    points.push(new series.pointClass(// eslint-disable-line new-cap\n                    series, data[i]));\n                    points[points.length - 1].index = i;\n                }\n            }\n            else {\n                points = series.points;\n            }\n            return point.options[groupKey] ?\n                // If we have a grouping option, filter the points by that\n                points.filter(function (comparePoint) { return (comparePoint.options[groupKey] ===\n                    point.options[groupKey]); }) :\n                // Otherwise return the point by itself only\n                [point];\n        }\n        /**\n         * Calculate new point options from points being dragged.\n         *\n         * @private\n         * @function getNewPoints\n         *\n         * @param {Object} dragDropData\n         *        A chart's dragDropData with drag/drop origin information, and info on\n         *        which points are being dragged.\n         *\n         * @param {Highcharts.PointerEventObject} newPos\n         *        Event with the new position of the mouse (chartX/Y properties).\n         *\n         * @return {Highchats.Dictionary<object>}\n         *         Hashmap with point.id mapped to an object with the original point\n         *         reference, as well as the new data values.\n         */\n        function getNewPoints(dragDropData, newPos) {\n            var point = dragDropData.point, series = point.series, chart = series.chart, options = merge(series.options.dragDrop, point.options.dragDrop), updateProps = {}, resizeProp = dragDropData.updateProp, hashmap = {}, dragDropProps = point.series.dragDropProps;\n            // Go through the data props that can be updated on this series and find out\n            // which ones we want to update.\n            // eslint-disable-next-line guard-for-in\n            for (var key in dragDropProps) {\n                var val = dragDropProps[key];\n                // If we are resizing, skip if this key is not the correct one or it\n                // is not resizable.\n                if (resizeProp && (resizeProp !== key ||\n                    !val.resize ||\n                    val.optionName && options[val.optionName] === false)) {\n                    continue;\n                }\n                // If we are resizing, we now know it is good. If we are moving, check\n                // that moving along this axis is enabled, and the prop is movable.\n                // If this prop is enabled, add it to be updated.\n                if (resizeProp || (val.move &&\n                    (val.axis === 'x' && options.draggableX ||\n                        val.axis === 'y' && options.draggableY))) {\n                    if (chart.mapView) {\n                        updateProps[key === 'x' ? 'lon' : 'lat'] = val;\n                    }\n                    else {\n                        updateProps[key] = val;\n                    }\n                }\n            }\n            // Go through the points to be updated and get new options for each of them\n            for (\n            // If resizing).forEach(only update the point we are resizing\n            var _i = 0, _a = resizeProp ?\n                [point] :\n                dragDropData.groupedPoints; \n            // If resizing).forEach(only update the point we are resizing\n            _i < _a.length; \n            // If resizing).forEach(only update the point we are resizing\n            _i++) {\n                var p = _a[_i];\n                hashmap[p.id] = {\n                    point: p,\n                    newValues: p.getDropValues(dragDropData.origin, newPos, updateProps)\n                };\n            }\n            return hashmap;\n        }\n        /**\n         * Get a snapshot of points, mouse position, and guide box dimensions\n         *\n         * @private\n         * @function getPositionSnapshot\n         *\n         * @param {Highcharts.PointerEventObject} e\n         *        Mouse event with mouse position to snapshot.\n         *\n         * @param {Array<Highcharts.Point>} points\n         *        Points to take snapshot of. We store the value of the data properties\n         *        defined in each series' dragDropProps.\n         *\n         * @param {Highcharts.SVGElement} [guideBox]\n         *        The guide box to take snapshot of.\n         *\n         * @return {Object}\n         *         Snapshot object. Point properties are placed in a hashmap with IDs as\n         *         keys.\n         */\n        function getPositionSnapshot(e, points, guideBox) {\n            var res = {\n                chartX: e.chartX,\n                chartY: e.chartY,\n                guideBox: guideBox && {\n                    x: guideBox.attr('x'),\n                    y: guideBox.attr('y'),\n                    width: guideBox.attr('width'),\n                    height: guideBox.attr('height')\n                },\n                points: {}\n            };\n            // Loop over the points and add their props\n            for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n                var point = points_1[_i];\n                var dragDropProps = point.series.dragDropProps || {}, pointProps = {};\n                // Add all of the props defined in the series' dragDropProps to the\n                // snapshot\n                for (var _a = 0, _b = Object.keys(dragDropProps); _a < _b.length; _a++) {\n                    var key = _b[_a];\n                    var val = dragDropProps[key], axis = point.series[val.axis + 'Axis'];\n                    pointProps[key] = point[key];\n                    // Record how far cursor was from the point when drag started.\n                    // This later will be used to calculate new value according to the\n                    // current position of the cursor.\n                    // e.g. `high` value is translated to `highOffset`\n                    if (point.series.chart.mapView && point.plotX && point.plotY) {\n                        pointProps[key + 'Offset'] = key === 'x' ?\n                            point.plotX : point.plotY;\n                    }\n                    else {\n                        pointProps[key + 'Offset'] =\n                            // E.g. yAxis.toPixels(point.high), xAxis.toPixels\n                            // (point.end)\n                            axis.toPixels(point[key]) -\n                                (axis.horiz ? e.chartX : e.chartY);\n                    }\n                }\n                pointProps.point = point; // Store reference to point\n                res.points[point.id] = pointProps;\n            }\n            return res;\n        }\n        /**\n         * In mousemove events, check that we have dragged mouse further than the\n         * dragSensitivity before we call mouseMove handler.\n         *\n         * @private\n         * @function hasDraggedPastSensitivity\n         *\n         * @param {Highcharts.PointerEventObject} e\n         *        Mouse move event to test.\n         *\n         * @param {Highcharts.Chart} chart\n         *        Chart that has started dragging.\n         *\n         * @param {number} sensitivity\n         *        Pixel sensitivity to test against.\n         *\n         * @return {boolean}\n         *         True if the event is moved past sensitivity relative to the chart's\n         *         drag origin.\n         */\n        function hasDraggedPastSensitivity(e, chart, sensitivity) {\n            var orig = chart.dragDropData.origin, oldX = orig.chartX, oldY = orig.chartY, newX = e.chartX, newY = e.chartY, distance = Math.sqrt((newX - oldX) * (newX - oldX) +\n                (newY - oldY) * (newY - oldY));\n            return distance > sensitivity;\n        }\n        /**\n         * Prepare chart.dragDropData with origin info, and show the guide box.\n         *\n         * @private\n         * @function initDragDrop\n         * @param {Highcharts.PointerEventObject} e\n         *        Mouse event with original mouse position.\n         * @param {Highcharts.Point} point\n         *        The point the dragging started on.\n         * @return {void}\n         */\n        function initDragDrop(e, point) {\n            var groupedPoints = getGroupedPoints(point), series = point.series, chart = series.chart;\n            var guideBox;\n            // If liveRedraw is disabled, show the guide box with the default state\n            if (!pick(series.options.dragDrop && series.options.dragDrop.liveRedraw, true)) {\n                chart.dragGuideBox = guideBox = series.getGuideBox(groupedPoints);\n                chart\n                    .setGuideBoxState('default', series.options.dragDrop.guideBox)\n                    .add(series.group);\n            }\n            // Store some data on the chart to pick up later\n            chart.dragDropData = {\n                origin: getPositionSnapshot(e, groupedPoints, guideBox),\n                point: point,\n                groupedPoints: groupedPoints,\n                isDragging: true\n            };\n        }\n        /**\n         * Utility function to test if a chart should have drag/drop enabled, looking at\n         * its options.\n         *\n         * @private\n         * @function isChartDraggable\n         * @param {Highcharts.Chart} chart\n         *        The chart to test.\n         * @return {boolean}\n         *         True if the chart is drag/droppable.\n         */\n        function isChartDraggable(chart) {\n            var i = chart.series ? chart.series.length : 0;\n            if ((chart.hasCartesianSeries && !chart.polar) ||\n                chart.mapView) {\n                while (i--) {\n                    if (chart.series[i].options.dragDrop &&\n                        isSeriesDraggable(chart.series[i])) {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        }\n        /**\n         * Utility function to test if a point is movable (any of its props can be\n         * dragged by a move, not just individually).\n         *\n         * @private\n         * @function isPointMovable\n         * @param {Highcharts.Point} point\n         *        The point to test.\n         * @return {boolean}\n         *         True if the point is movable.\n         */\n        function isPointMovable(point) {\n            var series = point.series, chart = series.chart, seriesDragDropOptions = series.options.dragDrop || {}, pointDragDropOptions = point.options && point.options.dragDrop, updateProps = series.dragDropProps;\n            var p, hasMovableX, hasMovableY;\n            // eslint-disable-next-line guard-for-in\n            for (var key in updateProps) {\n                p = updateProps[key];\n                if (p.axis === 'x' && p.move) {\n                    hasMovableX = true;\n                }\n                else if (p.axis === 'y' && p.move) {\n                    hasMovableY = true;\n                }\n            }\n            // We can only move the point if draggableX/Y is set, even if all the\n            // individual prop options are set.\n            return ((seriesDragDropOptions.draggableX && hasMovableX ||\n                seriesDragDropOptions.draggableY && hasMovableY) &&\n                !(pointDragDropOptions &&\n                    pointDragDropOptions.draggableX === false &&\n                    pointDragDropOptions.draggableY === false) &&\n                (!!(series.yAxis && series.xAxis) ||\n                    chart.mapView));\n        }\n        /**\n         * Utility function to test if a series is using drag/drop, looking at its\n         * options.\n         *\n         * @private\n         * @function isSeriesDraggable\n         * @param {Highcharts.Series} series\n         *        The series to test.\n         * @return {boolean}\n         *         True if the series is using drag/drop.\n         */\n        function isSeriesDraggable(series) {\n            var props = ['draggableX', 'draggableY'], dragDropProps = series.dragDropProps || {};\n            var val;\n            // Add optionNames from dragDropProps to the array of props to check for\n            for (var _i = 0, _a = Object.keys(dragDropProps); _i < _a.length; _i++) {\n                var key = _a[_i];\n                val = dragDropProps[key];\n                if (val.optionName) {\n                    props.push(val.optionName);\n                }\n            }\n            // Loop over all options we have that could enable dragDrop for this\n            // series. If any of them are truthy, this series is draggable.\n            var i = props.length;\n            while (i--) {\n                if (series.options.dragDrop[props[i]]) {\n                    return true;\n                }\n            }\n        }\n        /**\n         * On container mouse down. Init dragdrop if conditions are right.\n         *\n         * @private\n         * @function mouseDown\n         * @param {Highcharts.PointerEventObject} e\n         *        The mouse down event.\n         * @param {Highcharts.Chart} chart\n         *        The chart we are clicking.\n         */\n        function mouseDown(e, chart) {\n            var dragPoint = chart.hoverPoint, dragDropOptions = merge(dragPoint && dragPoint.series.options.dragDrop, dragPoint && dragPoint.options.dragDrop), draggableX = dragDropOptions.draggableX || false, draggableY = dragDropOptions.draggableY || false;\n            // Reset cancel click\n            chart.cancelClick = false;\n            // Ignore if:\n            if (\n            // Option is disabled for the point\n            !(draggableX || draggableY) ||\n                // Zoom/pan key is pressed\n                chart.zoomOrPanKeyPressed(e) ||\n                // Dragging an annotation\n                chart.hasDraggedAnnotation) {\n                return;\n            }\n            // If we somehow get a mousedown event while we are dragging, cancel\n            if (chart.dragDropData && chart.dragDropData.isDragging) {\n                mouseUp(e, chart);\n                return;\n            }\n            // If this point is movable, start dragging it\n            if (dragPoint && isPointMovable(dragPoint)) {\n                chart.mouseIsDown = false; // Prevent zooming\n                initDragDrop(e, dragPoint);\n                dragPoint.firePointEvent('dragStart', e);\n            }\n        }\n        /**\n         * On container mouse move. Handle drag sensitivity and fire drag event.\n         *\n         * @private\n         * @function mouseMove\n         * @param {Highcharts.PointerEventObject} e\n         *        The mouse move event.\n         * @param {Highcharts.Chart} chart\n         *        The chart we are moving across.\n         */\n        function mouseMove(e, chart) {\n            // Ignore if zoom/pan key is pressed\n            if (chart.zoomOrPanKeyPressed(e)) {\n                return;\n            }\n            var dragDropData = chart.dragDropData;\n            var point, seriesDragDropOpts, newPoints, numNewPoints = 0, newPoint;\n            if (dragDropData && dragDropData.isDragging && dragDropData.point.series) {\n                point = dragDropData.point;\n                seriesDragDropOpts = point.series.options.dragDrop;\n                // No tooltip for dragging\n                e.preventDefault();\n                // Update sensitivity test if not passed yet\n                if (!dragDropData.draggedPastSensitivity) {\n                    dragDropData.draggedPastSensitivity = hasDraggedPastSensitivity(e, chart, pick(point.options.dragDrop &&\n                        point.options.dragDrop.dragSensitivity, seriesDragDropOpts &&\n                        seriesDragDropOpts.dragSensitivity, DragDropDefaults.dragSensitivity));\n                }\n                // If we have dragged past dragSensitivity, run the mousemove handler\n                // for dragging\n                if (dragDropData.draggedPastSensitivity) {\n                    // Find the new point values from the moving\n                    dragDropData.newPoints = getNewPoints(dragDropData, e);\n                    // If we are only dragging one point, add it to the event\n                    newPoints = dragDropData.newPoints;\n                    numNewPoints = countProps(newPoints);\n                    newPoint = numNewPoints === 1 ?\n                        getFirstProp(newPoints) :\n                        null;\n                    // Run the handler\n                    point.firePointEvent('drag', {\n                        origin: dragDropData.origin,\n                        newPoints: dragDropData.newPoints,\n                        newPoint: newPoint && newPoint.newValues,\n                        newPointId: newPoint && newPoint.point.id,\n                        numNewPoints: numNewPoints,\n                        chartX: e.chartX,\n                        chartY: e.chartY\n                    }, function () {\n                        dragMove(e, point);\n                    });\n                }\n            }\n        }\n        /**\n         * On container mouse up. Fire drop event and reset state.\n         *\n         * @private\n         * @function mouseUp\n         * @param {Highcharts.PointerEventObject} e\n         *        The mouse up event.\n         * @param {Highcharts.Chart} chart\n         *        The chart we were dragging in.\n         */\n        function mouseUp(e, chart) {\n            var dragDropData = chart.dragDropData;\n            if (dragDropData &&\n                dragDropData.isDragging &&\n                dragDropData.draggedPastSensitivity &&\n                dragDropData.point.series) {\n                var point = dragDropData.point, newPoints = dragDropData.newPoints, numNewPoints = countProps(newPoints), newPoint = numNewPoints === 1 ?\n                    getFirstProp(newPoints) :\n                    null;\n                // Hide the drag handles\n                if (chart.dragHandles) {\n                    chart.hideDragHandles();\n                }\n                // Prevent default action\n                e.preventDefault();\n                chart.cancelClick = true;\n                // Fire the event, with a default handler that updates the points\n                point.firePointEvent('drop', {\n                    origin: dragDropData.origin,\n                    chartX: e.chartX,\n                    chartY: e.chartY,\n                    newPoints: newPoints,\n                    numNewPoints: numNewPoints,\n                    newPoint: newPoint && newPoint.newValues,\n                    newPointId: newPoint && newPoint.point.id\n                }, function () {\n                    updatePoints(chart);\n                });\n            }\n            // Reset\n            delete chart.dragDropData;\n            // Clean up the drag guide box if it exists. This is always added on\n            // drag start, even if user is overriding events.\n            if (chart.dragGuideBox) {\n                chart.dragGuideBox.destroy();\n                delete chart.dragGuideBox;\n            }\n        }\n        /**\n         * Add event listener to Chart.render that checks whether or not we should add\n         * dragdrop.\n         * @private\n         */\n        function onChartRender() {\n            // If we don't have dragDrop events, see if we should add them\n            if (!this.hasAddedDragDropEvents) {\n                addDragDropEvents(this);\n            }\n        }\n        /**\n         * Resize the guide box according to point options and a difference in mouse\n         * positions. Handles reversed axes.\n         *\n         * @private\n         * @function resizeGuideBox\n         * @param {Highcharts.Point} point\n         *        The point that is being resized.\n         * @param {number} dX\n         *        Difference in X position.\n         * @param {number} dY\n         *        Difference in Y position.\n         */\n        function resizeGuideBox(point, dX, dY) {\n            var series = point.series, chart = series.chart, dragDropData = chart.dragDropData, resizeProp = series.dragDropProps[dragDropData.updateProp], \n            // `dragDropProp.resizeSide` holds info on which side to resize.\n            newPoint = dragDropData.newPoints[point.id].newValues, resizeSide = typeof resizeProp.resizeSide === 'function' ?\n                resizeProp.resizeSide(newPoint, point) : resizeProp.resizeSide;\n            // Call resize hook if it is defined\n            if (resizeProp.beforeResize) {\n                resizeProp.beforeResize(chart.dragGuideBox, newPoint, point);\n            }\n            // Do the resize\n            resizeRect(chart.dragGuideBox, resizeProp.axis === 'x' && series.xAxis.reversed ||\n                resizeProp.axis === 'y' && series.yAxis.reversed ?\n                flipResizeSide(resizeSide) : resizeSide, {\n                x: resizeProp.axis === 'x' ?\n                    dX - (dragDropData.origin.prevdX || 0) : 0,\n                y: resizeProp.axis === 'y' ?\n                    dY - (dragDropData.origin.prevdY || 0) : 0\n            });\n        }\n        /**\n         * Resize a rect element on one side. The element is modified.\n         *\n         * @private\n         * @function resizeRect\n         * @param {Highcharts.SVGElement} rect\n         *        Rect element to resize.\n         * @param {string} updateSide\n         *        Which side of the rect to update. Can be `left`, `right`, `top` or\n         *        `bottom`.\n         * @param {Highcharts.PositionObject} update\n         *        Object with x and y properties, detailing how much to resize each\n         *        dimension.\n         * @return {void}\n         */\n        function resizeRect(rect, updateSide, update) {\n            var resizeAttrs;\n            switch (updateSide) {\n                case 'left':\n                    resizeAttrs = {\n                        x: rect.attr('x') + update.x,\n                        width: Math.max(1, rect.attr('width') - update.x)\n                    };\n                    break;\n                case 'right':\n                    resizeAttrs = {\n                        width: Math.max(1, rect.attr('width') + update.x)\n                    };\n                    break;\n                case 'top':\n                    resizeAttrs = {\n                        y: rect.attr('y') + update.y,\n                        height: Math.max(1, rect.attr('height') - update.y)\n                    };\n                    break;\n                case 'bottom':\n                    resizeAttrs = {\n                        height: Math.max(1, rect.attr('height') + update.y)\n                    };\n                    break;\n                default:\n            }\n            rect.attr(resizeAttrs);\n        }\n        /**\n         * Update the points in a chart from dragDropData.newPoints.\n         *\n         * @private\n         * @function updatePoints\n         * @param {Highcharts.Chart} chart\n         *        A chart with dragDropData.newPoints.\n         * @param {boolean} [animation=true]\n         *        Animate updating points?\n         */\n        function updatePoints(chart, animation) {\n            var newPoints = chart.dragDropData.newPoints, animOptions = animObject(animation);\n            chart.isDragDropAnimating = true;\n            var newPoint;\n            // Update the points\n            for (var _i = 0, _a = Object.keys(newPoints); _i < _a.length; _i++) {\n                var key = _a[_i];\n                newPoint = newPoints[key];\n                newPoint.point.update(newPoint.newValues, false);\n            }\n            chart.redraw(animOptions);\n            // Clear the isAnimating flag after animation duration is complete.\n            // The complete handler for animation seems to have bugs at this time, so\n            // we have to use a timeout instead.\n            setTimeout(function () {\n                delete chart.isDragDropAnimating;\n                if (chart.hoverPoint && !chart.dragHandles) {\n                    chart.hoverPoint.showDragHandles();\n                }\n            }, animOptions.duration);\n        }\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n        var DraggableChart = {\n            compose: compose,\n            flipResizeSide: flipResizeSide,\n            initDragDrop: initDragDrop\n        };\n\n        return DraggableChart;\n    });\n    _registerModule(_modules, 'Extensions/DraggablePoints/DragDropProps.js', [_modules['Extensions/DraggablePoints/DraggableChart.js'], _modules['Core/Utilities.js']], function (DraggableChart, U) {\n        /* *\n         *\n         *  (c) 2009-2024 Highsoft AS\n         *\n         *  Authors: Øystein Moseng, Torstein Hønsi, Jon A. Nygård\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __assign = (this && this.__assign) || function () {\n            __assign = Object.assign || function(t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                        t[p] = s[p];\n                }\n                return t;\n            };\n            return __assign.apply(this, arguments);\n        };\n        var flipResizeSide = DraggableChart.flipResizeSide;\n        var isNumber = U.isNumber, merge = U.merge, pick = U.pick;\n        /* *\n         *\n         *  Constants\n         *\n         * */\n        // Line series - only draggableX/Y, no drag handles\n        var line = {\n            x: {\n                axis: 'x',\n                move: true\n            },\n            y: {\n                axis: 'y',\n                move: true\n            }\n        };\n        // Flag series - same as line/scatter\n        var flags = line;\n        // Column series - x can be moved, y can only be resized. Note extra\n        // functionality for handling upside down columns (below threshold).\n        var column = {\n            x: {\n                axis: 'x',\n                move: true\n            },\n            y: {\n                axis: 'y',\n                move: false,\n                resize: true,\n                // Force guideBox start coordinates\n                beforeResize: function (guideBox, pointVals, point) {\n                    // We need to ensure that guideBox always starts at threshold.\n                    // We flip whether or not we update the top or bottom of the guide\n                    // box at threshold, but if we drag the mouse fast, the top has not\n                    // reached threshold before we cross over and update the bottom.\n                    var plotThreshold = pick(point.yBottom, // Added support for stacked series. (#18741)\n                    point.series.translatedThreshold), plotY = guideBox.attr('y'), threshold = isNumber(point.stackY) ? (point.stackY - (point.y || 0)) : point.series.options.threshold || 0, y = threshold + pointVals.y;\n                    var height, diff;\n                    if (point.series.yAxis.reversed ? y < threshold : y >= threshold) {\n                        // Above threshold - always set height to hit the threshold\n                        height = guideBox.attr('height');\n                        diff = plotThreshold ? plotThreshold - plotY - height : 0;\n                        guideBox.attr({\n                            height: Math.max(0, Math.round(height + diff))\n                        });\n                    }\n                    else {\n                        // Below - always set y to start at threshold\n                        guideBox.attr({\n                            y: Math.round(plotY + (plotThreshold ? plotThreshold - plotY : 0))\n                        });\n                    }\n                },\n                // Flip the side of the resize handle if column is below threshold.\n                // Make sure we remove the handle on the other side.\n                resizeSide: function (pointVals, point) {\n                    var chart = point.series.chart, dragHandles = chart.dragHandles, side = pointVals.y >= (point.series.options.threshold || 0) ?\n                        'top' : 'bottom', flipSide = flipResizeSide(side);\n                    // Force remove handle on other side\n                    if (dragHandles && dragHandles[flipSide]) {\n                        dragHandles[flipSide].destroy();\n                        delete dragHandles[flipSide];\n                    }\n                    return side;\n                },\n                // Position handle at bottom if column is below threshold\n                handlePositioner: function (point) {\n                    var bBox = (point.shapeArgs ||\n                        (point.graphic && point.graphic.getBBox()) ||\n                        {}), reversed = point.series.yAxis.reversed, threshold = point.series.options.threshold || 0, y = point.y || 0, bottom = (!reversed && y >= threshold) ||\n                        (reversed && y < threshold);\n                    return {\n                        x: bBox.x || 0,\n                        y: bottom ? (bBox.y || 0) : (bBox.y || 0) + (bBox.height || 0)\n                    };\n                },\n                // Horizontal handle\n                handleFormatter: function (point) {\n                    var shapeArgs = point.shapeArgs || {}, radius = shapeArgs.r || 0, // Rounding of bar corners\n                    width = shapeArgs.width || 0, centerX = width / 2;\n                    return [\n                        // Left wick\n                        ['M', radius, 0],\n                        ['L', centerX - 5, 0],\n                        // Circle\n                        ['A', 1, 1, 0, 0, 0, centerX + 5, 0],\n                        ['A', 1, 1, 0, 0, 0, centerX - 5, 0],\n                        // Right wick\n                        ['M', centerX + 5, 0],\n                        ['L', width - radius, 0]\n                    ];\n                }\n            }\n        };\n        // Boxplot series - move x, resize or move low/q1/q3/high\n        var boxplot = {\n            x: column.x,\n            /**\n             * Allow low value to be dragged individually.\n             *\n             * @type      {boolean}\n             * @default   true\n             * @requires  modules/draggable-points\n             * @apioption plotOptions.boxplot.dragDrop.draggableLow\n             */\n            low: {\n                optionName: 'draggableLow',\n                axis: 'y',\n                move: true,\n                resize: true,\n                resizeSide: 'bottom',\n                handlePositioner: function (point) { return ({\n                    x: point.shapeArgs.x || 0,\n                    y: point.lowPlot\n                }); },\n                handleFormatter: column.y.handleFormatter,\n                propValidate: function (val, point) { return (val <= point.q1); }\n            },\n            /**\n             * Allow Q1 value to be dragged individually.\n             *\n             * @type      {boolean}\n             * @default   true\n             * @requires  modules/draggable-points\n             * @apioption plotOptions.boxplot.dragDrop.draggableQ1\n             */\n            q1: {\n                optionName: 'draggableQ1',\n                axis: 'y',\n                move: true,\n                resize: true,\n                resizeSide: 'bottom',\n                handlePositioner: function (point) { return ({\n                    x: point.shapeArgs.x || 0,\n                    y: point.q1Plot\n                }); },\n                handleFormatter: column.y.handleFormatter,\n                propValidate: function (val, point) { return (val <= point.median && val >= point.low); }\n            },\n            median: {\n                // Median cannot be dragged individually, just move the whole\n                // point for this.\n                axis: 'y',\n                move: true\n            },\n            /**\n             * Allow Q3 value to be dragged individually.\n             *\n             * @type      {boolean}\n             * @default   true\n             * @requires  modules/draggable-points\n             * @apioption plotOptions.boxplot.dragDrop.draggableQ3\n             */\n            q3: {\n                optionName: 'draggableQ3',\n                axis: 'y',\n                move: true,\n                resize: true,\n                resizeSide: 'top',\n                handlePositioner: function (point) { return ({\n                    x: point.shapeArgs.x || 0,\n                    y: point.q3Plot\n                }); },\n                handleFormatter: column.y.handleFormatter,\n                propValidate: function (val, point) { return (val <= point.high && val >= point.median); }\n            },\n            /**\n             * Allow high value to be dragged individually.\n             *\n             * @type      {boolean}\n             * @default   true\n             * @requires  modules/draggable-points\n             * @apioption plotOptions.boxplot.dragDrop.draggableHigh\n             */\n            high: {\n                optionName: 'draggableHigh',\n                axis: 'y',\n                move: true,\n                resize: true,\n                resizeSide: 'top',\n                handlePositioner: function (point) { return ({\n                    x: point.shapeArgs.x || 0,\n                    y: point.highPlot\n                }); },\n                handleFormatter: column.y.handleFormatter,\n                propValidate: function (val, point) { return (val >= point.q3); }\n            }\n        };\n        // Errorbar series - move x, resize or move low/high\n        var errorbar = {\n            x: column.x,\n            low: __assign(__assign({}, boxplot.low), { propValidate: function (val, point) { return (val <= point.high); } }),\n            high: __assign(__assign({}, boxplot.high), { propValidate: function (val, point) { return (val >= point.low); } })\n        };\n        /**\n         * @exclude      draggableQ1, draggableQ3\n         * @optionparent plotOptions.errorbar.dragDrop\n         */\n        // Bullet graph, x/y same as column, but also allow target to be dragged.\n        var bullet = {\n            x: column.x,\n            y: column.y,\n            /**\n             * Allow target value to be dragged individually.\n             *\n             * @type      {boolean}\n             * @default   true\n             * @requires  modules/draggable-points\n             * @apioption plotOptions.bullet.dragDrop.draggableTarget\n             */\n            target: {\n                optionName: 'draggableTarget',\n                axis: 'y',\n                move: true,\n                resize: true,\n                resizeSide: 'top',\n                handlePositioner: function (point) {\n                    var bBox = point.targetGraphic.getBBox();\n                    return {\n                        x: point.barX,\n                        y: bBox.y + bBox.height / 2\n                    };\n                },\n                handleFormatter: column.y.handleFormatter\n            }\n        };\n        // OHLC series - move x, resize or move open/high/low/close\n        var ohlc = {\n            x: column.x,\n            /**\n             * Allow low value to be dragged individually.\n             *\n             * @type      {boolean}\n             * @default   true\n             * @requires  modules/draggable-points\n             * @apioption plotOptions.ohlc.dragDrop.draggableLow\n             */\n            low: {\n                optionName: 'draggableLow',\n                axis: 'y',\n                move: true,\n                resize: true,\n                resizeSide: 'bottom',\n                handlePositioner: function (point) { return ({\n                    x: point.shapeArgs.x,\n                    y: point.plotLow\n                }); },\n                handleFormatter: column.y.handleFormatter,\n                propValidate: function (val, point) { return (val <= point.open && val <= point.close); }\n            },\n            /**\n             * Allow high value to be dragged individually.\n             *\n             * @type      {boolean}\n             * @default   true\n             * @requires  modules/draggable-points\n             * @apioption plotOptions.ohlc.dragDrop.draggableHigh\n             */\n            high: {\n                optionName: 'draggableHigh',\n                axis: 'y',\n                move: true,\n                resize: true,\n                resizeSide: 'top',\n                handlePositioner: function (point) { return ({\n                    x: point.shapeArgs.x,\n                    y: point.plotHigh\n                }); },\n                handleFormatter: column.y.handleFormatter,\n                propValidate: function (val, point) { return (val >= point.open && val >= point.close); }\n            },\n            /**\n             * Allow open value to be dragged individually.\n             *\n             * @type      {boolean}\n             * @default   true\n             * @requires  modules/draggable-points\n             * @apioption plotOptions.ohlc.dragDrop.draggableOpen\n             */\n            open: {\n                optionName: 'draggableOpen',\n                axis: 'y',\n                move: true,\n                resize: true,\n                resizeSide: function (point) { return (point.open >= point.close ? 'top' : 'bottom'); },\n                handlePositioner: function (point) { return ({\n                    x: point.shapeArgs.x,\n                    y: point.plotOpen\n                }); },\n                handleFormatter: column.y.handleFormatter,\n                propValidate: function (val, point) { return (val <= point.high && val >= point.low); }\n            },\n            /**\n             * Allow close value to be dragged individually.\n             *\n             * @type      {boolean}\n             * @default   true\n             * @requires  modules/draggable-points\n             * @apioption plotOptions.ohlc.dragDrop.draggableClose\n             */\n            close: {\n                optionName: 'draggableClose',\n                axis: 'y',\n                move: true,\n                resize: true,\n                resizeSide: function (point) { return (point.open >= point.close ? 'bottom' : 'top'); },\n                handlePositioner: function (point) { return ({\n                    x: point.shapeArgs.x,\n                    y: point.plotClose\n                }); },\n                handleFormatter: column.y.handleFormatter,\n                propValidate: function (val, point) { return (val <= point.high && val >= point.low); }\n            }\n        };\n        // Waterfall - mostly as column, but don't show drag handles for sum points\n        var waterfall = {\n            x: column.x,\n            y: merge(column.y, {\n                handleFormatter: function (point) { return (point.isSum || point.isIntermediateSum ?\n                    null :\n                    column.y.handleFormatter(point)); }\n            })\n        };\n        // Columnrange series - move x, resize or move low/high\n        var columnrange = {\n            x: {\n                axis: 'x',\n                move: true\n            },\n            /**\n             * Allow low value to be dragged individually.\n             *\n             * @type      {boolean}\n             * @default   true\n             * @requires  modules/draggable-points\n             * @apioption plotOptions.columnrange.dragDrop.draggableLow\n             */\n            low: {\n                optionName: 'draggableLow',\n                axis: 'y',\n                move: true,\n                resize: true,\n                resizeSide: 'bottom',\n                handlePositioner: function (point) {\n                    var bBox = (point.shapeArgs || point.graphic.getBBox());\n                    return {\n                        x: bBox.x || 0,\n                        y: (bBox.y || 0) + (bBox.height || 0)\n                    };\n                },\n                handleFormatter: column.y.handleFormatter,\n                propValidate: function (val, point) { return (val <= point.high); }\n            },\n            /**\n             * Allow high value to be dragged individually.\n             *\n             * @type      {boolean}\n             * @default   true\n             * @requires  modules/draggable-points\n             * @apioption plotOptions.columnrange.dragDrop.draggableHigh\n             */\n            high: {\n                optionName: 'draggableHigh',\n                axis: 'y',\n                move: true,\n                resize: true,\n                resizeSide: 'top',\n                handlePositioner: function (point) {\n                    var bBox = (point.shapeArgs || point.graphic.getBBox());\n                    return {\n                        x: bBox.x || 0,\n                        y: bBox.y || 0\n                    };\n                },\n                handleFormatter: column.y.handleFormatter,\n                propValidate: function (val, point) { return (val >= point.low); }\n            }\n        };\n        // Arearange series - move x, resize or move low/high\n        var arearange = {\n            x: columnrange.x,\n            /**\n             * Allow low value to be dragged individually.\n             *\n             * @type      {boolean}\n             * @default   true\n             * @requires  modules/draggable-points\n             * @apioption plotOptions.arearange.dragDrop.draggableLow\n             */\n            low: {\n                optionName: 'draggableLow',\n                axis: 'y',\n                move: true,\n                resize: true,\n                resizeSide: 'bottom',\n                handlePositioner: function (point) {\n                    var bBox = (point.graphics &&\n                        point.graphics[0] &&\n                        point.graphics[0].getBBox());\n                    return bBox ? {\n                        x: bBox.x + bBox.width / 2,\n                        y: bBox.y + bBox.height / 2\n                    } : { x: -999, y: -999 };\n                },\n                handleFormatter: arearangeHandleFormatter,\n                propValidate: columnrange.low.propValidate\n            },\n            /**\n             * Allow high value to be dragged individually.\n             *\n             * @type      {boolean}\n             * @default   true\n             * @requires  modules/draggable-points\n             * @apioption plotOptions.arearange.dragDrop.draggableHigh\n             */\n            high: {\n                optionName: 'draggableHigh',\n                axis: 'y',\n                move: true,\n                resize: true,\n                resizeSide: 'top',\n                handlePositioner: function (point) {\n                    var bBox = (point.graphics &&\n                        point.graphics[1] &&\n                        point.graphics[1].getBBox());\n                    return bBox ? {\n                        x: bBox.x + bBox.width / 2,\n                        y: bBox.y + bBox.height / 2\n                    } : { x: -999, y: -999 };\n                },\n                handleFormatter: arearangeHandleFormatter,\n                propValidate: columnrange.high.propValidate\n            }\n        };\n        // Xrange - resize/move x/x2, and move y\n        var xrange = {\n            y: {\n                axis: 'y',\n                move: true\n            },\n            /**\n             * Allow x value to be dragged individually.\n             *\n             * @type      {boolean}\n             * @default   true\n             * @requires  modules/draggable-points\n             * @apioption plotOptions.xrange.dragDrop.draggableX1\n             */\n            x: {\n                optionName: 'draggableX1',\n                axis: 'x',\n                move: true,\n                resize: true,\n                resizeSide: 'left',\n                handlePositioner: function (point) { return (xrangeHandlePositioner(point, 'x')); },\n                handleFormatter: horizHandleFormatter,\n                propValidate: function (val, point) { return (val <= point.x2); }\n            },\n            /**\n             * Allow x2 value to be dragged individually.\n             *\n             * @type      {boolean}\n             * @default   true\n             * @requires  modules/draggable-points\n             * @apioption plotOptions.xrange.dragDrop.draggableX2\n             */\n            x2: {\n                optionName: 'draggableX2',\n                axis: 'x',\n                move: true,\n                resize: true,\n                resizeSide: 'right',\n                handlePositioner: function (point) { return (xrangeHandlePositioner(point, 'x2')); },\n                handleFormatter: horizHandleFormatter,\n                propValidate: function (val, point) { return (val >= point.x); }\n            }\n        };\n        // Gantt - same as xrange, but with aliases\n        var gantt = {\n            y: xrange.y,\n            /**\n             * Allow start value to be dragged individually.\n             *\n             * @type      {boolean}\n             * @default   true\n             * @requires  modules/draggable-points\n             * @apioption plotOptions.gantt.dragDrop.draggableStart\n             */\n            start: merge(xrange.x, {\n                optionName: 'draggableStart',\n                // Do not allow individual drag handles for milestones\n                validateIndividualDrag: function (point) { return (!point.milestone); }\n            }),\n            /**\n             * Allow end value to be dragged individually.\n             *\n             * @type      {boolean}\n             * @default   true\n             * @requires  modules/draggable-points\n             * @apioption plotOptions.gantt.dragDrop.draggableEnd\n             */\n            end: merge(xrange.x2, {\n                optionName: 'draggableEnd',\n                // Do not allow individual drag handles for milestones\n                validateIndividualDrag: function (point) { return (!point.milestone); }\n            })\n        };\n        /* *\n         *\n         *  Functions\n         *\n         * */\n        /**\n         * Use a circle covering the marker as drag handle.\n         * @private\n         */\n        function arearangeHandleFormatter(point) {\n            var radius = point.graphic ?\n                point.graphic.getBBox().width / 2 + 1 :\n                4;\n            return [\n                ['M', 0 - radius, 0],\n                ['a', radius, radius, 0, 1, 0, radius * 2, 0],\n                ['a', radius, radius, 0, 1, 0, radius * -2, 0]\n            ];\n        }\n        /**\n         * 90deg rotated column handle path, used in multiple series types.\n         * @private\n         */\n        function horizHandleFormatter(point) {\n            var shapeArgs = point.shapeArgs || point.graphic.getBBox(), top = shapeArgs.r || 0, // Rounding of bar corners\n            bottom = shapeArgs.height - top, centerY = shapeArgs.height / 2;\n            return [\n                // Top wick\n                ['M', 0, top],\n                ['L', 0, centerY - 5],\n                // Circle\n                ['A', 1, 1, 0, 0, 0, 0, centerY + 5],\n                ['A', 1, 1, 0, 0, 0, 0, centerY - 5],\n                // Bottom wick\n                ['M', 0, centerY + 5],\n                ['L', 0, bottom]\n            ];\n        }\n        /**\n         * Handle positioner logic is the same for x and x2 apart from the x value.\n         * shapeArgs does not take yAxis reversed etc into account, so we use\n         * axis.toPixels to handle positioning.\n         * @private\n         */\n        function xrangeHandlePositioner(point, xProp) {\n            var series = point.series, xAxis = series.xAxis, yAxis = series.yAxis, inverted = series.chart.inverted, offsetY = series.columnMetrics ? series.columnMetrics.offset :\n                -point.shapeArgs.height / 2;\n            // Using toPixels handles axis.reversed, but doesn't take\n            // chart.inverted into account.\n            var newX = xAxis.toPixels(point[xProp], true), newY = yAxis.toPixels(point.y, true);\n            // Handle chart inverted\n            if (inverted) {\n                newX = xAxis.len - newX;\n                newY = yAxis.len - newY;\n            }\n            newY += offsetY; // (#12872)\n            return {\n                x: Math.round(newX),\n                y: Math.round(newY)\n            };\n        }\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n        var DragDropProps = {\n            arearange: arearange,\n            boxplot: boxplot,\n            bullet: bullet,\n            column: column,\n            columnrange: columnrange,\n            errorbar: errorbar,\n            flags: flags,\n            gantt: gantt,\n            line: line,\n            ohlc: ohlc,\n            waterfall: waterfall,\n            xrange: xrange\n        };\n\n        return DragDropProps;\n    });\n    _registerModule(_modules, 'Extensions/DraggablePoints/DraggablePoints.js', [_modules['Extensions/DraggablePoints/DragDropUtilities.js'], _modules['Extensions/DraggablePoints/DraggableChart.js'], _modules['Extensions/DraggablePoints/DragDropDefaults.js'], _modules['Extensions/DraggablePoints/DragDropProps.js'], _modules['Core/Utilities.js']], function (DDU, DraggableChart, DragDropDefaults, DragDropProps, U) {\n        /* *\n         *\n         *  (c) 2009-2024 Highsoft AS\n         *\n         *  Authors: Øystein Moseng, Torstein Hønsi, Jon A. Nygård\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var addEvents = DDU.addEvents, getNormalizedEvent = DDU.getNormalizedEvent;\n        var initDragDrop = DraggableChart.initDragDrop;\n        var addEvent = U.addEvent, clamp = U.clamp, isNumber = U.isNumber, merge = U.merge, pick = U.pick;\n        /* *\n         *\n         *  Functions\n         *\n         * */\n        /* @todo\n        Add drag/drop support to specific data props for different series types.\n\n        The dragDrop.draggableX/Y user options on series enable/disable all of these per\n        direction unless they are specifically set in options using\n        dragDrop.{optionName}. If the prop does not specify an optionName here, it can\n        only be enabled/disabled by the user with draggableX/Y.\n\n        Supported options for each prop:\n            optionName: User option in series.dragDrop that enables/disables\n                dragging this prop.\n            axis: Can be 'x' or 'y'. Whether this prop is linked to x or y axis.\n            move: Whether or not this prop should be updated when moving points.\n            resize: Whether or not to draw a drag handle and allow user to drag and\n                update this prop by itself.\n            beforeResize: Hook to perform tasks before a resize is made. Gets\n                the guide box, the new points values, and the point as args.\n            resizeSide: Which side of the guide box to resize when dragging the\n                handle. Can be \"left\", \"right\", \"top\", \"bottom\". Chart.inverted is\n                handled automatically. Can also be a function, taking the new point\n                values as parameter, as well as the point, and returning a string\n                with the side.\n            propValidate: Function that takes the prop value and the point as\n                arguments, and returns true if the prop value is valid, false if\n                not. It is used to prevent e.g. resizing \"low\" above \"high\".\n            handlePositioner: For resizeable props, return 0,0 in SVG plot coords of\n                where to place the dragHandle. Gets point as argument. Should return\n                object with x and y properties.\n            handleFormatter: For resizeable props, return the path of the drag\n                handle as an SVG path array. Gets the point as argument. The handle\n                is translated according to handlePositioner.\n            handleOptions: Options to merge with the default handle options.\n\n            TODO:\n            - It makes sense to have support for resizing the size of bubbles and\n                e.g variwide columns. This requires us to support dragging along a\n                z-axis, somehow computing a relative value from old to new pixel\n                size.\n            - Moving maps could be useful, although we would have to compute new\n                point.path values in order to do it properly (using SVG translate\n                is easier, but won't update the data).\n        */\n        /** @private */\n        function compose(ChartClass, SeriesClass) {\n            DraggableChart.compose(ChartClass);\n            var seriesProto = SeriesClass.prototype;\n            if (!seriesProto.dragDropProps) {\n                var PointClass = SeriesClass.prototype.pointClass, seriesTypes = SeriesClass.types, pointProto = PointClass.prototype;\n                pointProto.getDropValues = pointGetDropValues;\n                pointProto.showDragHandles = pointShowDragHandles;\n                addEvent(PointClass, 'mouseOut', onPointMouseOut);\n                addEvent(PointClass, 'mouseOver', onPointMouseOver);\n                addEvent(PointClass, 'remove', onPointRemove);\n                seriesProto.dragDropProps = DragDropProps.line;\n                seriesProto.getGuideBox = seriesGetGuideBox;\n                // Custom props for certain series types\n                var seriesWithDragDropProps = [\n                    'arearange',\n                    'boxplot',\n                    'bullet',\n                    'column',\n                    'columnrange',\n                    'errorbar',\n                    'flags',\n                    'gantt',\n                    'ohlc',\n                    'waterfall',\n                    'xrange'\n                ];\n                for (var _i = 0, seriesWithDragDropProps_1 = seriesWithDragDropProps; _i < seriesWithDragDropProps_1.length; _i++) {\n                    var seriesType = seriesWithDragDropProps_1[_i];\n                    if (seriesTypes[seriesType]) {\n                        seriesTypes[seriesType].prototype.dragDropProps =\n                            DragDropProps[seriesType];\n                    }\n                }\n                // Don't support certain series types\n                var seriesWithoutDragDropProps = [\n                    'bellcurve',\n                    'gauge',\n                    'histogram',\n                    'map',\n                    'mapline',\n                    'pareto',\n                    'pie',\n                    'sankey',\n                    'sma',\n                    'sunburst',\n                    'treemap',\n                    'vector',\n                    'windbarb',\n                    'wordcloud'\n                ];\n                for (var _a = 0, seriesWithoutDragDropProps_1 = seriesWithoutDragDropProps; _a < seriesWithoutDragDropProps_1.length; _a++) {\n                    var seriesType = seriesWithoutDragDropProps_1[_a];\n                    if (seriesTypes[seriesType]) {\n                        seriesTypes[seriesType].prototype.dragDropProps = null;\n                    }\n                }\n            }\n        }\n        /**\n         * On point mouse out. Hide drag handles, depending on state.\n         *\n         * @private\n         * @function mouseOut\n         * @param {Highcharts.Point} point\n         *        The point mousing out of.\n         */\n        function mouseOut(point) {\n            var chart = point.series && point.series.chart, dragDropData = chart && chart.dragDropData;\n            if (chart &&\n                chart.dragHandles &&\n                !(dragDropData &&\n                    (dragDropData.isDragging &&\n                        dragDropData.draggedPastSensitivity ||\n                        dragDropData.isHoveringHandle === point.id))) {\n                chart.hideDragHandles();\n            }\n        }\n        /**\n         * Mouseover on a point. Show drag handles if the conditions are right.\n         *\n         * @private\n         * @function mouseOver\n         * @param {Highcharts.Point} point\n         *        The point mousing over.\n         */\n        function mouseOver(point) {\n            var series = point.series, chart = series && series.chart, dragDropData = chart && chart.dragDropData, is3d = chart && chart.is3d && chart.is3d();\n            if (chart &&\n                !(dragDropData &&\n                    dragDropData.isDragging && // Ignore if dragging a point\n                    dragDropData.draggedPastSensitivity) &&\n                !chart.isDragDropAnimating && // Ignore if animating\n                series.options.dragDrop && // No need to compute handles without this\n                !is3d // No 3D support\n            ) {\n                // Hide the handles if they exist on another point already\n                if (chart.dragHandles) {\n                    chart.hideDragHandles();\n                }\n                point.showDragHandles();\n            }\n        }\n        /**\n         * Point mouseleave event. See above function for explanation of the timeout.\n         * @private\n         */\n        function onPointMouseOut() {\n            var point = this;\n            setTimeout(function () {\n                if (point.series) {\n                    mouseOut(point);\n                }\n            }, 10);\n        }\n        /**\n         * Point hover event. We use a short timeout due to issues with coordinating\n         * point mouseover/out events on dragHandles and points.\n         *\n         * Particularly arearange series are finicky since the markers are not\n         * individual points. This logic should preferably be improved in the future.\n         *\n         * Notice that the mouseOut event below must have a shorter timeout to ensure\n         * event order.\n         */\n        function onPointMouseOver() {\n            var point = this;\n            setTimeout(function () { return mouseOver(point); }, 12);\n        }\n        /**\n         * Hide drag handles on a point if it is removed.\n         * @private\n         */\n        function onPointRemove() {\n            var chart = this.series.chart, dragHandles = chart.dragHandles;\n            if (dragHandles && dragHandles.point === this.id) {\n                chart.hideDragHandles();\n            }\n        }\n        /**\n         * Mouseout on resize handle. Handle states, and possibly run mouseOut on point.\n         *\n         * @private\n         * @function onResizeHandleMouseOut\n         * @param {Highcharts.Point} point\n         *        The point mousing out of.\n         */\n        function onResizeHandleMouseOut(point) {\n            var chart = point.series.chart;\n            if (chart.dragDropData &&\n                point.id === chart.dragDropData.isHoveringHandle) {\n                delete chart.dragDropData.isHoveringHandle;\n            }\n            if (!chart.hoverPoint) {\n                mouseOut(point);\n            }\n        }\n        /**\n         * Mousedown on resize handle. Init a drag if the conditions are right.\n         *\n         * @private\n         * @function onResizeHandleMouseDown\n         * @param {Highcharts.PointerEventObject} e\n         *        The mousedown event.\n         * @param {Highcharts.Point} point\n         *        The point mousing down on.\n         * @param {string} updateProp\n         *        The data property this resize handle is attached to for this point.\n         */\n        function onResizeHandleMouseDown(e, point, updateProp) {\n            var chart = point.series.chart;\n            // Ignore if zoom/pan key is pressed\n            if (chart.zoomOrPanKeyPressed(e)) {\n                return;\n            }\n            // Prevent zooming\n            chart.mouseIsDown = false;\n            // We started a drag\n            initDragDrop(e, point);\n            chart.dragDropData.updateProp =\n                e.updateProp = updateProp;\n            point.firePointEvent('dragStart', e);\n            // Prevent default to avoid point click for dragging too\n            e.stopPropagation();\n            e.preventDefault();\n        }\n        /**\n         * Get updated point values when dragging a point.\n         *\n         * @private\n         * @function Highcharts.Point#getDropValues\n         *\n         * @param {Object} origin\n         *        Mouse position (chartX/Y) and point props at current data values.\n         *        Point props should be organized per point.id in a hashmap.\n         *\n         * @param {Highcharts.PointerEventObject} newPos\n         *        New mouse position (chartX/Y).\n         *\n         * @param {Highcharts.Dictionary<Highcharts.Dictionary<Highcharts.Dictionary<string>>>} updateProps\n         *        Point props to modify. Map of prop objects where each key refers to\n         *        the prop, and the value is an object with an axis property. Example:\n         *        {\n         *            x: {\n         *                axis: 'x'\n         *            },\n         *            x2: {\n         *                axis: 'x'\n         *            }\n         *        }\n         *\n         * @return {Highcharts.Dictionary<number>}\n         *         An object with updated data values.\n         */\n        function pointGetDropValues(origin, newPos, updateProps) {\n            var point = this, series = point.series, chart = series.chart, mapView = chart.mapView, options = merge(series.options.dragDrop, point.options.dragDrop), result = {}, pointOrigin = origin.points[point.id], updateSingleProp = Object.keys(updateProps).length === 1;\n            /**\n             * Utility function to apply precision and limit a value within the\n             * draggable range.\n             * @private\n             * @param {number} val\n             *        Value to limit\n             * @param {string} direction\n             *        Axis direction\n             * @return {number}\n             *         Limited value\n             */\n            var limitToRange = function (val, direction) {\n                var defaultPrecision = series[direction.toLowerCase() + 'Axis']\n                    .categories ? 1 : 0, precision = pick(options['dragPrecision' + direction], defaultPrecision), min = pick(options['dragMin' + direction], -Infinity), max = pick(options['dragMax' + direction], Infinity);\n                var res = val;\n                if (precision) {\n                    res = Math.round(res / precision) * precision;\n                }\n                return clamp(res, min, max);\n            };\n            /**\n             * Utility function to apply precision and limit a value within the\n             * draggable range used only for Highcharts Maps.\n             * @private\n             * @param {PointerEvent} newPos\n             *        PointerEvent, which is used to get the value\n             * @param {string} direction\n             *        Axis direction\n             * @param {string} key\n             *        Key for choosing between longitude and latitude\n             * @return {number | undefined}\n             *         Limited value\n             */\n            var limitToMapRange = function (newPos, direction, key) {\n                if (mapView) {\n                    var precision = pick(options['dragPrecision' + direction], 0), lonLatMin = mapView.pixelsToLonLat({\n                        x: 0,\n                        y: 0\n                    }), lonLatMax = mapView.pixelsToLonLat({\n                        x: chart.plotBox.width,\n                        y: chart.plotBox.height\n                    });\n                    var min = pick(options['dragMin' + direction], lonLatMin &&\n                        lonLatMin[key], -Infinity), max = pick(options['dragMax' + direction], lonLatMax &&\n                        lonLatMax[key], Infinity), res = newPos[key];\n                    if (mapView.projection.options.name === 'Orthographic') {\n                        return res;\n                    }\n                    if (key === 'lat') {\n                        // If map is bigger than possible projection range\n                        if (isNaN(min) || min > mapView.projection.maxLatitude) {\n                            min = mapView.projection.maxLatitude;\n                        }\n                        if (isNaN(max) || max < -1 * mapView.projection.maxLatitude) {\n                            max = -1 * mapView.projection.maxLatitude;\n                        }\n                        // Swap for latitude\n                        var temp = max;\n                        max = min;\n                        min = temp;\n                    }\n                    if (!mapView.projection.hasCoordinates) {\n                        // Establish y value\n                        var lonLatRes = mapView.pixelsToLonLat({\n                            x: newPos.chartX - chart.plotLeft,\n                            y: chart.plotHeight - newPos.chartY + chart.plotTop\n                        });\n                        if (lonLatRes) {\n                            res = lonLatRes[key];\n                        }\n                    }\n                    if (precision) {\n                        res = Math.round(res / precision) * precision;\n                    }\n                    return clamp(res, min, max);\n                }\n            };\n            // Assign new value to property. Adds dX/YValue to the old value, limiting\n            // it within min/max ranges.\n            for (var _i = 0, _a = Object.keys(updateProps); _i < _a.length; _i++) {\n                var key = _a[_i];\n                var val = updateProps[key], oldVal = pointOrigin.point[key], axis = series[val.axis + 'Axis'], newVal = mapView ?\n                    limitToMapRange(newPos, val.axis.toUpperCase(), key) :\n                    limitToRange(axis.toValue((axis.horiz ? newPos.chartX : newPos.chartY) +\n                        pointOrigin[key + 'Offset']), val.axis.toUpperCase());\n                // If we are updating a single prop, and it has a validation function\n                // for the prop, run it. If it fails, don't update the value.\n                if (isNumber(newVal) &&\n                    !(updateSingleProp &&\n                        val.propValidate &&\n                        !val.propValidate(newVal, point)) &&\n                    typeof oldVal !== 'undefined') {\n                    result[key] = newVal;\n                }\n            }\n            return result;\n        }\n        /**\n         * Render drag handles on a point - depending on which handles are enabled - and\n         * attach events to them.\n         *\n         * @private\n         * @function Highcharts.Point#showDragHandles\n         */\n        function pointShowDragHandles() {\n            var point = this, series = point.series, chart = series.chart, inverted = chart.inverted, renderer = chart.renderer, options = merge(series.options.dragDrop, point.options.dragDrop), dragDropProps = series.dragDropProps || {};\n            var dragHandles = chart.dragHandles;\n            var _loop_1 = function (key) {\n                var val = dragDropProps[key], handleOptions = merge(DragDropDefaults.dragHandle, val.handleOptions, options.dragHandle), handleAttrs = {\n                    'class': handleOptions.className,\n                    'stroke-width': handleOptions.lineWidth,\n                    fill: handleOptions.color,\n                    stroke: handleOptions.lineColor\n                }, pathFormatter = handleOptions.pathFormatter || val.handleFormatter, handlePositioner = val.handlePositioner, \n                // Run validation function on whether or not we allow individual\n                // updating of this prop.\n                validate = val.validateIndividualDrag ?\n                    val.validateIndividualDrag(point) : true;\n                var pos = void 0, handle = void 0, path = void 0;\n                if (val.resize &&\n                    validate &&\n                    val.resizeSide &&\n                    pathFormatter &&\n                    (options['draggable' + val.axis.toUpperCase()] ||\n                        options[val.optionName]) &&\n                    options[val.optionName] !== false) {\n                    // Create handle if it doesn't exist\n                    if (!dragHandles) {\n                        dragHandles = chart.dragHandles = {\n                            group: renderer\n                                .g('drag-drop-handles')\n                                .add(series.markerGroup || series.group),\n                            point: point.id\n                        };\n                        // Store which point this is\n                    }\n                    else {\n                        dragHandles.point = point.id;\n                    }\n                    // Find position and path of handle\n                    pos = handlePositioner(point);\n                    handleAttrs.d = path = pathFormatter(point);\n                    // Correct left edge value depending on the xAxis' type, #16596\n                    var minEdge = point.series.xAxis.categories ? -0.5 : 0;\n                    if (!path || pos.x < minEdge || pos.y < 0) {\n                        return { value: void 0 };\n                    }\n                    // If cursor is not set explicitly, use axis direction\n                    handleAttrs.cursor = handleOptions.cursor ||\n                        ((val.axis === 'x') !== !!inverted ?\n                            'ew-resize' : 'ns-resize');\n                    // Create and add the handle element if it doesn't exist\n                    handle = dragHandles[val.optionName];\n                    if (!handle) {\n                        handle = dragHandles[val.optionName] = renderer\n                            .path()\n                            .add(dragHandles.group);\n                    }\n                    // Move and update handle\n                    handleAttrs.translateX = inverted ?\n                        series.yAxis.len - pos.y :\n                        pos.x;\n                    handleAttrs.translateY = inverted ?\n                        series.xAxis.len - pos.x :\n                        pos.y;\n                    if (inverted) {\n                        handleAttrs.rotation = -90;\n                    }\n                    handle.attr(handleAttrs);\n                    // Add events\n                    addEvents(handle.element, ['touchstart', 'mousedown'], function (e) {\n                        onResizeHandleMouseDown(getNormalizedEvent(e, chart), point, key);\n                    }, {\n                        passive: false\n                    });\n                    addEvent(dragHandles.group.element, 'mouseover', function () {\n                        chart.dragDropData = chart.dragDropData || {};\n                        chart.dragDropData.isHoveringHandle = point.id;\n                    });\n                    addEvents(dragHandles.group.element, ['touchend', 'mouseout'], function () {\n                        onResizeHandleMouseOut(point);\n                    });\n                }\n            };\n            // Go through each updateProp and see if we are supposed to create a handle\n            // for it.\n            for (var _i = 0, _a = Object.keys(dragDropProps); _i < _a.length; _i++) {\n                var key = _a[_i];\n                var state_1 = _loop_1(key);\n                if (typeof state_1 === \"object\")\n                    return state_1.value;\n            }\n        }\n        /**\n         * Returns an SVGElement to use as the guide box for a set of points.\n         *\n         * @private\n         * @function Highcharts.Series#getGuideBox\n         *\n         * @param {Array<Highcharts.Point>} points\n         *        The state to set the guide box to.\n         *\n         * @return {Highcharts.SVGElement}\n         *         An SVG element for the guide box, not added to DOM.\n         */\n        function seriesGetGuideBox(points) {\n            var chart = this.chart;\n            var minX = Infinity, maxX = -Infinity, minY = Infinity, maxY = -Infinity, changed;\n            // Find bounding box of all points\n            for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n                var point = points_1[_i];\n                var bBox = (point.graphic && point.graphic.getBBox() || point.shapeArgs);\n                if (bBox) {\n                    var plotX2 = void 0;\n                    var x2 = point.x2;\n                    if (isNumber(x2)) {\n                        plotX2 = point.series.xAxis.translate(x2, false, false, false, true);\n                    }\n                    // Avoid a 0 min when some of the points being dragged are\n                    // completely outside the plot\n                    var skipBBox = !(bBox.width || bBox.height || bBox.x || bBox.y);\n                    changed = true;\n                    minX = Math.min(point.plotX || 0, plotX2 || 0, skipBBox ? Infinity : bBox.x || 0, minX);\n                    maxX = Math.max(point.plotX || 0, plotX2 || 0, (bBox.x || 0) + (bBox.width || 0), maxX);\n                    minY = Math.min(point.plotY || 0, skipBBox ? Infinity : bBox.y || 0, minY);\n                    maxY = Math.max((bBox.y || 0) + (bBox.height || 0), maxY);\n                }\n            }\n            return changed ? chart.renderer.rect(minX, minY, maxX - minX, maxY - minY) : chart.renderer.g();\n        }\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n        var DraggablePoints = {\n            compose: compose\n        };\n        /* *\n         *\n         *  API Declarations\n         *\n         * */\n        /**\n         * Current drag and drop position.\n         *\n         * @interface Highcharts.DragDropPositionObject\n         */ /**\n        * Chart x position\n        * @name Highcharts.DragDropPositionObject#chartX\n        * @type {number}\n        */ /**\n        * Chart y position\n        * @name Highcharts.DragDropPositionObject#chartY\n        * @type {number}\n        */ /**\n        * Drag and drop guide box.\n        * @name Highcharts.DragDropPositionObject#guideBox\n        * @type {Highcharts.BBoxObject|undefined}\n        */ /**\n        * Updated point data.\n        * @name Highcharts.DragDropPositionObject#points\n        * @type {Highcharts.Dictionary<Highcharts.Dictionary<number>>}\n        */ /**\n        * Delta of previous x position.\n        * @name Highcharts.DragDropPositionObject#prevdX\n        * @type {number|undefined}\n        */ /**\n        * Delta of previous y position.\n        * @name Highcharts.DragDropPositionObject#prevdY\n        * @type {number|undefined}\n        */\n        /**\n         * Function callback to execute while series points are dragged. Return false to\n         * stop the default drag action.\n         *\n         * @callback Highcharts.PointDragCallbackFunction\n         *\n         * @param {Highcharts.Point} this\n         *        Point where the event occurred.\n         *\n         * @param {Highcharts.PointDragEventObject} event\n         *        Event arguments.\n         */\n        /**\n         * Contains information about a points new values.\n         *\n         * @interface Highcharts.PointDragDropObject\n         */ /**\n        * New values.\n        * @name Highcharts.PointDragDropObject#newValues\n        * @type {Highcharts.Dictionary<number>}\n        */ /**\n        * Updated point.\n        * @name Highcharts.PointDragDropObject#point\n        * @type {Highcharts.Point}\n        */\n        /**\n         * Contains common information for a drag event on series points.\n         *\n         * @interface Highcharts.PointDragEventObject\n         */ /**\n        * New point after drag if only a single one.\n        * @name Highcharts.PointDropEventObject#newPoint\n        * @type {Highcharts.PointDragDropObject|undefined}\n        */ /**\n        * New point id after drag if only a single one.\n        * @name Highcharts.PointDropEventObject#newPointId\n        * @type {string|undefined}\n        */ /**\n        * New points during drag.\n        * @name Highcharts.PointDragEventObject#newPoints\n        * @type {Highcharts.Dictionary<Highcharts.PointDragDropObject>}\n        */ /**\n        * Original data.\n        * @name Highcharts.PointDragEventObject#origin\n        * @type {Highcharts.DragDropPositionObject}\n        */ /**\n        * Prevent default drag action.\n        * @name Highcharts.PointDragEventObject#preventDefault\n        * @type {Function}\n        */ /**\n        * Target point that caused the event.\n        * @name Highcharts.PointDragEventObject#target\n        * @type {Highcharts.Point}\n        */ /**\n        * Event type.\n        * @name Highcharts.PointDragEventObject#type\n        * @type {\"drag\"}\n        */\n        /**\n         * Function callback to execute when a series point is dragged.\n         *\n         * @callback Highcharts.PointDragStartCallbackFunction\n         *\n         * @param {Highcharts.Point} this\n         *        Point where the event occurred.\n         *\n         * @param {Highcharts.PointDragStartEventObject} event\n         *        Event arguments.\n         */\n        /**\n         * Contains common information for a drag event on series point.\n         *\n         * @interface Highcharts.PointDragStartEventObject\n         * @extends global.MouseEvent\n         */ /**\n        * Data property being dragged.\n        * @name Highcharts.PointDragStartEventObject#updateProp\n        * @type {string|undefined}\n        */\n        /**\n         * Function callback to execute when series points are dropped.\n         *\n         * @callback Highcharts.PointDropCallbackFunction\n         *\n         * @param {Highcharts.Point} this\n         *        Point where the event occurred.\n         *\n         * @param {Highcharts.PointDropEventObject} event\n         *        Event arguments.\n         */\n        /**\n         * Contains common information for a drop event on series points.\n         *\n         * @interface Highcharts.PointDropEventObject\n         */ /**\n        * New point after drop if only a single one.\n        * @name Highcharts.PointDropEventObject#newPoint\n        * @type {Highcharts.PointDragDropObject|undefined}\n        */ /**\n        * New point id after drop if only a single one.\n        * @name Highcharts.PointDropEventObject#newPointId\n        * @type {string|undefined}\n        */ /**\n        * New points after drop.\n        * @name Highcharts.PointDropEventObject#newPoints\n        * @type {Highcharts.Dictionary<Highcharts.PointDragDropObject>}\n        */ /**\n        * Number of new points.\n        * @name Highcharts.PointDropEventObject#numNewPoints\n        * @type {number}\n        */ /**\n        * Original data.\n        * @name Highcharts.PointDropEventObject#origin\n        * @type {Highcharts.DragDropPositionObject}\n        */ /**\n        * Prevent default drop action.\n        * @name Highcharts.PointDropEventObject#preventDefault\n        * @type {Function}\n        */ /**\n        * Target point that caused the event.\n        * @name Highcharts.PointDropEventObject#target\n        * @type {Highcharts.Point}\n        */ /**\n        * Event type.\n        * @name Highcharts.PointDropEventObject#type\n        * @type {\"drop\"}\n        */\n        ''; // Detaches doclets above\n\n        return DraggablePoints;\n    });\n    _registerModule(_modules, 'masters/modules/draggable-points.src.js', [_modules['Core/Globals.js'], _modules['Extensions/DraggablePoints/DraggablePoints.js']], function (Highcharts, DraggablePoints) {\n\n        var G = Highcharts;\n        DraggablePoints.compose(G.Chart, G.Series);\n\n        return Highcharts;\n    });\n}));\n"],"names":["factory","module","exports","define","amd","Highcharts","undefined","_modules","_registerModule","obj","path","args","fn","hasOwnProperty","apply","CustomEvent","win","dispatchEvent","detail","U","addEvent","addEvents","el","types","options","removeFuncs","map","type","_i","removeFuncs_1","length","fn_1","countProps","Object","keys","getFirstProp","p","call","getNormalizedEvent","e","chart","_a","chartX","chartY","pointer","normalize","dragSensitivity","dragHandle","className","color","lineColor","lineWidth","zIndex","guideBox","cursor","A","DDU","DragDropDefaults","H","animObject","doc","merge","pick","chartHideDragHandles","dragHandles","key","destroy","chartSetGuideBoxState","state","dragGuideBox","guideBoxOptions","stateOptions","attr","stroke","strokeWidth","fill","css","pointerEvents","chartZoomOrPanKeyPressed","chartOptions","panKey","zooming","flipResizeSide","side","left","right","top","bottom","initDragDrop","point","groupedPoints","getGroupedPoints","series","data","groupKey","dragDrop","groupBy","points","boosted","i","iEnd","push","pointClass","index","filter","comparePoint","liveRedraw","getGuideBox","setGuideBoxState","add","group","dragDropData","origin","getPositionSnapshot","res","x","y","width","height","points_1","dragDropProps","pointProps","_b","val","axis","mapView","plotX","plotY","toPixels","horiz","id","isDragging","mouseUp","draggedPastSensitivity","newPoints","numNewPoints","newPoint","hideDragHandles","preventDefault","cancelClick","firePointEvent","newValues","newPointId","updatePoints","onChartRender","hasAddedDragDropEvents","container","isChartDraggable","hasCartesianSeries","polar","isSeriesDraggable","props","optionName","mouseDown","dragPoint","hoverPoint","dragDropOptions","draggableX","draggableY","zoomOrPanKeyPressed","hasDraggedAnnotation","isPointMovable","hasMovableX","hasMovableY","seriesDragDropOptions","pointDragDropOptions","updateProps","move","yAxis","xAxis","mouseIsDown","mouseMove","sensitivity","orig","oldX","oldY","newX","newY","seriesDragDropOpts","distance","Math","sqrt","getNewPoints","newPos","resizeProp","updateProp","hashmap","resize","getDropValues","dX","dY","oldDx","resizeSide","inverted","showDragHandles","beforeResize","resizeRect","rect","updateSide","update","resizeAttrs","max","reversed","prevdX","prevdY","translate","passive","unbindDragDropMouseUp","animation","animOptions","isDragDropAnimating","redraw","setTimeout","duration","compose","ChartClass","chartProto","prototype","DraggableChart","__assign","assign","t","s","n","arguments","isNumber","line","column","pointVals","diff","plotThreshold","yBottom","translatedThreshold","threshold","stackY","round","flipSide","handlePositioner","bBox","shapeArgs","graphic","getBBox","handleFormatter","radius","r","centerX","boxplot","low","lowPlot","propValidate","q1","q1Plot","median","q3","q3Plot","high","highPlot","errorbar","bullet","target","targetGraphic","barX","ohlc","plotLow","open","close","plotHigh","plotOpen","plotClose","waterfall","isSum","isIntermediateSum","columnrange","arearange","graphics","arearangeHandleFormatter","xrange","xrangeHandlePositioner","horizHandleFormatter","x2","centerY","xProp","offsetY","columnMetrics","offset","len","flags","gantt","start","validateIndividualDrag","milestone","end","DragDropProps","clamp","mouseOut","isHoveringHandle","onPointMouseOut","onPointMouseOver","is3d","onPointRemove","pointGetDropValues","result","pointOrigin","updateSingleProp","oldVal","newVal","limitToMapRange","direction","precision","lonLatMin","pixelsToLonLat","lonLatMax","plotBox","min","Infinity","projection","name","isNaN","maxLatitude","temp","hasCoordinates","lonLatRes","plotLeft","plotHeight","plotTop","toUpperCase","limitToRange","defaultPrecision","toLowerCase","categories","toValue","pointShowDragHandles","renderer","_loop_1","handleOptions","handleAttrs","pathFormatter","validate","pos","handle","g","markerGroup","d","minEdge","value","translateX","translateY","rotation","element","stopPropagation","state_1","seriesGetGuideBox","changed","minX","maxX","minY","maxY","plotX2","skipBBox","SeriesClass","seriesProto","PointClass","seriesTypes","pointProto","seriesWithDragDropProps_1","seriesType","seriesWithoutDragDropProps_1","DraggablePoints","G","Chart","Series"],"mappings":"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"}