!/**
 * Highcharts JS v11.4.8 (2024-08-29)
 *
 * Arc diagram module
 *
 * (c) 2021 Piotr Madej
 *
 * License: www.highcharts.com/license
 */function(t){"object"==typeof module&&module.exports?(t.default=t,module.exports=t):"function"==typeof define&&define.amd?define("modules/arc-diagram",["highcharts/modules/sankey"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";var e=t?t._modules:{};function i(e,i,r,o){e.hasOwnProperty(i)||(e[i]=o.apply(null,r),"function"==typeof CustomEvent&&t.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:i,module:e[i]}})))}i(e,"Series/ArcDiagram/ArcDiagramPoint.js",[e["Series/NodesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e,i){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=e.seriesTypes.sankey.prototype.pointClass,n=i.extend,a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isValid=function(){return!0},e}(s);return n(a.prototype,{setState:t.setNodeState}),a}),i(e,"Series/ArcDiagram/ArcDiagramSeriesDefaults.js",[],function(){return{centeredLinks:!1,equalNodes:!1,dataLabels:{linkTextPath:{attributes:{startOffset:"25%"}}},marker:{fillOpacity:1,lineWidth:0,states:{},symbol:"circle"},offset:"100%",reversed:!1}}),i(e,"Core/Foundation.js",[e["Core/Utilities.js"]],function(t){var e,i=t.addEvent,r=t.isFunction,o=t.objectEach,s=t.removeEvent;return(e||(e={})).registerEventOptions=function(t,e){t.eventOptions=t.eventOptions||{},o(e.events,function(e,o){t.eventOptions[o]!==e&&(t.eventOptions[o]&&(s(t,o,t.eventOptions[o]),delete t.eventOptions[o]),r(e)&&(t.eventOptions[o]=e,i(t,o,e,{order:0})))})},e}),i(e,"Core/Legend/LegendSymbol.js",[e["Core/Utilities.js"]],function(t){var e,i=this&&this.__spreadArray||function(t,e,i){if(i||2==arguments.length)for(var r,o=0,s=e.length;o<s;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},r=t.extend,o=t.merge,s=t.pick;return function(t){function e(t,e,n){var a,h,l,d=this.legendItem=this.legendItem||{},p=this.chart,c=this.options,u=t.baseline,f=void 0===u?0:u,g=t.symbolWidth,y=t.symbolHeight,v=this.symbol||"circle",m=y/2,x=p.renderer,b=d.group,S=f-Math.round(((null===(a=t.fontMetrics)||void 0===a?void 0:a.b)||y)*(n?.4:.3)),C={},k=c.marker,A=0;if(p.styledMode||(C["stroke-width"]=Math.min(c.lineWidth||0,24),c.dashStyle?C.dashstyle=c.dashStyle:"square"===c.linecap||(C["stroke-linecap"]="round")),d.line=x.path().addClass("highcharts-graph").attr(C).add(b),n&&(d.area=x.path().addClass("highcharts-area").add(b)),C["stroke-linecap"]&&(A=Math.min(d.line.strokeWidth(),g)/2),g){var w=[["M",A,S],["L",g-A,S]];d.line.attr({d:w}),null===(h=d.area)||void 0===h||h.attr({d:i(i([],w,!0),[["L",g-A,f],["L",A,f]],!1)})}if(k&&!1!==k.enabled&&g){var D=Math.min(s(k.radius,m),m);0===v.indexOf("url")&&(k=o(k,{width:y,height:y}),D=0),d.symbol=l=x.symbol(v,g/2-D,S-D,2*D,2*D,r({context:"legend"},k)).addClass("highcharts-point").add(b),l.isMarker=!0}}t.areaMarker=function(t,i){e.call(this,t,i,!0)},t.lineMarker=e,t.rectangle=function(t,e){var i=e.legendItem||{},r=t.options,o=t.symbolHeight,n=r.squareSymbol,a=n?o:t.symbolWidth;i.symbol=this.chart.renderer.rect(n?(t.symbolWidth-o)/2:0,t.baseline-o+1,a,o,s(t.options.symbolRadius,o/2)).addClass("highcharts-point").attr({zIndex:3}).add(i.group)}}(e||(e={})),e}),i(e,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){var t=this.series.chart.numberFormatter;return"number"!=typeof this.y?"":t(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),i(e,"Core/Series/Series.js",[e["Core/Animation/AnimationUtilities.js"],e["Core/Defaults.js"],e["Core/Foundation.js"],e["Core/Globals.js"],e["Core/Legend/LegendSymbol.js"],e["Core/Series/Point.js"],e["Core/Series/SeriesDefaults.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Renderer/SVG/SVGElement.js"],e["Core/Utilities.js"]],function(t,e,i,r,o,s,n,a,h,l){var d=this&&this.__assign||function(){return(d=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},p=this&&this.__spreadArray||function(t,e,i){if(i||2==arguments.length)for(var r,o=0,s=e.length;o<s;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},c=t.animObject,u=t.setAnimation,f=e.defaultOptions,g=i.registerEventOptions,y=r.svg,v=r.win,m=a.seriesTypes,x=l.arrayMax,b=l.arrayMin,S=l.clamp,C=l.correctFloat,k=l.crisp,A=l.defined,w=l.destroyObjectProperties,D=l.diffObjects,O=l.erase,M=l.error,L=l.extend,E=l.find,P=l.fireEvent,T=l.getClosestDistance,j=l.getNestedProperty,B=l.insertItem,R=l.isArray,N=l.isNumber,I=l.isString,W=l.merge,G=l.objectEach,X=l.pick,z=l.removeEvent,_=l.splat,V=l.syncTimeout,F=function(){function t(){this.zoneAxis="y"}return t.prototype.init=function(t,e){P(this,"init",{options:e});var i,r=this,o=t.series;this.eventsToUnbind=[],r.chart=t,r.options=r.setOptions(e);var s=r.options,n=!1!==s.visible;r.linkedSeries=[],r.bindAxes(),L(r,{name:s.name,state:"",visible:n,selected:!0===s.selected}),g(this,s);var a=s.events;(a&&a.click||s.point&&s.point.events&&s.point.events.click||s.allowPointSelect)&&(t.runTrackerClick=!0),r.getColor(),r.getSymbol(),r.parallelArrays.forEach(function(t){r[t+"Data"]||(r[t+"Data"]=[])}),r.isCartesian&&(t.hasCartesianSeries=!0),o.length&&(i=o[o.length-1]),r._i=X(i&&i._i,-1)+1,r.opacity=r.options.opacity,t.orderItems("series",B(this,o)),s.dataSorting&&s.dataSorting.enabled?r.setDataSortingOptions():r.points||r.data||r.setData(s.data,!1),P(this,"afterInit")},t.prototype.is=function(t){return m[t]&&this instanceof m[t]},t.prototype.bindAxes=function(){var t,e=this,i=e.options,r=e.chart;P(this,"bindAxes",null,function(){(e.axisTypes||[]).forEach(function(o){(r[o]||[]).forEach(function(r){t=r.options,(X(i[o],0)===r.index||void 0!==i[o]&&i[o]===t.id)&&(B(e,r.series),e[o]=r,r.isDirty=!0)}),e[o]||e.optionalAxis===o||M(18,!0,r)})}),P(this,"afterBindAxes")},t.prototype.updateParallelArrays=function(t,e,i){var r=t.series,o=N(e)?function(i){var o="y"===i&&r.toYData?r.toYData(t):t[i];r[i+"Data"][e]=o}:function(t){Array.prototype[e].apply(r[t+"Data"],i)};r.parallelArrays.forEach(o)},t.prototype.hasData=function(){return this.visible&&void 0!==this.dataMax&&void 0!==this.dataMin||this.visible&&this.yData&&this.yData.length>0},t.prototype.hasMarkerChanged=function(t,e){var i=t.marker,r=e.marker||{};return i&&(r.enabled&&!i.enabled||r.symbol!==i.symbol||r.height!==i.height||r.width!==i.width)},t.prototype.autoIncrement=function(t){var e,i,r=this.options,o=r.pointIntervalUnit,s=r.relativeXValue,n=this.chart.time,a=this.xIncrement;return(a=X(a,r.pointStart,0),this.pointInterval=i=X(this.pointInterval,r.pointInterval,1),s&&N(t)&&(i*=t),o&&(e=new n.Date(a),"day"===o?n.set("Date",e,n.get("Date",e)+i):"month"===o?n.set("Month",e,n.get("Month",e)+i):"year"===o&&n.set("FullYear",e,n.get("FullYear",e)+i),i=e.getTime()-a),s&&N(t))?a+i:(this.xIncrement=a+i,a)},t.prototype.setDataSortingOptions=function(){var t=this.options;L(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),A(t.pointRange)||(t.pointRange=1)},t.prototype.setOptions=function(t){var e,i,r,o=this.chart,s=o.options.plotOptions,n=o.userOptions||{},a=W(t),h=o.styledMode,l={plotOptions:s,userOptions:a};P(this,"setOptions",l);var p=l.plotOptions[this.type],c=n.plotOptions||{},u=c.series||{},g=f.plotOptions[this.type]||{},y=c[this.type]||{};this.userOptions=l.userOptions;var v=W(p,s.series,y,a);this.tooltipOptions=W(f.tooltip,null===(e=f.plotOptions.series)||void 0===e?void 0:e.tooltip,null==g?void 0:g.tooltip,o.userOptions.tooltip,null===(i=c.series)||void 0===i?void 0:i.tooltip,y.tooltip,a.tooltip),this.stickyTracking=X(a.stickyTracking,y.stickyTracking,u.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||v.stickyTracking),null===p.marker&&delete v.marker,this.zoneAxis=v.zoneAxis||"y";var m=this.zones=(v.zones||[]).map(function(t){return d({},t)});return(v.negativeColor||v.negativeFillColor)&&!v.zones&&(r={value:v[this.zoneAxis+"Threshold"]||v.threshold||0,className:"highcharts-negative"},h||(r.color=v.negativeColor,r.fillColor=v.negativeFillColor),m.push(r)),m.length&&A(m[m.length-1].value)&&m.push(h?{}:{color:this.color,fillColor:this.fillColor}),P(this,"afterSetOptions",{options:v}),v},t.prototype.getName=function(){return X(this.options.name,"Series "+(this.index+1))},t.prototype.getCyclic=function(t,e,i){var r,o,s=this.chart,n="".concat(t,"Index"),a="".concat(t,"Counter"),h=(null==i?void 0:i.length)||s.options.chart.colorCount;!e&&(A(o=X("color"===t?this.options.colorIndex:void 0,this[n]))?r=o:(s.series.length||(s[a]=0),r=s[a]%h,s[a]+=1),i&&(e=i[r])),void 0!==r&&(this[n]=r),this[t]=e},t.prototype.getColor=function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||f.plotOptions[this.type].color,this.chart.options.colors)},t.prototype.getPointsCollection=function(){return(this.hasGroupedData?this.points:this.data)||[]},t.prototype.getSymbol=function(){var t=this.options.marker;this.getCyclic("symbol",t.symbol,this.chart.options.symbols)},t.prototype.findPointIndex=function(t,e){var i,r,o,n=t.id,a=t.x,h=this.points,l=this.options.dataSorting;if(n){var d=this.chart.get(n);d instanceof s&&(i=d)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){var p=function(e){return!e.touched&&e.index===t.index};if(l&&l.matchByName?p=function(e){return!e.touched&&e.name===t.name}:this.options.relativeXValue&&(p=function(e){return!e.touched&&e.options.x===t.x}),!(i=E(h,p)))return}return i&&void 0!==(o=i&&i.index)&&(r=!0),void 0===o&&N(a)&&(o=this.xData.indexOf(a,e)),-1!==o&&void 0!==o&&this.cropped&&(o=o>=this.cropStart?o-this.cropStart:o),!r&&N(o)&&h[o]&&h[o].touched&&(o=void 0),o},t.prototype.updateData=function(t,e){var i,r,o,s,n=this.options,a=n.dataSorting,h=this.points,l=[],d=this.requireSorting,p=t.length===h.length,c=!0;if(this.xIncrement=null,t.forEach(function(t,e){var r,o=A(t)&&this.pointClass.prototype.optionsToObject.call({series:this},t)||{},c=o.x;o.id||N(c)?(-1===(r=this.findPointIndex(o,s))||void 0===r?l.push(t):h[r]&&t!==n.data[r]?(h[r].update(t,!1,null,!1),h[r].touched=!0,d&&(s=r+1)):h[r]&&(h[r].touched=!0),(!p||e!==r||a&&a.enabled||this.hasDerivedData)&&(i=!0)):l.push(t)},this),i)for(r=h.length;r--;)(o=h[r])&&!o.touched&&o.remove&&o.remove(!1,e);else!p||a&&a.enabled?c=!1:(t.forEach(function(t,e){t===h[e].y||h[e].destroyed||h[e].update(t,!1,null,!1)}),l.length=0);return h.forEach(function(t){t&&(t.touched=!1)}),!!c&&(l.forEach(function(t){this.addPoint(t,!1,null,null,!1)},this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=x(this.xData),this.autoIncrement()),!0)},t.prototype.setData=function(t,e,i,r){void 0===e&&(e=!0);var o,s,n,a,h,l=this,d=l.points,p=d&&d.length||0,c=l.options,u=l.chart,f=c.dataSorting,g=l.xAxis,y=c.turboThreshold,v=this.xData,m=this.yData,x=l.pointArrayMap,b=x&&x.length,S=c.keys,C=0,k=1;u.options.chart.allowMutatingData||(c.data&&delete l.options.data,l.userOptions.data&&delete l.userOptions.data,h=W(!0,t));var A=(t=h||t||[]).length;if(f&&f.enabled&&(t=this.sortData(t)),u.options.chart.allowMutatingData&&!1!==r&&A&&p&&!l.cropped&&!l.hasGroupedData&&l.visible&&!l.boosted&&(a=this.updateData(t,i)),!a){l.xIncrement=null,l.colorCounter=0,this.parallelArrays.forEach(function(t){l[t+"Data"].length=0});var w=y&&A>y;if(w){var D=l.getFirstValidPoint(t),O=l.getFirstValidPoint(t,A-1,-1),L=function(t){return!!(R(t)&&(S||N(t[0])))};if(N(D)&&N(O))for(s=0;s<A;s++)v[s]=this.autoIncrement(),m[s]=t[s];else if(L(D)&&L(O)){if(b){if(D.length===b)for(s=0;s<A;s++)v[s]=this.autoIncrement(),m[s]=t[s];else for(s=0;s<A;s++)n=t[s],v[s]=n[0],m[s]=n.slice(1,b+1)}else if(S&&(C=S.indexOf("x"),k=S.indexOf("y"),C=C>=0?C:0,k=k>=0?k:1),1===D.length&&(k=0),C===k)for(s=0;s<A;s++)v[s]=this.autoIncrement(),m[s]=t[s][k];else for(s=0;s<A;s++)n=t[s],v[s]=n[C],m[s]=n[k]}else w=!1}if(!w)for(s=0;s<A;s++)n={series:l},l.pointClass.prototype.applyOptions.apply(n,[t[s]]),l.updateParallelArrays(n,s);for(m&&I(m[0])&&M(14,!0,u),l.data=[],l.options.data=l.userOptions.data=t,s=p;s--;)null===(o=d[s])||void 0===o||o.destroy();g&&(g.minRange=g.userMinRange),l.isDirty=u.isDirtyBox=!0,l.isDirtyData=!!d,i=!1}"point"===c.legendType&&(this.processData(),this.generatePoints()),e&&u.redraw(i)},t.prototype.sortData=function(t){var e=this,i=e.options.dataSorting.sortKey||"y",r=function(t,e){return A(e)&&t.pointClass.prototype.optionsToObject.call({series:t},e)||{}};return t.forEach(function(i,o){t[o]=r(e,i),t[o].index=o},this),t.concat().sort(function(t,e){var r=j(i,t),o=j(i,e);return o<r?-1:o>r?1:0}).forEach(function(t,e){t.x=e},this),e.linkedSeries&&e.linkedSeries.forEach(function(e){var i=e.options,o=i.data;i.dataSorting&&i.dataSorting.enabled||!o||(o.forEach(function(i,s){o[s]=r(e,i),t[s]&&(o[s].x=t[s].x,o[s].index=s)}),e.setData(o,!1))}),t},t.prototype.getProcessedData=function(t){var e,i,r,o,s,n=this,a=n.xAxis,h=n.options.cropThreshold,l=null==a?void 0:a.logarithmic,d=n.isCartesian,p=0,c=n.xData,u=n.yData,f=!1,g=c.length;a&&(o=(r=a.getExtremes()).min,s=r.max,f=!!(a.categories&&!a.names.length)),d&&n.sorted&&!t&&(!h||g>h||n.forceCrop)&&(c[g-1]<o||c[0]>s?(c=[],u=[]):n.yData&&(c[0]<o||c[g-1]>s)&&(c=(e=this.cropData(n.xData,n.yData,o,s)).xData,u=e.yData,p=e.start,i=!0));var y=T([l?c.map(l.log2lin):c],function(){return n.requireSorting&&!f&&M(15,!1,n.chart)});return{xData:c,yData:u,cropped:i,cropStart:p,closestPointRange:y}},t.prototype.processData=function(t){var e=this.xAxis;if(this.isCartesian&&!this.isDirty&&!e.isDirty&&!this.yAxis.isDirty&&!t)return!1;var i=this.getProcessedData();this.cropped=i.cropped,this.cropStart=i.cropStart,this.processedXData=i.xData,this.processedYData=i.yData,this.closestPointRange=this.basePointRange=i.closestPointRange,P(this,"afterProcessData")},t.prototype.cropData=function(t,e,i,r){var o,s,n=t.length,a=0,h=n;for(o=0;o<n;o++)if(t[o]>=i){a=Math.max(0,o-1);break}for(s=o;s<n;s++)if(t[s]>r){h=s+1;break}return{xData:t.slice(a,h),yData:e.slice(a,h),start:a,end:h}},t.prototype.generatePoints=function(){var t,e,i,r,o=this.options,s=this.processedData||o.data,n=this.processedXData,a=this.processedYData,h=this.pointClass,l=n.length,d=this.cropStart||0,p=this.hasGroupedData,c=o.keys,u=[],f=o.dataGrouping&&o.dataGrouping.groupAll?d:0,g=this.data;if(!g&&!p){var y=[];y.length=s.length,g=this.data=y}for(c&&p&&(this.options.keys=!1),r=0;r<l;r++)e=d+r,p?((i=new h(this,[n[r]].concat(_(a[r])))).dataGroup=this.groupMap[f+r],i.dataGroup.options&&(i.options=i.dataGroup.options,L(i,i.dataGroup.options),delete i.dataLabels)):(i=g[e])||void 0===s[e]||(g[e]=i=new h(this,s[e],n[r])),i&&(i.index=p?f+r:e,u[r]=i);if(this.options.keys=c,g&&(l!==(t=g.length)||p))for(r=0;r<t;r++)r!==d||p||(r+=l),g[r]&&(g[r].destroyElements(),g[r].plotX=void 0);this.data=g,this.points=u,P(this,"afterGeneratePoints")},t.prototype.getXExtremes=function(t){return{min:b(t),max:x(t)}},t.prototype.getExtremes=function(t,e){var i,r,o,s,n,a,h,l=this.xAxis,d=this.yAxis,p=[],c=this.requireSorting&&!this.is("column")?1:0,u=!!d&&d.positiveValuesOnly,f=e||this.getExtremesFromAll||this.options.getExtremesFromAll,g=this.processedXData,y=this.processedYData,v=0,m=0,S=0;if(this.cropped&&f){var C=this.getProcessedData(!0);g=C.xData,y=C.yData}var k=(t=t||this.stackedYData||y||[]).length,A=g||this.xData;for(l&&(v=(i=l.getExtremes()).min,m=i.max),a=0;a<k;a++)if(s=A[a],r=(N(n=t[a])||R(n))&&((N(n)?n>0:n.length)||!u),o=e||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!l||(A[a+c]||s)>=v&&(A[a-c]||s)<=m,r&&o){if(h=n.length)for(;h--;)N(n[h])&&(p[S++]=n[h]);else p[S++]=n}var w={activeYData:p,dataMin:b(p),dataMax:x(p)};return P(this,"afterGetExtremes",{dataExtremes:w}),w},t.prototype.applyExtremes=function(){var t=this.getExtremes();return this.dataMin=t.dataMin,this.dataMax=t.dataMax,t},t.prototype.getFirstValidPoint=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=1);for(var r=t.length,o=e;o>=0&&o<r;){if(A(t[o]))return t[o];o+=i}},t.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints();var t,e,i,r,o,s=this.options,n=s.stacking,a=this.xAxis,h=a.categories,l=this.enabledDataSorting,d=this.yAxis,p=this.points,c=p.length,u=this.pointPlacementToXValue(),f=!!u,g=s.threshold,y=s.startFromThreshold?g:0,v=Number.MAX_VALUE;function m(t){return S(t,-1e9,1e9)}for(e=0;e<c;e++){var x=p[e],b=x.x,k=void 0,w=void 0,D=x.y,O=x.low,M=n&&(null===(t=d.stacking)||void 0===t?void 0:t.stacks[(this.negStacks&&D<(y?0:g)?"-":"")+this.stackKey]);i=a.translate(b,!1,!1,!1,!0,u),x.plotX=N(i)?C(m(i)):void 0,n&&this.visible&&M&&M[b]&&(o=this.getStackIndicator(o,b,this.index),!x.isNull&&o.key&&(w=(k=M[b]).points[o.key]),k&&R(w)&&(O=w[0],D=w[1],O===y&&o.key===M[b].base&&(O=X(N(g)?g:d.min)),d.positiveValuesOnly&&A(O)&&O<=0&&(O=void 0),x.total=x.stackTotal=X(k.total),x.percentage=A(x.y)&&k.total?x.y/k.total*100:void 0,x.stackY=D,this.irregularWidths||k.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),x.yBottom=A(O)?m(d.translate(O,!1,!0,!1,!0)):void 0,this.dataModify&&(D=this.dataModify.modifyValue(D,e));var L=void 0;N(D)&&void 0!==x.plotX&&(L=N(L=d.translate(D,!1,!0,!1,!0))?m(L):void 0),x.plotY=L,x.isInside=this.isPointInside(x),x.clientX=f?C(a.translate(b,!1,!1,!1,!0,u)):i,x.negative=(x.y||0)<(g||0),x.category=X(h&&h[x.x],x.x),x.isNull||!1===x.visible||(void 0!==r&&(v=Math.min(v,Math.abs(i-r))),r=i),x.zone=this.zones.length?x.getZone():void 0,!x.graphic&&this.group&&l&&(x.isNew=!0)}this.closestPointRangePx=v,P(this,"afterTranslate")},t.prototype.getValidPoints=function(t,e,i){var r=this.chart;return(t||this.points||[]).filter(function(t){var o=t.plotX,s=t.plotY;return!!((i||!t.isNull&&N(s))&&(!e||r.isInsidePlot(o,s,{inverted:r.inverted})))&&!1!==t.visible})},t.prototype.getClipBox=function(){var t,e=this.chart,i=this.xAxis,r=this.yAxis,o=W(e.clipBox),s=o.x,n=o.y,a=o.width,h=o.height;return i&&i.len!==e.plotSizeX&&(a=i.len),r&&r.len!==e.plotSizeY&&(h=r.len),e.inverted&&!this.invertible&&(a=(t=[h,a])[0],h=t[1]),{x:s,y:n,width:a,height:h}},t.prototype.getSharedClipKey=function(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey},t.prototype.setClip=function(){var t=this.chart,e=this.group,i=this.markerGroup,r=t.sharedClips,o=t.renderer,s=this.getClipBox(),n=this.getSharedClipKey(),a=r[n];a?a.animate(s):r[n]=a=o.clipRect(s),e&&e.clip(!1===this.options.clip?void 0:a),i&&i.clip()},t.prototype.animate=function(t){var e=this.chart,i=this.group,r=this.markerGroup,o=e.inverted,s=c(this.options.animation),n=[this.getSharedClipKey(),s.duration,s.easing,s.defer].join(","),a=e.sharedClips[n],h=e.sharedClips[n+"m"];if(t&&i){var l=this.getClipBox();if(a)a.attr("height",l.height);else{l.width=0,o&&(l.x=e.plotHeight),a=e.renderer.clipRect(l),e.sharedClips[n]=a;var d={x:-99,y:-99,width:o?e.plotWidth+199:99,height:o?99:e.plotHeight+199};h=e.renderer.clipRect(d),e.sharedClips[n+"m"]=h}i.clip(a),null==r||r.clip(h)}else if(a&&!a.hasClass("highcharts-animating")){var p=this.getClipBox(),u=s.step;((null==r?void 0:r.element.childNodes.length)||e.series.length>1)&&(s.step=function(t,e){u&&u.apply(e,arguments),"width"===e.prop&&(null==h?void 0:h.element)&&h.attr(o?"height":"width",t+99)}),a.addClass("highcharts-animating").animate(p,s)}},t.prototype.afterAnimate=function(){var t=this;this.setClip(),G(this.chart.sharedClips,function(e,i,r){e&&!t.chart.container.querySelector('[clip-path="url(#'.concat(e.id,')"]'))&&(e.destroy(),delete r[i])}),this.finishedAnimating=!0,P(this,"afterAnimate")},t.prototype.drawPoints=function(t){void 0===t&&(t=this.points);var e,i,r,o,s,n,a,h=this.chart,l=h.styledMode,d=this.colorAxis,p=this.options.marker,c=this[this.specialGroup||"markerGroup"],u=this.xAxis,f=X(p.enabled,!u||!!u.isRadial||null,this.closestPointRangePx>=p.enabledThreshold*p.radius);if(!1!==p.enabled||this._hasPointMarkers)for(e=0;e<t.length;e++)if(o=(r=(i=t[e]).graphic)?"animate":"attr",s=i.marker||{},n=!!i.marker,(f&&void 0===s.enabled||s.enabled)&&!i.isNull&&!1!==i.visible){var g=X(s.symbol,this.symbol,"rect");a=this.markerAttribs(i,i.selected&&"select"),this.enabledDataSorting&&(i.startXPos=u.reversed?-(a.width||0):u.width);var y=!1!==i.isInside;if(!r&&y&&((a.width||0)>0||i.hasImage)&&(i.graphic=r=h.renderer.symbol(g,a.x,a.y,a.width,a.height,n?s:p).add(c),this.enabledDataSorting&&h.hasRendered&&(r.attr({x:i.startXPos}),o="animate")),r&&"animate"===o&&r[y?"show":"hide"](y).animate(a),r){var v=this.pointAttribs(i,l||!i.selected?void 0:"select");l?d&&r.css({fill:v.fill}):r[o](v)}r&&r.addClass(i.getClassName(),!0)}else r&&(i.graphic=r.destroy())},t.prototype.markerAttribs=function(t,e){var i,r,o=this.options,s=o.marker,n=t.marker||{},a=n.symbol||s.symbol,h={},l=X(n.radius,s&&s.radius);e&&(i=s.states[e],l=X((r=n.states&&n.states[e])&&r.radius,i&&i.radius,l&&l+(i&&i.radiusPlus||0))),t.hasImage=a&&0===a.indexOf("url"),t.hasImage&&(l=0);var d=t.pos();return N(l)&&d&&(o.crisp&&(d[0]=k(d[0],t.hasImage?0:"rect"===a?(null==s?void 0:s.lineWidth)||0:1)),h.x=d[0]-l,h.y=d[1]-l),l&&(h.width=h.height=2*l),h},t.prototype.pointAttribs=function(t,e){var i,r,o,s,n=this.options.marker,a=t&&t.options,h=a&&a.marker||{},l=a&&a.color,d=t&&t.color,p=t&&t.zone&&t.zone.color,c=this.color,u=X(h.lineWidth,n.lineWidth),f=1;return c=l||p||d||c,o=h.fillColor||n.fillColor||c,s=h.lineColor||n.lineColor||c,e=e||"normal",i=n.states[e]||{},u=X((r=h.states&&h.states[e]||{}).lineWidth,i.lineWidth,u+X(r.lineWidthPlus,i.lineWidthPlus,0)),o=r.fillColor||i.fillColor||o,{stroke:s=r.lineColor||i.lineColor||s,"stroke-width":u,fill:o,opacity:f=X(r.opacity,i.opacity,f)}},t.prototype.destroy=function(t){var e,i,r,o=this,s=o.chart,n=/AppleWebKit\/533/.test(v.navigator.userAgent),a=o.data||[];for(P(o,"destroy",{keepEventsForUpdate:t}),this.removeEvents(t),(o.axisTypes||[]).forEach(function(t){(r=o[t])&&r.series&&(O(r.series,o),r.isDirty=r.forceRedraw=!0)}),o.legendItem&&o.chart.legend.destroyItem(o),e=a.length;e--;)(i=a[e])&&i.destroy&&i.destroy();for(var d=0,p=o.zones;d<p.length;d++)w(p[d],void 0,!0);l.clearTimeout(o.animationTimeout),G(o,function(t,e){t instanceof h&&!t.survive&&t[n&&"group"===e?"hide":"destroy"]()}),s.hoverSeries===o&&(s.hoverSeries=void 0),O(s.series,o),s.orderItems("series"),G(o,function(e,i){t&&"hcEvents"===i||delete o[i]})},t.prototype.applyZones=function(){var t=this.area,e=this.chart,i=this.graph,r=this.zones,o=this.points,s=this.xAxis,n=this.yAxis,a=this.zoneAxis,h=e.inverted,l=e.renderer,d=this["".concat(a,"Axis")],c=d||{},u=c.isXAxis,f=c.len,g=void 0===f?0:f,y=((null==i?void 0:i.strokeWidth())||0)/2+1,v=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0),h&&(i=g-i);var r=t.translated,o=void 0===r?0:r,s=t.lineClip,n=i-o;null==s||s.push(["L",e,Math.abs(n)<y?i-y*(n<=0?-1:1):o])};if(r.length&&(i||t)&&d&&N(d.min)){var m=d.getExtremes().max,x=function(t){t.forEach(function(e,i){("M"===e[0]||"L"===e[0])&&(t[i]=[e[0],u?g-e[1]:e[1],u?e[2]:g-e[2]])})};if(r.forEach(function(t){t.lineClip=[],t.translated=S(d.toPixels(X(t.value,m),!0)||0,0,g)}),i&&!this.showLine&&i.hide(),t&&t.hide(),"y"===a&&o.length<s.len)for(var b=0;b<o.length;b++){var C=o[b],k=C.plotX,A=C.plotY,w=C.zone,D=w&&r[r.indexOf(w)-1];w&&v(w,k,A),D&&v(D,k,A)}var O=[],M=d.toPixels(d.getExtremes().min,!0);r.forEach(function(e){var r,o,a=e.lineClip||[],d=Math.round(e.translated||0);s.reversed&&a.reverse();var c=e.clip,f=e.simpleClip,g=0,y=0,v=s.len,m=n.len;u?(g=d,v=M):(y=d,m=M);var b=[["M",g,y],["L",v,y],["L",v,m],["L",g,m],["Z"]],S=p(p(p(p([b[0]],a,!0),[b[1],b[2]],!1),O,!0),[b[3],b[4]],!1);O=a.reverse(),M=d,h&&(x(S),t&&x(b)),c?(c.animate({d:S}),null==f||f.animate({d:b})):(c=e.clip=l.path(S),t&&(f=e.simpleClip=l.path(b))),i&&(null===(r=e.graph)||void 0===r||r.clip(c)),t&&(null===(o=e.area)||void 0===o||o.clip(f))})}else this.visible&&(i&&i.show(),t&&t.show())},t.prototype.plotGroup=function(t,e,i,r,o){var s=this[t],n=!s,a={visibility:i,zIndex:r||.1};return A(this.opacity)&&!this.chart.styledMode&&"inactive"!==this.state&&(a.opacity=this.opacity),s||(this[t]=s=this.chart.renderer.g().add(o)),s.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(A(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(s.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),s.attr(a)[n?"attr":"animate"](this.getPlotBox(e)),s},t.prototype.getPlotBox=function(t){var e=this.xAxis,i=this.yAxis,r=this.chart,o=r.inverted&&!r.polar&&e&&this.invertible&&"series"===t;return r.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:r.plotLeft,translateY:i?i.top:r.plotTop,rotation:o?90:0,rotationOriginX:o?(e.len-i.len)/2:0,rotationOriginY:o?(e.len+i.len)/2:0,scaleX:o?-1:1,scaleY:1}},t.prototype.removeEvents=function(t){var e=this.eventsToUnbind;t||z(this),e.length&&(e.forEach(function(t){t()}),e.length=0)},t.prototype.render=function(){var t,e,i,r,o,s=this,n=s.chart,a=s.options,h=s.hasRendered,l=c(a.animation),d=s.visible?"inherit":"hidden",p=a.zIndex,u=n.seriesGroup,f=s.finishedAnimating?0:l.duration;P(this,"render"),s.plotGroup("group","series",d,p,u),s.markerGroup=s.plotGroup("markerGroup","markers",d,p,u),!1!==a.clip&&s.setClip(),f&&(null===(t=s.animate)||void 0===t||t.call(s,!0)),s.drawGraph&&(s.drawGraph(),s.applyZones()),s.visible&&s.drawPoints(),null===(e=s.drawDataLabels)||void 0===e||e.call(s),null===(i=s.redrawPoints)||void 0===i||i.call(s),a.enableMouseTracking&&(null===(r=s.drawTracker)||void 0===r||r.call(s)),f&&(null===(o=s.animate)||void 0===o||o.call(s)),h||(f&&l.defer&&(f+=l.defer),s.animationTimeout=V(function(){s.afterAnimate()},f||0)),s.isDirty=!1,s.hasRendered=!0,P(s,"afterRender")},t.prototype.redraw=function(){var t=this.isDirty||this.isDirtyData;this.translate(),this.render(),t&&delete this.kdTree},t.prototype.reserveSpace=function(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries},t.prototype.searchPoint=function(t,e){var i=this.xAxis,r=this.yAxis,o=this.chart.inverted;return this.searchKDTree({clientX:o?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:o?r.len-t.chartX+r.pos:t.chartY-r.pos},e,t)},t.prototype.buildKDTree=function(t){this.buildingKdTree=!0;var e=this,i=e.options.findNearestPointBy.indexOf("y")>-1?2:1;delete e.kdTree,V(function(){e.kdTree=function t(i,r,o){var s,n,a=null==i?void 0:i.length;if(a)return s=e.kdAxisArray[r%o],i.sort(function(t,e){return(t[s]||0)-(e[s]||0)}),{point:i[n=Math.floor(a/2)],left:t(i.slice(0,n),r+1,o),right:t(i.slice(n+1),r+1,o)}}(e.getValidPoints(void 0,!e.directTouch),i,i),e.buildingKdTree=!1},e.options.kdNow||(null==t?void 0:t.type)==="touchstart"?0:1)},t.prototype.searchKDTree=function(t,e,i){var r=this,o=this.kdAxisArray,s=o[0],n=o[1],a=e?"distX":"dist",h=(r.options.findNearestPointBy||"").indexOf("y")>-1?2:1,l=!!r.isBubble;if(this.kdTree||this.buildingKdTree||this.buildKDTree(i),this.kdTree)return function t(e,i,o,h){var d,p,c,u,f,g,y,v,m,x,b,S=i.point,C=r.kdAxisArray[o%h],k=S;p=e[s],c=S[s],u=A(p)&&A(c)?p-c:null,f=e[n],g=S[n],y=A(f)&&A(g)?f-g:0,v=l&&(null===(d=S.marker)||void 0===d?void 0:d.radius)||0,S.dist=Math.sqrt((u&&u*u||0)+y*y)-v,S.distX=A(u)?Math.abs(u)-v:Number.MAX_VALUE;var w=(e[C]||0)-(S[C]||0)+(l&&(null===(m=S.marker)||void 0===m?void 0:m.radius)||0),D=w<0?"left":"right",O=w<0?"right":"left";return i[D]&&(k=(x=t(e,i[D],o+1,h))[a]<k[a]?x:S),i[O]&&Math.sqrt(w*w)<k[a]&&(k=(b=t(e,i[O],o+1,h))[a]<k[a]?b:k),k}(t,this.kdTree,h,h)},t.prototype.pointPlacementToXValue=function(){var t=this.options,e=this.xAxis,i=t.pointPlacement;return"between"===i&&(i=e.reversed?-.5:.5),N(i)?i*(t.pointRange||e.pointRange):0},t.prototype.isPointInside=function(t){var e=this.chart,i=this.xAxis,r=this.yAxis,o=t.plotX,s=void 0===o?-1:o,n=t.plotY,a=void 0===n?-1:n;return a>=0&&a<=(r?r.len:e.plotHeight)&&s>=0&&s<=(i?i.len:e.plotWidth)},t.prototype.drawTracker=function(){var t,e=this,i=e.options,r=i.trackByArea,o=[].concat((r?e.areaPath:e.graphPath)||[]),s=e.chart,n=s.pointer,a=s.renderer,h=(null===(t=s.options.tooltip)||void 0===t?void 0:t.snap)||0,l=function(){i.enableMouseTracking&&s.hoverSeries!==e&&e.onMouseOver()},d="rgba(192,192,192,"+(y?1e-4:.002)+")",p=e.tracker;p?p.attr({d:o}):e.graph&&(e.tracker=p=a.path(o).attr({visibility:e.visible?"inherit":"hidden",zIndex:2}).addClass(r?"highcharts-tracker-area":"highcharts-tracker-line").add(e.group),s.styledMode||p.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:d,fill:r?d:"none","stroke-width":e.graph.strokeWidth()+(r?0:2*h)}),[e.tracker,e.markerGroup,e.dataLabelsGroup].forEach(function(t){t&&(t.addClass("highcharts-tracker").on("mouseover",l).on("mouseout",function(t){null==n||n.onTrackerMouseOut(t)}),i.cursor&&!s.styledMode&&t.css({cursor:i.cursor}),t.on("touchstart",l))})),P(this,"afterDrawTracker")},t.prototype.addPoint=function(t,e,i,r,o){var s,n,a=this.options,h=this.data,l=this.chart,d=this.xAxis,p=d&&d.hasNames&&d.names,c=a.data,u=this.xData;e=X(e,!0);var f={series:this};this.pointClass.prototype.applyOptions.apply(f,[t]);var g=f.x;if(n=u.length,this.requireSorting&&g<u[n-1])for(s=!0;n&&u[n-1]>g;)n--;this.updateParallelArrays(f,"splice",[n,0,0]),this.updateParallelArrays(f,n),p&&f.name&&(p[g]=f.name),c.splice(n,0,t),(s||this.processedData)&&(this.data.splice(n,0,null),this.processData()),"point"===a.legendType&&this.generatePoints(),i&&(h[0]&&h[0].remove?h[0].remove(!1):(h.shift(),this.updateParallelArrays(f,"shift"),c.shift())),!1!==o&&P(this,"addPoint",{point:f}),this.isDirty=!0,this.isDirtyData=!0,e&&l.redraw(r)},t.prototype.removePoint=function(t,e,i){var r=this,o=r.data,s=o[t],n=r.points,a=r.chart,h=function(){n&&n.length===o.length&&n.splice(t,1),o.splice(t,1),r.options.data.splice(t,1),r.updateParallelArrays(s||{series:r},"splice",[t,1]),s&&s.destroy(),r.isDirty=!0,r.isDirtyData=!0,e&&a.redraw()};u(i,a),e=X(e,!0),s?s.firePointEvent("remove",null,h):h()},t.prototype.remove=function(t,e,i,r){var o=this,s=o.chart;function n(){o.destroy(r),s.isDirtyLegend=s.isDirtyBox=!0,s.linkSeries(r),X(t,!0)&&s.redraw(e)}!1!==i?P(o,"remove",null,n):n()},t.prototype.update=function(t,e){P(this,"update",{options:t=D(t,this.userOptions)});var i,r,o,s,n,a,h,l=this,d=l.chart,p=l.userOptions,c=l.initialType||l.type,u=d.options.plotOptions,f=m[c].prototype,g=l.finishedAnimating&&{animation:!1},y={},v=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],x=t.type||p.type||d.options.chart.type,b=!(this.hasDerivedData||x&&x!==this.type||void 0!==t.pointStart||void 0!==t.pointInterval||void 0!==t.relativeXValue||t.joinBy||t.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(function(t){return l.hasOptionChanged(t)}));x=x||c,b&&(v.push("data","isDirtyData","isDirtyCanvas","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"),!1!==t.visible&&v.push("area","graph"),l.parallelArrays.forEach(function(t){v.push(t+"Data")}),t.data&&(t.dataSorting&&L(l.options.dataSorting,t.dataSorting),this.setData(t.data,!1))),t=W(p,{index:void 0===p.index?l.index:p.index,pointStart:null!==(o=null!==(r=null===(i=null==u?void 0:u.series)||void 0===i?void 0:i.pointStart)&&void 0!==r?r:p.pointStart)&&void 0!==o?o:null===(s=l.xData)||void 0===s?void 0:s[0]},!b&&{data:l.options.data},t,g),b&&t.data&&(t.data=l.options.data),(v=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(v)).forEach(function(t){v[t]=l[t],delete l[t]});var S=!1;if(m[x]){if(S=x!==l.type,l.remove(!1,!1,!1,!0),S){if(d.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(l,m[x].prototype);else{var C=Object.hasOwnProperty.call(l,"hcEvents")&&l.hcEvents;for(h in f)l[h]=void 0;L(l,m[x].prototype),C?l.hcEvents=C:delete l.hcEvents}}}else M(17,!0,d,{missingModuleFor:x});if(v.forEach(function(t){l[t]=v[t]}),l.init(d,t),b&&this.points){!1===(a=l.options).visible?(y.graphic=1,y.dataLabel=1):(this.hasMarkerChanged(a,p)&&(y.graphic=1),(null===(n=l.hasDataLabels)||void 0===n?void 0:n.call(l))||(y.dataLabel=1));for(var k=0,A=this.points;k<A.length;k++){var w=A[k];w&&w.series&&(w.resolveColor(),Object.keys(y).length&&w.destroyElements(y),!1===a.showInLegend&&w.legendItem&&d.legend.destroyItem(w))}}l.initialType=c,d.linkSeries(),d.setSortedData(),S&&l.linkedSeries.length&&(l.isDirtyData=!0),P(this,"afterUpdate"),X(e,!0)&&d.redraw(!!b&&void 0)},t.prototype.setName=function(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0},t.prototype.hasOptionChanged=function(t){var e,i,r=this.chart,o=this.options[t],s=r.options.plotOptions,n=this.userOptions[t],a=X(null===(e=null==s?void 0:s[this.type])||void 0===e?void 0:e[t],null===(i=null==s?void 0:s.series)||void 0===i?void 0:i[t]);return n&&!A(a)?o!==n:o!==X(a,o)},t.prototype.onMouseOver=function(){var t=this.chart,e=t.hoverSeries,i=t.pointer;null==i||i.setHoverChartIndex(),e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&P(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},t.prototype.onMouseOut=function(){var t=this.options,e=this.chart,i=e.tooltip,r=e.hoverPoint;e.hoverSeries=null,r&&r.onMouseOut(),this&&t.events.mouseOut&&P(this,"mouseOut"),i&&!this.stickyTracking&&(!i.shared||this.noSharedTooltip)&&i.hide(),e.series.forEach(function(t){t.setState("",!0)})},t.prototype.setState=function(t,e){var i=this,r=i.options,o=i.graph,s=r.inactiveOtherPoints,n=r.states,a=X(n[t||"normal"]&&n[t||"normal"].animation,i.chart.options.chart.animation),h=r.lineWidth,l=r.opacity;if(t=t||"",i.state!==t&&([i.group,i.markerGroup,i.dataLabelsGroup].forEach(function(e){e&&(i.state&&e.removeClass("highcharts-series-"+i.state),t&&e.addClass("highcharts-series-"+t))}),i.state=t,!i.chart.styledMode)){if(n[t]&&!1===n[t].enabled)return;if(t&&(h=n[t].lineWidth||h+(n[t].lineWidthPlus||0),l=X(n[t].opacity,l)),o&&!o.dashstyle&&N(h))for(var d=0,c=p([o],this.zones.map(function(t){return t.graph}),!0);d<c.length;d++){var u=c[d];null==u||u.animate({"stroke-width":h},a)}s||[i.group,i.markerGroup,i.dataLabelsGroup,i.labelBySeries].forEach(function(t){t&&t.animate({opacity:l},a)})}e&&s&&i.points&&i.setAllPointsToState(t||void 0)},t.prototype.setAllPointsToState=function(t){this.points.forEach(function(e){e.setState&&e.setState(t)})},t.prototype.setVisible=function(t,e){var i,r=this,o=r.chart,s=o.options.chart.ignoreHiddenSeries,n=r.visible;r.visible=t=r.options.visible=r.userOptions.visible=void 0===t?!n:t;var a=t?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(t){var e;null===(e=r[t])||void 0===e||e[a]()}),(o.hoverSeries===r||(null===(i=o.hoverPoint)||void 0===i?void 0:i.series)===r)&&r.onMouseOut(),r.legendItem&&o.legend.colorizeItem(r,t),r.isDirty=!0,r.options.stacking&&o.series.forEach(function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),r.linkedSeries.forEach(function(e){e.setVisible(t,!1)}),s&&(o.isDirtyBox=!0),P(r,a),!1!==e&&o.redraw()},t.prototype.show=function(){this.setVisible(!0)},t.prototype.hide=function(){this.setVisible(!1)},t.prototype.select=function(t){this.selected=t=this.options.selected=void 0===t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),P(this,t?"select":"unselect")},t.prototype.shouldShowTooltip=function(t,e,i){return void 0===i&&(i={}),i.series=this,i.visiblePlotOnly=!0,this.chart.isInsidePlot(t,e,i)},t.prototype.drawLegendSymbol=function(t,e){var i;null===(i=o[this.options.legendSymbol||"rectangle"])||void 0===i||i.call(this,t,e)},t.defaultOptions=n,t.types=a.seriesTypes,t.registerType=a.registerSeriesType,t}();return L(F.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:s,requireSorting:!0,sorted:!0}),a.series=F,F}),i(e,"Core/Renderer/RendererRegistry.js",[e["Core/Globals.js"]],function(t){var e,i,r;return(i=e||(e={})).rendererTypes={},i.getRendererType=function(t){return void 0===t&&(t=r),i.rendererTypes[t]||i.rendererTypes[r]},i.registerRendererType=function(e,o,s){i.rendererTypes[e]=o,(!r||s)&&(r=e,t.Renderer=o)},e}),i(e,"Core/Renderer/SVG/SVGLabel.js",[e["Core/Renderer/SVG/SVGElement.js"],e["Core/Utilities.js"]],function(t,e){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=e.defined,s=e.extend,n=e.isNumber,a=e.merge,h=e.pick,l=e.removeEvent;return function(e){function i(t,r,o,s,n,a,h,l,d,p){var c,u=e.call(this,t,"g")||this;return u.paddingLeftSetter=u.paddingSetter,u.paddingRightSetter=u.paddingSetter,u.doUpdate=!1,u.textStr=r,u.x=o,u.y=s,u.anchorX=a,u.anchorY=h,u.baseline=d,u.className=p,u.addClass("button"===p?"highcharts-no-tooltip":"highcharts-label"),p&&u.addClass("highcharts-"+p),u.text=t.text(void 0,0,0,l).attr({zIndex:1}),"string"==typeof n&&((c=/^url\((.*?)\)$/.test(n))||u.renderer.symbols[n])&&(u.symbolKey=n),u.bBox=i.emptyBBox,u.padding=3,u.baselineOffset=0,u.needsBox=t.styledMode||c,u.deferredAttr={},u.alignFactor=0,u}return r(i,e),i.prototype.alignSetter=function(t){var e={left:0,center:.5,right:1}[t];e!==this.alignFactor&&(this.alignFactor=e,this.bBox&&n(this.xSetting)&&this.attr({x:this.xSetting}))},i.prototype.anchorXSetter=function(t,e){this.anchorX=t,this.boxAttr(e,Math.round(t)-this.getCrispAdjust()-this.xSetting)},i.prototype.anchorYSetter=function(t,e){this.anchorY=t,this.boxAttr(e,t-this.ySetting)},i.prototype.boxAttr=function(t,e){this.box?this.box.attr(t,e):this.deferredAttr[t]=e},i.prototype.css=function(e){if(e){var r={};e=a(e),i.textProps.forEach(function(t){void 0!==e[t]&&(r[t]=e[t],delete e[t])}),this.text.css(r),"fontSize"in r||"fontWeight"in r?this.updateTextPadding():("width"in r||"textOverflow"in r)&&this.updateBoxSize()}return t.prototype.css.call(this,e)},i.prototype.destroy=function(){l(this.element,"mouseenter"),l(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),t.prototype.destroy.call(this)},i.prototype.fillSetter=function(t,e){t&&(this.needsBox=!0),this.fill=t,this.boxAttr(e,t)},i.prototype.getBBox=function(t,e){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();var i=this.padding,r=this.height,o=this.translateX,s=this.translateY,n=this.width,a=h(this.paddingLeft,i),l=null!=e?e:this.rotation||0,d={width:void 0===n?0:n,height:void 0===r?0:r,x:(void 0===o?0:o)+this.bBox.x-a,y:(void 0===s?0:s)+this.bBox.y-i+this.baselineOffset};return l&&(d=this.getRotatedBox(d,l)),d},i.prototype.getCrispAdjust=function(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2},i.prototype.heightSetter=function(t){this.heightSetting=t,this.doUpdate=!0},i.prototype.afterSetters=function(){e.prototype.afterSetters.call(this),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)},i.prototype.onAdd=function(){this.text.add(this),this.attr({text:h(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&o(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})},i.prototype.paddingSetter=function(t,e){n(t)?t!==this[e]&&(this[e]=t,this.updateTextPadding()):this[e]=void 0},i.prototype.rSetter=function(t,e){this.boxAttr(e,t)},i.prototype.strokeSetter=function(t,e){this.stroke=t,this.boxAttr(e,t)},i.prototype["stroke-widthSetter"]=function(t,e){t&&(this.needsBox=!0),this["stroke-width"]=t,this.boxAttr(e,t)},i.prototype["text-alignSetter"]=function(t){this.textAlign=t},i.prototype.textSetter=function(t){void 0!==t&&this.text.attr({text:t}),this.updateTextPadding(),this.reAlign()},i.prototype.updateBoxSize=function(){var t,e=this.text,r={},a=this.padding,h=this.bBox=(!n(this.widthSetting)||!n(this.heightSetting)||this.textAlign)&&o(e.textStr)?e.getBBox(void 0,0):i.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||h.height||0)+2*a;var l=this.renderer.fontMetrics(e);if(this.baselineOffset=a+Math.min((this.text.firstLineMetrics||l).b,h.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-l.h)/2),this.needsBox&&!e.textPath){if(!this.box){var d=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();d.addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),d.add(this)}t=this.getCrispAdjust(),r.x=t,r.y=(this.baseline?-this.baselineOffset:0)+t,r.width=Math.round(this.width),r.height=Math.round(this.height),this.box.attr(s(r,this.deferredAttr)),this.deferredAttr={}}},i.prototype.updateTextPadding=function(){var t=this.text;if(!t.textPath){this.updateBoxSize();var e=this.baseline?0:this.baselineOffset,i=h(this.paddingLeft,this.padding);o(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(i+=({center:.5,right:1})[this.textAlign]*(this.widthSetting-this.bBox.width)),(i!==t.x||e!==t.y)&&(t.attr("x",i),t.hasBoxWidthChanged&&(this.bBox=t.getBBox(!0)),void 0!==e&&t.attr("y",e)),t.x=i,t.y=e}},i.prototype.widthSetter=function(t){this.widthSetting=n(t)?t:void 0,this.doUpdate=!0},i.prototype.getPaddedWidth=function(){var t=this.padding,e=h(this.paddingLeft,t),i=h(this.paddingRight,t);return(this.widthSetting||this.bBox.width||0)+e+i},i.prototype.xSetter=function(t){this.x=t,this.alignFactor&&(t-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(t),this.attr("translateX",this.xSetting)},i.prototype.ySetter=function(t){this.ySetting=this.y=Math.round(t),this.attr("translateY",this.ySetting)},i.emptyBBox={width:0,height:0,x:0,y:0},i.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"],i}(t)}),i(e,"Core/Renderer/SVG/Symbols.js",[e["Core/Utilities.js"]],function(t){var e=t.defined,i=t.isNumber,r=t.pick;function o(t,i,o,s,n){var a=[];if(n){var h=n.start||0,l=r(n.r,o),d=r(n.r,s||o),p=2e-4/(n.borderRadius?1:Math.max(l,1)),c=Math.abs((n.end||0)-h-2*Math.PI)<p,u=(n.end||0)-(c?p:0),f=n.innerR,g=r(n.open,c),y=Math.cos(h),v=Math.sin(h),m=Math.cos(u),x=Math.sin(u),b=r(n.longArc,u-h-Math.PI<p?0:1),S=["A",l,d,0,b,r(n.clockwise,1),t+l*m,i+d*x];S.params={start:h,end:u,cx:t,cy:i},a.push(["M",t+l*y,i+d*v],S),e(f)&&((S=["A",f,f,0,b,e(n.clockwise)?1-n.clockwise:0,t+f*y,i+f*v]).params={start:u,end:h,cx:t,cy:i},a.push(g?["M",t+f*m,i+f*x]:["L",t+f*m,i+f*x],S)),g||a.push(["Z"])}return a}function s(t,e,i,r,o){return o&&o.r?n(t,e,i,r,o):[["M",t,e],["L",t+i,e],["L",t+i,e+r],["L",t,e+r],["Z"]]}function n(t,e,i,r,o){var s=(null==o?void 0:o.r)||0;return[["M",t+s,e],["L",t+i-s,e],["A",s,s,0,0,1,t+i,e+s],["L",t+i,e+r-s],["A",s,s,0,0,1,t+i-s,e+r],["L",t+s,e+r],["A",s,s,0,0,1,t,e+r-s],["L",t,e+s],["A",s,s,0,0,1,t+s,e],["Z"]]}return{arc:o,callout:function(t,e,r,o,s){var a=Math.min(s&&s.r||0,r,o),h=a+6,l=s&&s.anchorX,d=s&&s.anchorY||0,p=n(t,e,r,o,{r:a});if(!i(l)||l<r&&l>0&&d<o&&d>0)return p;if(t+l>r-h){if(d>e+h&&d<e+o-h)p.splice(3,1,["L",t+r,d-6],["L",t+r+6,d],["L",t+r,d+6],["L",t+r,e+o-a]);else if(l<r){var c=d<e+h,u=c?e:e+o,f=c?2:5;p.splice(f,0,["L",l,d],["L",t+r-a,u])}else p.splice(3,1,["L",t+r,o/2],["L",l,d],["L",t+r,o/2],["L",t+r,e+o-a])}else if(t+l<h){if(d>e+h&&d<e+o-h)p.splice(7,1,["L",t,d+6],["L",t-6,d],["L",t,d-6],["L",t,e+a]);else if(l>0){var c=d<e+h,u=c?e:e+o,f=c?1:6;p.splice(f,0,["L",l,d],["L",t+a,u])}else p.splice(7,1,["L",t,o/2],["L",l,d],["L",t,o/2],["L",t,e+a])}else d>o&&l<r-h?p.splice(5,1,["L",l+6,e+o],["L",l,e+o+6],["L",l-6,e+o],["L",t+a,e+o]):d<0&&l>h&&p.splice(1,1,["L",l-6,e],["L",l,e-6],["L",l+6,e],["L",r-a,e]);return p},circle:function(t,e,i,r){return o(t+i/2,e+r/2,i/2,r/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(t,e,i,r){return[["M",t+i/2,e],["L",t+i,e+r/2],["L",t+i/2,e+r],["L",t,e+r/2],["Z"]]},rect:s,roundedRect:n,square:s,triangle:function(t,e,i,r){return[["M",t+i/2,e],["L",t+i,e+r],["L",t,e+r],["Z"]]},"triangle-down":function(t,e,i,r){return[["M",t,e],["L",t+i,e],["L",t+i/2,e+r],["Z"]]}}}),i(e,"Core/Renderer/SVG/TextBuilder.js",[e["Core/Renderer/HTML/AST.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],function(t,e,i){var r=e.doc,o=e.SVG_NS,s=e.win,n=i.attr,a=i.extend,h=i.fireEvent,l=i.isString,d=i.objectEach,p=i.pick;return function(){function e(t){var e=t.styles;this.renderer=t.renderer,this.svgElement=t,this.width=t.textWidth,this.textLineHeight=e&&e.lineHeight,this.textOutline=e&&e.textOutline,this.ellipsis=!!(e&&"ellipsis"===e.textOverflow),this.noWrap=!!(e&&"nowrap"===e.whiteSpace)}return e.prototype.buildSVG=function(){var e=this.svgElement,i=e.element,o=e.renderer,s=p(e.textStr,"").toString(),n=-1!==s.indexOf("<"),a=i.childNodes,h=!e.added&&o.box,d=[s,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,e.getStyle("font-size"),this.width].join(",");if(d!==e.textCache){e.textCache=d,delete e.actualWidth;for(var c=a.length;c--;)i.removeChild(a[c]);if(n||this.ellipsis||this.width||e.textPath||-1!==s.indexOf(" ")&&(!this.noWrap||/<br.*?>/g.test(s))){if(""!==s){h&&h.appendChild(i);var u=new t(s);this.modifyTree(u.nodes),u.addToDOM(i),this.modifyDOM(),this.ellipsis&&-1!==(i.textContent||"").indexOf("…")&&e.attr("title",this.unescapeEntities(e.textStr||"",["&lt;","&gt;"])),h&&h.removeChild(i)}}else i.appendChild(r.createTextNode(this.unescapeEntities(s)));l(this.textOutline)&&e.applyTextOutline&&e.applyTextOutline(this.textOutline)}},e.prototype.modifyDOM=function(){var t,e=this,i=this.svgElement,a=n(i.element,"x");for(i.firstLineMetrics=void 0;t=i.element.firstChild;)if(/^[\s\u200B]*$/.test(t.textContent||" "))i.element.removeChild(t);else break;[].forEach.call(i.element.querySelectorAll("tspan.highcharts-br"),function(t,r){t.nextSibling&&t.previousSibling&&(0===r&&1===t.previousSibling.nodeType&&(i.firstLineMetrics=i.renderer.fontMetrics(t.previousSibling)),n(t,{dy:e.getLineHeight(t.nextSibling),x:a}))});var h=this.width||0;if(h){var l=function(t,s){var l=t.textContent||"",d=l.replace(/([^\^])-/g,"$1- ").split(" "),p=!e.noWrap&&(d.length>1||i.element.childNodes.length>1),c=e.getLineHeight(s),u=0,f=i.actualWidth;if(e.ellipsis)l&&e.truncate(t,l,void 0,0,Math.max(0,h-.8*c),function(t,e){return t.substring(0,e)+"…"});else if(p){for(var g=[],y=[];s.firstChild&&s.firstChild!==t;)y.push(s.firstChild),s.removeChild(s.firstChild);for(;d.length;)d.length&&!e.noWrap&&u>0&&(g.push(t.textContent||""),t.textContent=d.join(" ").replace(/- /g,"-")),e.truncate(t,void 0,d,0===u&&f||0,h,function(t,e){return d.slice(0,e).join(" ").replace(/- /g,"-")}),f=i.actualWidth,u++;y.forEach(function(e){s.insertBefore(e,t)}),g.forEach(function(e){s.insertBefore(r.createTextNode(e),t);var i=r.createElementNS(o,"tspan");i.textContent="​",n(i,{dy:c,x:a}),s.insertBefore(i,t)})}},d=function(t){[].slice.call(t.childNodes).forEach(function(e){e.nodeType===s.Node.TEXT_NODE?l(e,t):(-1!==e.className.baseVal.indexOf("highcharts-br")&&(i.actualWidth=0),d(e))})};d(i.element)}},e.prototype.getLineHeight=function(t){var e=t.nodeType===s.Node.TEXT_NODE?t.parentElement:t;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(e||this.svgElement.element).h},e.prototype.modifyTree=function(t){var e=this,i=function(r,o){var s=r.attributes,n=void 0===s?{}:s,h=r.children,l=r.style,d=void 0===l?{}:l,p=r.tagName,c=e.renderer.styledMode;if("b"===p||"strong"===p?c?n.class="highcharts-strong":d.fontWeight="bold":("i"===p||"em"===p)&&(c?n.class="highcharts-emphasized":d.fontStyle="italic"),d&&d.color&&(d.fill=d.color),"br"===p){n.class="highcharts-br",r.textContent="​";var u=t[o+1];u&&u.textContent&&(u.textContent=u.textContent.replace(/^ +/gm,""))}else"a"===p&&h&&h.some(function(t){return"#text"===t.tagName})&&(r.children=[{children:h,tagName:"tspan"}]);"#text"!==p&&"a"!==p&&(r.tagName="tspan"),a(r,{attributes:n,style:d}),h&&h.filter(function(t){return"#text"!==t.tagName}).forEach(i)};t.forEach(i),h(this.svgElement,"afterModifyTree",{nodes:t})},e.prototype.truncate=function(t,e,i,r,o,s){var n,a,h=this.svgElement,l=h.rotation,d=[],p=i?1:0,c=(e||i||"").length,u=c,f=function(e,o){var s=o||e,n=t.parentNode;if(n&&void 0===d[s]&&n.getSubStringLength)try{d[s]=r+n.getSubStringLength(0,i?s+1:s)}catch(t){}return d[s]};if(h.rotation=0,r+(a=f(t.textContent.length))>o){for(;p<=c;)u=Math.ceil((p+c)/2),i&&(n=s(i,u)),a=f(u,n&&n.length-1),p===c?p=c+1:a>o?c=u-1:p=u;0===c?t.textContent="":e&&c===e.length-1||(t.textContent=n||s(e||i,u))}i&&i.splice(0,u),h.actualWidth=a,h.rotation=l},e.prototype.unescapeEntities=function(t,e){return d(this.renderer.escapes,function(i,r){e&&-1!==e.indexOf(i)||(t=t.toString().replace(RegExp(i,"g"),r))}),t},e}()}),i(e,"Core/Renderer/SVG/SVGRenderer.js",[e["Core/Renderer/HTML/AST.js"],e["Core/Defaults.js"],e["Core/Color/Color.js"],e["Core/Globals.js"],e["Core/Renderer/RendererRegistry.js"],e["Core/Renderer/SVG/SVGElement.js"],e["Core/Renderer/SVG/SVGLabel.js"],e["Core/Renderer/SVG/Symbols.js"],e["Core/Renderer/SVG/TextBuilder.js"],e["Core/Utilities.js"]],function(t,e,i,r,o,s,n,a,h,l){var d,p=this&&this.__spreadArray||function(t,e,i){if(i||2==arguments.length)for(var r,o=0,s=e.length;o<s;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},c=e.defaultOptions,u=r.charts,f=r.deg2rad,g=r.doc,y=r.isFirefox,v=r.isMS,m=r.isWebKit,x=r.noop,b=r.SVG_NS,S=r.symbolSizes,C=r.win,k=l.addEvent,A=l.attr,w=l.createElement,D=l.crisp,O=l.css,M=l.defined,L=l.destroyObjectProperties,E=l.extend,P=l.isArray,T=l.isNumber,j=l.isObject,B=l.isString,R=l.merge,N=l.pick,I=l.pInt,W=l.replaceNested,G=l.uniqueKey,X=function(){function e(t,e,i,r,o,s,n){var a,h,l=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),d=l.element;n||l.css(this.getStyle(r||{})),t.appendChild(d),A(t,"dir","ltr"),-1===t.innerHTML.indexOf("xmlns")&&A(d,"xmlns",this.SVG_NS),this.box=d,this.boxWrapper=l,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(g.createTextNode("Created with Highcharts 11.4.8")),this.defs=this.createElement("defs").add(),this.allowHTML=s,this.forExport=o,this.styledMode=n,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=l.getStyle("font-size"),this.setSize(e,i,!1),y&&t.getBoundingClientRect&&((a=function(){O(t,{left:0,top:0}),h=t.getBoundingClientRect(),O(t,{left:Math.ceil(h.left)-h.left+"px",top:Math.ceil(h.top)-h.top+"px"})})(),this.unSubPixelFix=k(C,"resize",a))}return e.prototype.definition=function(e){return new t([e]).addToDOM(this.defs.element)},e.prototype.getReferenceURL=function(){if((y||m)&&g.getElementsByTagName("base").length){if(!M(d)){var e=G(),i=new t([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:e},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":"url(#".concat(e,")"),fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(g.body);O(i,{position:"fixed",top:0,left:0,zIndex:9e5});var r=g.elementFromPoint(6,6);d="hitme"===(r&&r.id),g.body.removeChild(i)}if(d)return W(C.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""},e.prototype.getStyle=function(t){return this.style=E({fontFamily:"Helvetica, Arial, sans-serif",fontSize:"1rem"},t),this.style},e.prototype.setStyle=function(t){this.boxWrapper.css(this.getStyle(t))},e.prototype.isHidden=function(){return!this.boxWrapper.getBBox().width},e.prototype.destroy=function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),L(this.gradients||{}),this.gradients=null,this.defs=t.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null},e.prototype.createElement=function(t){return new this.Element(this,t)},e.prototype.getRadialAttr=function(t,e){return{cx:t[0]-t[2]/2+(e.cx||0)*t[2],cy:t[1]-t[2]/2+(e.cy||0)*t[2],r:(e.r||0)*t[2]}},e.prototype.shadowDefinition=function(t){var e=p(["highcharts-drop-shadow-".concat(this.chartIndex)],Object.keys(t).map(function(e){return"".concat(e,"-").concat(t[e])}),!0).join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),i=R({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},t);return this.defs.element.querySelector("#".concat(e))||this.definition({tagName:"filter",attributes:{id:e,filterUnits:i.filterUnits},children:this.getShadowFilterContent(i)}),e},e.prototype.getShadowFilterContent=function(t){return[{tagName:"feDropShadow",attributes:{dx:t.offsetX,dy:t.offsetY,"flood-color":t.color,"flood-opacity":Math.min(5*t.opacity,1),stdDeviation:t.width/2}}]},e.prototype.buildText=function(t){new h(t).buildSVG()},e.prototype.getContrast=function(t){var e=i.parse(t).rgba.map(function(t){var e=t/255;return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}),r=.2126*e[0]+.7152*e[1]+.0722*e[2];return 1.05/(r+.05)>(r+.05)/.05?"#FFFFFF":"#000000"},e.prototype.button=function(e,i,r,o,s,n,a,h,l,d){void 0===s&&(s={});var p=this.label(e,i,r,l,void 0,void 0,d,void 0,"button"),u=this.styledMode,f=arguments,g=0;s=R(c.global.buttonTheme,s),u&&(delete s.fill,delete s.stroke,delete s["stroke-width"]);var y=s.states||{},m=s.style||{};delete s.states,delete s.style;var x=[t.filterUserAttributes(s)],b=[m];return u||["hover","select","disabled"].forEach(function(e,i){x.push(R(x[0],t.filterUserAttributes(f[i+5]||y[e]||{}))),b.push(x[i+1].style),delete x[i+1].style}),k(p.element,v?"mouseover":"mouseenter",function(){3!==g&&p.setState(1)}),k(p.element,v?"mouseout":"mouseleave",function(){3!==g&&p.setState(g)}),p.setState=function(t){if(void 0===t&&(t=0),1!==t&&(p.state=g=t),p.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t]),!u){p.attr(x[t]);var e=b[t];j(e)&&p.css(e)}},p.attr(x[0]),!u&&(p.css(E({cursor:"default"},m)),d&&p.text.css({pointerEvents:"none"})),p.on("touchstart",function(t){return t.stopPropagation()}).on("click",function(t){3!==g&&o.call(p,t)})},e.prototype.crispLine=function(t,e){var i=t[0],r=t[1];return M(i[1])&&i[1]===r[1]&&(i[1]=r[1]=D(i[1],e)),M(i[2])&&i[2]===r[2]&&(i[2]=r[2]=D(i[2],e)),t},e.prototype.path=function(t){var e=this.styledMode?{}:{fill:"none"};return P(t)?e.d=t:j(t)&&E(e,t),this.createElement("path").attr(e)},e.prototype.circle=function(t,e,i){var r=j(t)?t:void 0===t?{}:{x:t,y:e,r:i},o=this.createElement("circle");return o.xSetter=o.ySetter=function(t,e,i){i.setAttribute("c"+e,t)},o.attr(r)},e.prototype.arc=function(t,e,i,r,o,s){j(t)?(e=(n=t).y,i=n.r,r=n.innerR,o=n.start,s=n.end,t=n.x):n={innerR:r,start:o,end:s};var n,a=this.symbol("arc",t,e,i,i,n);return a.r=i,a},e.prototype.rect=function(t,e,i,r,o,s){var n=j(t)?t:void 0===t?{}:{x:t,y:e,r:o,width:Math.max(i||0,0),height:Math.max(r||0,0)},a=this.createElement("rect");return this.styledMode||(void 0!==s&&(n["stroke-width"]=s,E(n,a.crisp(n))),n.fill="none"),a.rSetter=function(t,e,i){a.r=t,A(i,{rx:t,ry:t})},a.rGetter=function(){return a.r||0},a.attr(n)},e.prototype.roundedRect=function(t){return this.symbol("roundedRect").attr(t)},e.prototype.setSize=function(t,e,i){this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:N(i,!0)?void 0:0}),this.alignElements()},e.prototype.g=function(t){var e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e},e.prototype.image=function(t,e,i,r,o,s){var n={preserveAspectRatio:"none"};T(e)&&(n.x=e),T(i)&&(n.y=i),T(r)&&(n.width=r),T(o)&&(n.height=o);var a=this.createElement("image").attr(n),h=function(e){a.attr({href:t}),s.call(a,e)};if(s){a.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});var l=new C.Image;k(l,"load",h),l.src=t,l.complete&&h({})}else a.attr({href:t});return a},e.prototype.symbol=function(t,e,i,r,o,s){var n,a,h,l,d=this,p=/^url\((.*?)\)$/,c=p.test(t),f=!c&&(this.symbols[t]?t:"circle"),y=f&&this.symbols[f];if(y)"number"==typeof e&&(a=y.call(this.symbols,e||0,i||0,r||0,o||0,s)),n=this.path(a),d.styledMode||n.attr("fill","none"),E(n,{symbolName:f||void 0,x:e,y:i,width:r,height:o}),s&&E(n,s);else if(c){h=t.match(p)[1];var v=n=this.image(h);v.imgwidth=N(s&&s.width,S[h]&&S[h].width),v.imgheight=N(s&&s.height,S[h]&&S[h].height),l=function(t){return t.attr({width:t.width,height:t.height})},["width","height"].forEach(function(t){v["".concat(t,"Setter")]=function(t,e){this[e]=t;var i=this.alignByTranslate,r=this.element,o=this.width,n=this.height,a=this.imgwidth,h=this.imgheight,l="width"===e?a:h,d=1;s&&"within"===s.backgroundSize&&o&&n&&a&&h?(d=Math.min(o/a,n/h),A(r,{width:Math.round(a*d),height:Math.round(h*d)})):r&&l&&r.setAttribute(e,l),!i&&a&&h&&this.translate(((o||0)-a*d)/2,((n||0)-h*d)/2)}}),M(e)&&v.attr({x:e,y:i}),v.isImg=!0,v.symbolUrl=t,M(v.imgwidth)&&M(v.imgheight)?l(v):(v.attr({width:0,height:0}),w("img",{onload:function(){var t=u[d.chartIndex];0===this.width&&(O(this,{position:"absolute",top:"-999em"}),g.body.appendChild(this)),S[h]={width:this.width,height:this.height},v.imgwidth=this.width,v.imgheight=this.height,v.element&&l(v),this.parentNode&&this.parentNode.removeChild(this),d.imgCount--,d.imgCount||!t||t.hasLoaded||t.onload()},src:h}),this.imgCount++)}return n},e.prototype.clipRect=function(t,e,i,r){return this.rect(t,e,i,r,0)},e.prototype.text=function(t,e,i,r){var o={};if(r&&(this.allowHTML||!this.forExport))return this.html(t,e,i);o.x=Math.round(e||0),i&&(o.y=Math.round(i)),M(t)&&(o.text=t);var s=this.createElement("text").attr(o);return r&&(!this.forExport||this.allowHTML)||(s.xSetter=function(t,e,i){for(var r=i.getElementsByTagName("tspan"),o=i.getAttribute(e),s=0,n=void 0;s<r.length;s++)(n=r[s]).getAttribute(e)===o&&n.setAttribute(e,t);i.setAttribute(e,t)}),s},e.prototype.fontMetrics=function(t){var e=I(s.prototype.getStyle.call(t,"font-size")||0),i=e<24?e+3:Math.round(1.2*e),r=Math.round(.8*i);return{h:i,b:r,f:e}},e.prototype.rotCorr=function(t,e,i){var r=t;return e&&i&&(r=Math.max(r*Math.cos(e*f),4)),{x:-t/3*Math.sin(e*f),y:r}},e.prototype.pathToSegments=function(t){for(var e=[],i=[],r={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2},o=0;o<t.length;o++)B(i[0])&&T(t[o])&&i.length===r[i[0].toUpperCase()]&&t.splice(o,0,i[0].replace("M","L").replace("m","l")),"string"==typeof t[o]&&(i.length&&e.push(i.slice(0)),i.length=0),i.push(t[o]);return e.push(i.slice(0)),e},e.prototype.label=function(t,e,i,r,o,s,a,h,l){return new n(this,t,e,i,r,o,s,a,h,l)},e.prototype.alignElements=function(){this.alignedObjects.forEach(function(t){return t.align()})},e}();return E(X.prototype,{Element:s,SVG_NS:b,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:a,draw:x}),o.registerRendererType("svg",X,!0),X}),i(e,"Series/ArcDiagram/ArcDiagramSeries.js",[e["Series/ArcDiagram/ArcDiagramPoint.js"],e["Series/ArcDiagram/ArcDiagramSeriesDefaults.js"],e["Series/Sankey/SankeyColumnComposition.js"],e["Core/Series/Series.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Renderer/SVG/SVGRenderer.js"],e["Core/Utilities.js"],e["Core/Renderer/SVG/SVGElement.js"],e["Extensions/TextPath.js"]],function(t,e,i,r,o,s,n,a,h){var l,d=this&&this.__extends||(l=function(t,e){return(l=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),p=this&&this.__rest||function(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(i[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)0>e.indexOf(r[o])&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(i[r[o]]=t[r[o]]);return i};h.compose(a);var c=s.prototype.symbols,u=o.seriesTypes,f=u.column,g=u.sankey,y=n.crisp,v=n.extend,m=n.merge,x=n.pick,b=n.relativeLength,S=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return d(o,t),o.prototype.createNodeColumns=function(){var t=this,e=this,r=e.chart,o=i.compose([],e);return o.sankeyColumn.maxLength=r.inverted?r.plotHeight:r.plotWidth,o.sankeyColumn.getTranslationFactor=function(e){for(var i,s,n,a=o.slice(),h=t.options.minLinkWidth||0,l=0,d=0,p=1,c=0,u=(r.plotSizeX||0)-(e.options.marker&&e.options.marker.lineWidth||0)-(o.length-1)*e.nodePadding;o.length;){for(l=u/o.sankeyColumn.sum(),i=!1,s=o.length;s--;){n=o[s].getSum()*l*p;var f=Math.min(r.plotHeight,r.plotWidth);n>f?p=Math.min(f/n,p):n<h&&(o.splice(s,1),u-=h,n=h,i=!0),c+=n*(1-p)/2,d=Math.max(d,n)}if(!i)break}return o.length=0,a.forEach(function(t){t.scale=p,o.push(t)}),o.sankeyColumn.maxRadius=d,o.sankeyColumn.scale=p,o.sankeyColumn.additionalSpace=c,l},o.sankeyColumn.offset=function(t,i){for(var s,n=t.series.options.equalNodes,a=e.nodePadding,h=Math.min(r.plotWidth,r.plotHeight,(o.sankeyColumn.maxLength||0)/e.nodes.length-a),l=o.sankeyColumn.additionalSpace||0,d=0;d<o.length;d++){var p=o[d].getSum()*(o.sankeyColumn.scale||0),c=n?h:Math.max(p*i,e.options.minLinkWidth||0);if(s=p?c+a:0,o[d]===t)return{relativeLeft:l+b(t.options.offset||0,s)};l+=s}},e.nodes.forEach(function(t){t.column=0,o.push(t)}),[o]},o.prototype.translateLink=function(t){var e,i,r=t.fromNode,o=t.toNode,s=this.chart,n=this.translationFactor,a=t.options,h=this.options,l=x(a.linkWeight,h.linkWeight,Math.max((t.weight||0)*n*r.scale,this.options.minLinkWidth||0)),d=t.series.options.centeredLinks,p=r.nodeY,c=function(e,i){var r=(e.offset(t,i)||0)*n;return Math.min(e.nodeX+r,e.nodeX+(e.shapeArgs&&e.shapeArgs.height||0)-l)},u=d?r.nodeX+((r.shapeArgs.height||0)-l)/2:c(r,"linksFrom"),f=d?o.nodeX+((o.shapeArgs.height||0)-l)/2:c(o,"linksTo"),g=p;u>f&&(u=(e=[f,u])[0],f=e[1]),h.reversed&&(u=(i=[f,u])[0],f=i[1],g=(s.plotSizeY||0)-g),t.shapeType="path",t.linkBase=[u,u+l,f,f+l];var y=(f+l-u)/Math.abs(f+l-u)*x(h.linkRadius,Math.min(Math.abs(f+l-u)/2,r.nodeY-Math.abs(l)));t.shapeArgs={d:[["M",u,g],["A",(f+l-u)/2,y,0,0,1,f+l,g],["L",f,g],["A",(f-u-l)/2,y-l,0,0,0,u+l,g],["Z"]]},t.dlBox={x:u+(f-u)/2,y:g-y,height:l,width:0},t.tooltipPos=s.inverted?[(s.plotSizeY||0)-t.dlBox.y-l/2,(s.plotSizeX||0)-t.dlBox.x]:[t.dlBox.x,t.dlBox.y+l/2],t.y=t.plotY=1,t.x=t.plotX=1,t.color||(t.color=r.color)},o.prototype.translateNode=function(t,e){var i,r=this.translationFactor,o=this.chart,s=o.inverted?o.plotWidth:o.plotHeight,n=this.options,a=Math.min(o.plotWidth,o.plotHeight,s/t.series.nodes.length-this.nodePadding),h=t.getSum()*(e.sankeyColumn.scale||0),l=n.equalNodes?a:Math.max(h*r,this.options.minLinkWidth||0),d=(null===(i=n.marker)||void 0===i?void 0:i.lineWidth)||0,p=e.sankeyColumn.offset(t,r),u=y(x(p&&p.absoluteLeft,(e.sankeyColumn.left(r)||0)+(p&&p.relativeLeft||0)),d),f=m(n.marker,t.options.marker),v=f.symbol,b=f.radius,S=parseInt(n.offset,10)*((o.inverted?o.plotWidth:o.plotHeight)-(y(this.colDistance*(t.column||0)+(f.lineWidth||0)/2,d)+(e.sankeyColumn.scale||0)*(e.sankeyColumn.maxRadius||0)/2))/100;if(t.sum=h,h){t.nodeX=u,t.nodeY=S;var C=t.options.width||n.width||l,k=t.options.height||n.height||l,A=S;n.reversed&&(A=(o.plotSizeY||0)-S,o.inverted&&(A=(o.plotSizeY||0)-S)),this.mapOptionsToLevel&&(t.dlOptions=g.getDLOptions({level:this.mapOptionsToLevel[t.level],optionsPoint:t.options})),t.plotX=1,t.plotY=1,t.tooltipPos=o.inverted?[(o.plotSizeY||0)-A-k/2,(o.plotSizeX||0)-u-C/2]:[u+C/2,A+k/2],t.shapeType="path",t.shapeArgs={d:c[v||"circle"](u,A-(b||k)/2,b||C,b||k),width:b||C,height:b||k},t.dlBox={x:u+C/2,y:A,height:0,width:0}}else t.dlOptions={enabled:!1}},o.prototype.drawDataLabels=function(){if(this.options.dataLabels){var t=this.options.dataLabels.textPath;f.prototype.drawDataLabels.call(this,this.nodes),this.options.dataLabels.textPath=this.options.dataLabels.linkTextPath,f.prototype.drawDataLabels.call(this,this.data),this.options.dataLabels.textPath=t}},o.prototype.pointAttribs=function(e,i){if(e&&e.isNode){var o=p(r.prototype.pointAttribs.apply(this,arguments),[]);return o}return t.prototype.pointAttribs.apply(this,arguments)},o.prototype.markerAttribs=function(e){return e.isNode?t.prototype.markerAttribs.apply(this,arguments):{}},o.defaultOptions=m(g.defaultOptions,e),o}(g);return v(S.prototype,{orderNodes:!1}),S.prototype.pointClass=t,o.registerSeriesType("arcdiagram",S),S}),i(e,"masters/modules/arc-diagram.src.js",[e["Core/Globals.js"]],function(t){return t})});