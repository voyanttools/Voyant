{"version":3,"sources":["<anon>"],"sourcesContent":["/**\n * @license Highcharts JS v11.4.8 (2024-08-29)\n *\n * Annotations module\n *\n * (c) 2009-2024 Torstein Honsi\n *\n * License: www.highcharts.com/license\n */\n(function (factory) {\n    if (typeof module === 'object' && module.exports) {\n        factory['default'] = factory;\n        module.exports = factory;\n    } else if (typeof define === 'function' && define.amd) {\n        define('highcharts/modules/annotations-advanced', ['highcharts'], function (Highcharts) {\n            factory(Highcharts);\n            factory.Highcharts = Highcharts;\n            return factory;\n        });\n    } else {\n        factory(typeof Highcharts !== 'undefined' ? Highcharts : undefined);\n    }\n}(function (Highcharts) {\n    'use strict';\n    var _modules = Highcharts ? Highcharts._modules : {};\n    function _registerModule(obj, path, args, fn) {\n        if (!obj.hasOwnProperty(path)) {\n            obj[path] = fn.apply(null, args);\n\n            if (typeof CustomEvent === 'function') {\n                Highcharts.win.dispatchEvent(new CustomEvent(\n                    'HighchartsModuleLoaded',\n                    { detail: { path: path, module: obj[path] } }\n                ));\n            }\n        }\n    }\n    _registerModule(_modules, 'Extensions/Annotations/AnnotationChart.js', [_modules['Core/Utilities.js']], function (U) {\n        /* *\n         *\n         *  (c) 2009-2024 Highsoft, Black Label\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var addEvent = U.addEvent, erase = U.erase, find = U.find, fireEvent = U.fireEvent, pick = U.pick, wrap = U.wrap;\n        /* *\n         *\n         *  Functions\n         *\n         * */\n        /**\n         * Add an annotation to the chart after render time.\n         *\n         * @sample highcharts/annotations/add-annotation/\n         *         Add annotation\n         *\n         * @function Highcharts.Chart#addAnnotation\n         *\n         * @param  {Highcharts.AnnotationsOptions} options\n         *         The annotation options for the new, detailed annotation.\n         *\n         * @param {boolean} [redraw]\n         *\n         * @return {Highcharts.Annotation}\n         *         The newly generated annotation.\n         */\n        function chartAddAnnotation(userOptions, redraw) {\n            var annotation = this.initAnnotation(userOptions);\n            this.options.annotations.push(annotation.options);\n            if (pick(redraw, true)) {\n                annotation.redraw();\n                annotation.graphic.attr({\n                    opacity: 1\n                });\n            }\n            return annotation;\n        }\n        /**\n         * @private\n         */\n        function chartCallback() {\n            var chart = this;\n            chart.plotBoxClip = this.renderer.clipRect(this.plotBox);\n            chart.controlPointsGroup = chart.renderer\n                .g('control-points')\n                .attr({ zIndex: 99 })\n                .clip(chart.plotBoxClip)\n                .add();\n            chart.options.annotations.forEach(function (annotationOptions, i) {\n                if (\n                // Verify that it has not been previously added in a responsive rule\n                !chart.annotations.some(function (annotation) {\n                    return annotation.options === annotationOptions;\n                })) {\n                    var annotation = chart.initAnnotation(annotationOptions);\n                    chart.options.annotations[i] = annotation.options;\n                }\n            });\n            chart.drawAnnotations();\n            addEvent(chart, 'redraw', chart.drawAnnotations);\n            addEvent(chart, 'destroy', function () {\n                chart.plotBoxClip.destroy();\n                chart.controlPointsGroup.destroy();\n            });\n            addEvent(chart, 'exportData', function (event) {\n                var annotations = chart.annotations, csvColumnHeaderFormatter = ((this.options.exporting &&\n                    this.options.exporting.csv) ||\n                    {}).columnHeaderFormatter, \n                // If second row doesn't have xValues\n                // then it is a title row thus multiple level header is in use.\n                multiLevelHeaders = !event.dataRows[1].xValues, annotationHeader = (chart.options.lang &&\n                    chart.options.lang.exportData &&\n                    chart.options.lang.exportData.annotationHeader), columnHeaderFormatter = function (index) {\n                    var s;\n                    if (csvColumnHeaderFormatter) {\n                        s = csvColumnHeaderFormatter(index);\n                        if (s !== false) {\n                            return s;\n                        }\n                    }\n                    s = annotationHeader + ' ' + index;\n                    if (multiLevelHeaders) {\n                        return {\n                            columnTitle: s,\n                            topLevelColumnTitle: s\n                        };\n                    }\n                    return s;\n                }, startRowLength = event.dataRows[0].length, annotationSeparator = (chart.options.exporting &&\n                    chart.options.exporting.csv &&\n                    chart.options.exporting.csv.annotations &&\n                    chart.options.exporting.csv.annotations.itemDelimiter), joinAnnotations = (chart.options.exporting &&\n                    chart.options.exporting.csv &&\n                    chart.options.exporting.csv.annotations &&\n                    chart.options.exporting.csv.annotations.join);\n                annotations.forEach(function (annotation) {\n                    if (annotation.options.labelOptions &&\n                        annotation.options.labelOptions.includeInDataExport) {\n                        annotation.labels.forEach(function (label) {\n                            if (label.options.text) {\n                                var annotationText_1 = label.options.text;\n                                label.points.forEach(function (points) {\n                                    var annotationX = points.x, xAxisIndex = points.series.xAxis ?\n                                        points.series.xAxis.index :\n                                        -1;\n                                    var wasAdded = false;\n                                    // Annotation not connected to any xAxis -\n                                    // add new row.\n                                    if (xAxisIndex === -1) {\n                                        var n = event.dataRows[0].length, newRow = new Array(n);\n                                        for (var i = 0; i < n; ++i) {\n                                            newRow[i] = '';\n                                        }\n                                        newRow.push(annotationText_1);\n                                        newRow.xValues = [];\n                                        newRow.xValues[xAxisIndex] = annotationX;\n                                        event.dataRows.push(newRow);\n                                        wasAdded = true;\n                                    }\n                                    // Annotation placed on a exported data point\n                                    // - add new column\n                                    if (!wasAdded) {\n                                        event.dataRows.forEach(function (row) {\n                                            if (!wasAdded &&\n                                                row.xValues &&\n                                                xAxisIndex !== void 0 &&\n                                                annotationX === row.xValues[xAxisIndex]) {\n                                                if (joinAnnotations &&\n                                                    row.length > startRowLength) {\n                                                    row[row.length - 1] += (annotationSeparator +\n                                                        annotationText_1);\n                                                }\n                                                else {\n                                                    row.push(annotationText_1);\n                                                }\n                                                wasAdded = true;\n                                            }\n                                        });\n                                    }\n                                    // Annotation not placed on any exported data point,\n                                    // but connected to the xAxis - add new row\n                                    if (!wasAdded) {\n                                        var n = event.dataRows[0].length, newRow = new Array(n);\n                                        for (var i = 0; i < n; ++i) {\n                                            newRow[i] = '';\n                                        }\n                                        newRow[0] = annotationX;\n                                        newRow.push(annotationText_1);\n                                        newRow.xValues = [];\n                                        if (xAxisIndex !== void 0) {\n                                            newRow.xValues[xAxisIndex] = annotationX;\n                                        }\n                                        event.dataRows.push(newRow);\n                                    }\n                                });\n                            }\n                        });\n                    }\n                });\n                var maxRowLen = 0;\n                event.dataRows.forEach(function (row) {\n                    maxRowLen = Math.max(maxRowLen, row.length);\n                });\n                var newRows = maxRowLen - event.dataRows[0].length;\n                for (var i = 0; i < newRows; i++) {\n                    var header = columnHeaderFormatter(i + 1);\n                    if (multiLevelHeaders) {\n                        event.dataRows[0].push(header.topLevelColumnTitle);\n                        event.dataRows[1].push(header.columnTitle);\n                    }\n                    else {\n                        event.dataRows[0].push(header);\n                    }\n                }\n            });\n        }\n        /**\n         * @private\n         */\n        function chartDrawAnnotations() {\n            this.plotBoxClip.attr(this.plotBox);\n            this.annotations.forEach(function (annotation) {\n                annotation.redraw();\n                annotation.graphic.animate({\n                    opacity: 1\n                }, annotation.animationConfig);\n            });\n        }\n        /**\n         * Remove an annotation from the chart.\n         *\n         * @function Highcharts.Chart#removeAnnotation\n         *\n         * @param {number|string|Highcharts.Annotation} idOrAnnotation\n         *        The annotation's id or direct annotation object.\n         */\n        function chartRemoveAnnotation(idOrAnnotation) {\n            var annotations = this.annotations, annotation = (idOrAnnotation.coll === 'annotations') ?\n                idOrAnnotation :\n                find(annotations, function (annotation) {\n                    return annotation.options.id === idOrAnnotation;\n                });\n            if (annotation) {\n                fireEvent(annotation, 'remove');\n                erase(this.options.annotations, annotation.options);\n                erase(annotations, annotation);\n                annotation.destroy();\n            }\n        }\n        /**\n         * Create lookups initially\n         * @private\n         */\n        function onChartAfterInit() {\n            var chart = this;\n            chart.annotations = [];\n            if (!this.options.annotations) {\n                this.options.annotations = [];\n            }\n        }\n        /**\n         * @private\n         */\n        function wrapPointerOnContainerMouseDown(proceed) {\n            if (!this.chart.hasDraggedAnnotation) {\n                proceed.apply(this, Array.prototype.slice.call(arguments, 1));\n            }\n        }\n        /* *\n         *\n         *  Composition\n         *\n         * */\n        /**\n         * @private\n         */\n        var AnnotationChart;\n        (function (AnnotationChart) {\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            /**\n             * @private\n             */\n            function compose(AnnotationClass, ChartClass, PointerClass) {\n                var chartProto = ChartClass.prototype;\n                if (!chartProto.addAnnotation) {\n                    var pointerProto = PointerClass.prototype;\n                    addEvent(ChartClass, 'afterInit', onChartAfterInit);\n                    chartProto.addAnnotation = chartAddAnnotation;\n                    chartProto.callbacks.push(chartCallback);\n                    chartProto.collectionsWithInit.annotations = [chartAddAnnotation];\n                    chartProto.collectionsWithUpdate.push('annotations');\n                    chartProto.drawAnnotations = chartDrawAnnotations;\n                    chartProto.removeAnnotation = chartRemoveAnnotation;\n                    chartProto.initAnnotation = function chartInitAnnotation(userOptions) {\n                        var Constructor = (AnnotationClass.types[userOptions.type] ||\n                            AnnotationClass), annotation = new Constructor(this, userOptions);\n                        this.annotations.push(annotation);\n                        return annotation;\n                    };\n                    wrap(pointerProto, 'onContainerMouseDown', wrapPointerOnContainerMouseDown);\n                }\n            }\n            AnnotationChart.compose = compose;\n        })(AnnotationChart || (AnnotationChart = {}));\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return AnnotationChart;\n    });\n    _registerModule(_modules, 'Extensions/Annotations/AnnotationDefaults.js', [_modules['Core/Utilities.js']], function (U) {\n        /* *\n         *\n         *  Imports\n         *\n         * */\n        var defined = U.defined;\n        /* *\n         *\n         *  API Options\n         *\n         * */\n        /**\n         * A basic type of an annotation. It allows to add custom labels\n         * or shapes. The items can be tied to points, axis coordinates\n         * or chart pixel coordinates.\n         *\n         * @sample highcharts/annotations/basic/\n         *         Basic annotations\n         * @sample highcharts/demo/annotations/\n         *         Advanced annotations\n         * @sample highcharts/css/annotations\n         *         Styled mode\n         * @sample highcharts/annotations-advanced/controllable\n         *         Controllable items\n         * @sample {highstock} stock/annotations/fibonacci-retracements\n         *         Custom annotation, Fibonacci retracement\n         *\n         * @type         {Array<*>}\n         * @since        6.0.0\n         * @requires     modules/annotations\n         * @optionparent annotations\n         */\n        var AnnotationDefaults = {\n            /**\n             * Sets an ID for an annotation. Can be user later when\n             * removing an annotation in [Chart#removeAnnotation(id)](\n             * /class-reference/Highcharts.Chart#removeAnnotation) method.\n             *\n             * @type      {number|string}\n             * @apioption annotations.id\n             */\n            /**\n             * Whether the annotation is visible.\n             *\n             * @sample highcharts/annotations/visible/\n             *         Set annotation visibility\n             */\n            visible: true,\n            /**\n             * Enable or disable the initial animation when a series is\n             * displayed for the `annotation`. The animation can also be set\n             * as a configuration object. Please note that this option only\n             * applies to the initial animation.\n             * For other animations, see [chart.animation](#chart.animation)\n             * and the animation parameter under the API methods.\n             * The following properties are supported:\n             *\n             * - `defer`: The animation delay time in milliseconds.\n             *\n             * @sample {highcharts} highcharts/annotations/defer/\n             *          Animation defer settings\n             * @type {boolean|Partial<Highcharts.AnimationOptionsObject>}\n             * @since 8.2.0\n             */\n            animation: {},\n            /**\n             * Whether to hide the part of the annotation\n             * that is outside the plot area.\n             *\n             * @sample highcharts/annotations/label-crop-overflow/\n             *         Crop line annotation\n             * @type  {boolean}\n             * @since 9.3.0\n             */\n            crop: true,\n            /**\n             * The animation delay time in milliseconds.\n             * Set to `0` renders annotation immediately.\n             * As `undefined` inherits defer time from the [series.animation.defer](#plotOptions.series.animation.defer).\n             *\n             * @type      {number}\n             * @since 8.2.0\n             * @apioption annotations.animation.defer\n             */\n            /**\n             * Allow an annotation to be draggable by a user. Possible\n             * values are `'x'`, `'xy'`, `'y'` and `''` (disabled).\n             *\n             * @sample highcharts/annotations/draggable/\n             *         Annotations draggable: 'xy'\n             *\n             * @type {Highcharts.AnnotationDraggableValue}\n             */\n            draggable: 'xy',\n            /**\n             * Options for annotation's labels. Each label inherits options\n             * from the labelOptions object. An option from the labelOptions\n             * can be overwritten by config for a specific label.\n             *\n             * @requires modules/annotations\n             */\n            labelOptions: {\n                /**\n                 * The alignment of the annotation's label. If right,\n                 * the right side of the label should be touching the point.\n                 *\n                 * @sample highcharts/annotations/label-position/\n                 *         Set labels position\n                 *\n                 * @type {Highcharts.AlignValue}\n                 */\n                align: 'center',\n                /**\n                 * Whether to allow the annotation's labels to overlap.\n                 * To make the labels less sensitive for overlapping,\n                 * the can be set to 0.\n                 *\n                 * @sample highcharts/annotations/tooltip-like/\n                 *         Hide overlapping labels\n                 */\n                allowOverlap: false,\n                /**\n                 * The background color or gradient for the annotation's\n                 * label.\n                 *\n                 * @sample highcharts/annotations/label-presentation/\n                 *         Set labels graphic options\n                 *\n                 * @type {Highcharts.ColorString|Highcharts.GradientColorObject|Highcharts.PatternObject}\n                 */\n                backgroundColor: 'rgba(0, 0, 0, 0.75)',\n                /**\n                 * The border color for the annotation's label.\n                 *\n                 * @sample highcharts/annotations/label-presentation/\n                 *         Set labels graphic options\n                 *\n                 * @type {Highcharts.ColorString}\n                 */\n                borderColor: \"#000000\" /* Palette.neutralColor100 */,\n                /**\n                 * The border radius in pixels for the annotation's label.\n                 *\n                 * @sample highcharts/annotations/label-presentation/\n                 *         Set labels graphic options\n                 */\n                borderRadius: 3,\n                /**\n                 * The border width in pixels for the annotation's label\n                 *\n                 * @sample highcharts/annotations/label-presentation/\n                 *         Set labels graphic options\n                 */\n                borderWidth: 1,\n                /**\n                 * A class name for styling by CSS.\n                 *\n                 * @sample highcharts/css/annotations\n                 *         Styled mode annotations\n                 *\n                 * @since 6.0.5\n                 */\n                className: 'highcharts-no-tooltip',\n                /**\n                 * Whether to hide the annotation's label\n                 * that is outside the plot area.\n                 *\n                 * @sample highcharts/annotations/label-crop-overflow/\n                 *         Crop or justify labels\n                 */\n                crop: false,\n                /**\n                 * The label's pixel distance from the point.\n                 *\n                 * @sample highcharts/annotations/label-position/\n                 *         Set labels position\n                 *\n                 * @type      {number}\n                 * @apioption annotations.labelOptions.distance\n                 */\n                /**\n                 * A\n                 * [format](https://www.highcharts.com/docs/chart-concepts/labels-and-string-formatting)\n                 * string for the data label.\n                 *\n                 * @see [plotOptions.series.dataLabels.format](plotOptions.series.dataLabels.format.html)\n                 *\n                 * @sample highcharts/annotations/label-text/\n                 *         Set labels text\n                 *\n                 * @type      {string}\n                 * @apioption annotations.labelOptions.format\n                 */\n                /**\n                 * Alias for the format option.\n                 *\n                 * @see [format](annotations.labelOptions.format.html)\n                 *\n                 * @sample highcharts/annotations/label-text/\n                 *         Set labels text\n                 *\n                 * @type      {string}\n                 * @apioption annotations.labelOptions.text\n                 */\n                /**\n                 * Callback JavaScript function to format the annotation's\n                 * label. Note that if a `format` or `text` are defined,\n                 * the format or text take precedence and the formatter is\n                 * ignored. `This` refers to a point object.\n                 *\n                 * @sample highcharts/annotations/label-text/\n                 *         Set labels text\n                 *\n                 * @type    {Highcharts.FormatterCallbackFunction<Highcharts.Point>}\n                 * @default function () { return defined(this.y) ? this.y : 'Annotation label'; }\n                 */\n                formatter: function () {\n                    return defined(this.y) ? '' + this.y : 'Annotation label';\n                },\n                /**\n                 * Whether the annotation is visible in the exported data\n                 * table.\n                 *\n                 * @sample highcharts/annotations/include-in-data-export/\n                 *         Do not include in the data export\n                 *\n                 * @since 8.2.0\n                 * @requires modules/export-data\n                 */\n                includeInDataExport: true,\n                /**\n                 * How to handle the annotation's label that flow outside\n                 * the plot area. The justify option aligns the label inside\n                 * the plot area.\n                 *\n                 * @sample highcharts/annotations/label-crop-overflow/\n                 *         Crop or justify labels\n                 *\n                 * @validvalue [\"allow\", \"justify\"]\n                 */\n                overflow: 'justify',\n                /**\n                 * When either the borderWidth or the backgroundColor is\n                 * set, this is the padding within the box.\n                 *\n                 * @sample highcharts/annotations/label-presentation/\n                 *         Set labels graphic options\n                 */\n                padding: 5,\n                /**\n                 * The shadow of the box. The shadow can be an object\n                 * configuration containing `color`, `offsetX`, `offsetY`,\n                 * `opacity` and `width`.\n                 *\n                 * @sample highcharts/annotations/label-presentation/\n                 *         Set labels graphic options\n                 *\n                 * @type {boolean|Highcharts.ShadowOptionsObject}\n                 */\n                shadow: false,\n                /**\n                 * The name of a symbol to use for the border around the\n                 * label. Symbols are predefined functions on the Renderer\n                 * object.\n                 *\n                 * @sample highcharts/annotations/shapes/\n                 *         Available shapes for labels\n                 */\n                shape: 'callout',\n                /**\n                 * Styles for the annotation's label.\n                 *\n                 * @see [plotOptions.series.dataLabels.style](plotOptions.series.dataLabels.style.html)\n                 *\n                 * @sample highcharts/annotations/label-presentation/\n                 *         Set labels graphic options\n                 *\n                 * @type {Highcharts.CSSObject}\n                 */\n                style: {\n                    /** @ignore */\n                    fontSize: '0.7em',\n                    /** @ignore */\n                    fontWeight: 'normal',\n                    /** @ignore */\n                    color: 'contrast'\n                },\n                /**\n                 * Whether to [use HTML](https://www.highcharts.com/docs/chart-concepts/labels-and-string-formatting#html)\n                 * to render the annotation's label.\n                 */\n                useHTML: false,\n                /**\n                 * The vertical alignment of the annotation's label.\n                 *\n                 * @sample highcharts/annotations/label-position/\n                 *         Set labels position\n                 *\n                 * @type {Highcharts.VerticalAlignValue}\n                 */\n                verticalAlign: 'bottom',\n                /**\n                 * The x position offset of the label relative to the point.\n                 * Note that if a `distance` is defined, the distance takes\n                 * precedence over `x` and `y` options.\n                 *\n                 * @sample highcharts/annotations/label-position/\n                 *         Set labels position\n                 */\n                x: 0,\n                /**\n                 * The y position offset of the label relative to the point.\n                 * Note that if a `distance` is defined, the distance takes\n                 * precedence over `x` and `y` options.\n                 *\n                 * @sample highcharts/annotations/label-position/\n                 *         Set labels position\n                 */\n                y: -16\n            },\n            /**\n             * An array of labels for the annotation. For options that apply\n             * to multiple labels, they can be added to the\n             * [labelOptions](annotations.labelOptions.html).\n             *\n             * @type      {Array<*>}\n             * @extends   annotations.labelOptions\n             * @apioption annotations.labels\n             */\n            /**\n             * This option defines the point to which the label will be\n             * connected. It can be either the point which exists in the\n             * series - it is referenced by the point's id - or a new point\n             * with defined x, y properties and optionally axes.\n             *\n             * @sample highcharts/annotations/mock-point/\n             *         Attach annotation to a mock point\n             * @sample highcharts/annotations/mock-points/\n             *         Attach annotation to a mock point with different ways\n             *\n             * @declare   Highcharts.AnnotationMockPointOptionsObject\n             * @type      {\n             *               string|\n             *               Highcharts.AnnotationMockPointOptionsObject|\n             *               Highcharts.AnnotationMockPointFunction\n             *            }\n             * @requires  modules/annotations\n             * @apioption annotations.labels.point\n             */\n            /**\n             * An array of shapes for the annotation. For options that apply\n             * to multiple shapes, then can be added to the\n             * [shapeOptions](annotations.shapeOptions.html).\n             *\n             * @type      {Array<*>}\n             * @extends   annotations.shapeOptions\n             * @apioption annotations.shapes\n             */\n            /**\n             * This option defines the point to which the shape will be\n             * connected. It can be either the point which exists in the\n             * series - it is referenced by the point's id - or a new point\n             * with defined x, y properties and optionally axes.\n             *\n             * @sample highcharts/annotations/mock-points/\n             *         Attach annotation to a mock point with different ways\n             *\n             * @declare   Highcharts.AnnotationMockPointOptionsObject\n             * @type      {\n             *               string|\n             *               Highcharts.AnnotationMockPointOptionsObject|\n             *               Highcharts.AnnotationMockPointFunction\n             *            }\n             * @extends   annotations.labels.point\n             * @requires  modules/annotations\n             * @apioption annotations.shapes.point\n             */\n            /**\n             * An array of points for the shape\n             * or a callback function that returns that shape point.\n             *\n             * This option is available\n             * for shapes which can use multiple points such as path. A\n             * point can be either a point object or a point's id.\n             *\n             * @see [annotations.shapes.point](annotations.shapes.point.html)\n             *\n             * @type      {Array<Highcharts.AnnotationShapePointOptions>}\n             * @extends   annotations.labels.point\n             * @apioption annotations.shapes.points\n             */\n            /**\n             * The URL for an image to use as the annotation shape. Note,\n             * type has to be set to `'image'`.\n             *\n             * @see [annotations.shapes.type](annotations.shapes.type)\n             * @sample highcharts/annotations/shape-src/\n             *         Define a marker image url for annotations\n             *\n             * @type      {string}\n             * @apioption annotations.shapes.src\n             */\n            /**\n             * Id of the marker which will be drawn at the final vertex of\n             * the path. Custom markers can be defined in defs property.\n             *\n             * @see [defs.markers](defs.markers.html)\n             *\n             * @sample highcharts/annotations/custom-markers/\n             *         Define a custom marker for annotations\n             *\n             * @type      {string}\n             * @apioption annotations.shapes.markerEnd\n             */\n            /**\n             * Id of the marker which will be drawn at the first vertex of\n             * the path. Custom markers can be defined in defs property.\n             *\n             * @see [defs.markers](defs.markers.html)\n             *\n             * @sample {highcharts} highcharts/annotations/custom-markers/\n             *         Define a custom marker for annotations\n             *\n             * @type      {string}\n             * @apioption annotations.shapes.markerStart\n             */\n            /**\n             * Options for annotation's shapes. Each shape inherits options\n             * from the shapeOptions object. An option from the shapeOptions\n             * can be overwritten by config for a specific shape.\n             *\n             * @requires  modules/annotations\n             */\n            shapeOptions: {\n                /**\n                 *\n                 * The radius of the shape in y direction.\n                 * Used for the ellipse.\n                 *\n                 * @sample highcharts/annotations/ellipse/\n                 *         Ellipse annotation\n                 *\n                 * @type      {number}\n                 * @apioption annotations.shapeOptions.ry\n                 **/\n                /**\n                 *\n                 * The xAxis index to which the points should be attached.\n                 * Used for the ellipse.\n                 *\n                 * @type      {number}\n                 * @apioption annotations.shapeOptions.xAxis\n                 **/\n                /**\n                 * The yAxis index to which the points should be attached.\n                 * Used for the ellipse.\n                 *\n                 * @type      {number}\n                 * @apioption annotations.shapeOptions.yAxis\n                 **/\n                /**\n                 * The width of the shape.\n                 *\n                 * @sample highcharts/annotations/shape/\n                 *         Basic shape annotation\n                 *\n                 * @type      {number}\n                 * @apioption annotations.shapeOptions.width\n                 **/\n                /**\n                 * The height of the shape.\n                 *\n                 * @sample highcharts/annotations/shape/\n                 *         Basic shape annotation\n                 *\n                 * @type      {number}\n                 * @apioption annotations.shapeOptions.height\n                 */\n                /**\n                 * The type of the shape.\n                 * Available options are circle, rect and ellipse.\n                 *\n                 * @sample highcharts/annotations/shape/\n                 *         Basic shape annotation\n                 *\n                 * @sample highcharts/annotations/ellipse/\n                 *         Ellipse annotation\n                 *\n                 * @type      {string}\n                 * @default   rect\n                 * @apioption annotations.shapeOptions.type\n                 */\n                /**\n                 * The URL for an image to use as the annotation shape.\n                 * Note, type has to be set to `'image'`.\n                 *\n                 * @see [annotations.shapeOptions.type](annotations.shapeOptions.type)\n                 * @sample highcharts/annotations/shape-src/\n                 *         Define a marker image url for annotations\n                 *\n                 * @type      {string}\n                 * @apioption annotations.shapeOptions.src\n                 */\n                /**\n                 * Name of the dash style to use for the shape's stroke.\n                 *\n                 * @sample {highcharts} highcharts/plotoptions/series-dashstyle-all/\n                 *         Possible values demonstrated\n                 *\n                 * @type      {Highcharts.DashStyleValue}\n                 * @apioption annotations.shapeOptions.dashStyle\n                 */\n                /**\n                 * The color of the shape's stroke.\n                 *\n                 * @sample highcharts/annotations/shape/\n                 *         Basic shape annotation\n                 *\n                 * @type {Highcharts.ColorString}\n                 */\n                stroke: 'rgba(0, 0, 0, 0.75)',\n                /**\n                 * The pixel stroke width of the shape.\n                 *\n                 * @sample highcharts/annotations/shape/\n                 *         Basic shape annotation\n                 */\n                strokeWidth: 1,\n                /**\n                 * The color of the shape's fill.\n                 *\n                 * @sample highcharts/annotations/shape/\n                 *         Basic shape annotation\n                 *\n                 * @type {Highcharts.ColorString|Highcharts.GradientColorObject|Highcharts.PatternObject}\n                 */\n                fill: 'rgba(0, 0, 0, 0.75)',\n                /**\n                 * The radius of the shape.\n                 *\n                 * @sample highcharts/annotations/shape/\n                 *         Basic shape annotation\n                 */\n                r: 0,\n                /**\n                 * Defines additional snapping area around an annotation\n                 * making this annotation to focus. Defined in pixels.\n                 */\n                snap: 2\n            },\n            /**\n             * Options for annotation's control points. Each control point\n             * inherits options from controlPointOptions object.\n             * Options from the controlPointOptions can be overwritten\n             * by options in a specific control point.\n             *\n             * @declare  Highcharts.AnnotationControlPointOptionsObject\n             * @requires modules/annotations\n             */\n            controlPointOptions: {\n                /**\n                 * @type      {Highcharts.AnnotationControlPointPositionerFunction}\n                 * @apioption annotations.controlPointOptions.positioner\n                 */\n                /**\n                 * @type {Highcharts.Dictionary<Function>}\n                 */\n                events: {},\n                /**\n                 * @type {Highcharts.SVGAttributes}\n                 */\n                style: {\n                    cursor: 'pointer',\n                    fill: \"#ffffff\" /* Palette.backgroundColor */,\n                    stroke: \"#000000\" /* Palette.neutralColor100 */,\n                    'stroke-width': 2\n                },\n                height: 10,\n                symbol: 'circle',\n                visible: false,\n                width: 10\n            },\n            /**\n             * Event callback when annotation is added to the chart.\n             *\n             * @type      {Highcharts.EventCallbackFunction<Highcharts.Annotation>}\n             * @since     7.1.0\n             * @apioption annotations.events.add\n             */\n            /**\n             * Event callback when annotation is updated (e.g. drag and\n             * dropped or resized by control points).\n             *\n             * @type      {Highcharts.EventCallbackFunction<Highcharts.Annotation>}\n             * @since     7.1.0\n             * @apioption annotations.events.afterUpdate\n             */\n            /**\n             * Fires when the annotation is clicked.\n             *\n             * @type      {Highcharts.EventCallbackFunction<Highcharts.Annotation>}\n             * @since     7.1.0\n             * @apioption annotations.events.click\n             */\n            /**\n             * Fires when the annotation is dragged.\n             *\n             * @type      {Highcharts.EventCallbackFunction<Highcharts.Annotation>}\n             * @apioption annotations.events.drag\n             */\n            /**\n             * Event callback when annotation is removed from the chart.\n             *\n             * @type      {Highcharts.EventCallbackFunction<Highcharts.Annotation>}\n             * @since     7.1.0\n             * @apioption annotations.events.remove\n             */\n            /**\n             * Events available in annotations.\n             *\n             * @requires modules/annotations\n             */\n            events: {},\n            /**\n             * The Z index of the annotation.\n             */\n            zIndex: 6\n        }; // Type options are expected but not set\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return AnnotationDefaults;\n    });\n    _registerModule(_modules, 'Extensions/Annotations/EventEmitter.js', [_modules['Core/Globals.js'], _modules['Core/Utilities.js']], function (H, U) {\n        /* *\n         *\n         *  (c) 2009-2024 Highsoft, Black Label\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var doc = H.doc, isTouchDevice = H.isTouchDevice;\n        var addEvent = U.addEvent, fireEvent = U.fireEvent, objectEach = U.objectEach, pick = U.pick, removeEvent = U.removeEvent;\n        /* *\n         *\n         *  Class\n         *\n         * */\n        /**\n         * @private\n         */\n        var EventEmitter = /** @class */ (function () {\n            function EventEmitter() {\n            }\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            /**\n             * Add emitter events.\n             * @private\n             */\n            EventEmitter.prototype.addEvents = function () {\n                var emitter = this, addMouseDownEvent = function (element) {\n                    addEvent(element, isTouchDevice ? 'touchstart' : 'mousedown', function (e) {\n                        emitter.onMouseDown(e);\n                    }, { passive: false });\n                };\n                addMouseDownEvent(this.graphic.element);\n                (emitter.labels || []).forEach(function (label) {\n                    if (label.options.useHTML && label.graphic.text) {\n                        // Mousedown event bound to HTML element (#13070).\n                        addMouseDownEvent(label.graphic.text.element);\n                    }\n                });\n                objectEach(emitter.options.events, function (event, type) {\n                    var eventHandler = function (e) {\n                        var _a;\n                        if (type !== 'click' || !emitter.cancelClick) {\n                            event.call(emitter, (_a = emitter.chart.pointer) === null || _a === void 0 ? void 0 : _a.normalize(e), emitter.target);\n                        }\n                    };\n                    if ((emitter.nonDOMEvents || []).indexOf(type) === -1) {\n                        addEvent(emitter.graphic.element, type, eventHandler, { passive: false });\n                        if (emitter.graphic.div) {\n                            addEvent(emitter.graphic.div, type, eventHandler, { passive: false });\n                        }\n                    }\n                    else {\n                        addEvent(emitter, type, eventHandler, { passive: false });\n                    }\n                });\n                if (emitter.options.draggable) {\n                    addEvent(emitter, 'drag', emitter.onDrag);\n                    if (!emitter.graphic.renderer.styledMode) {\n                        var cssPointer_1 = {\n                            cursor: {\n                                x: 'ew-resize',\n                                y: 'ns-resize',\n                                xy: 'move'\n                            }[emitter.options.draggable]\n                        };\n                        emitter.graphic.css(cssPointer_1);\n                        (emitter.labels || []).forEach(function (label) {\n                            if (label.options.useHTML && label.graphic.text) {\n                                label.graphic.text.css(cssPointer_1);\n                            }\n                        });\n                    }\n                }\n                if (!emitter.isUpdating) {\n                    fireEvent(emitter, 'add');\n                }\n            };\n            /**\n             * Destroy the event emitter.\n             */\n            EventEmitter.prototype.destroy = function () {\n                this.removeDocEvents();\n                removeEvent(this);\n                this.hcEvents = null;\n            };\n            /**\n             * Map mouse move event to the radians.\n             * @private\n             */\n            EventEmitter.prototype.mouseMoveToRadians = function (e, cx, cy) {\n                var prevDy = e.prevChartY - cy, prevDx = e.prevChartX - cx, dy = e.chartY - cy, dx = e.chartX - cx, temp;\n                if (this.chart.inverted) {\n                    temp = prevDx;\n                    prevDx = prevDy;\n                    prevDy = temp;\n                    temp = dx;\n                    dx = dy;\n                    dy = temp;\n                }\n                return Math.atan2(dy, dx) - Math.atan2(prevDy, prevDx);\n            };\n            /**\n             * Map mouse move to the scale factors.\n             * @private\n             */\n            EventEmitter.prototype.mouseMoveToScale = function (e, cx, cy) {\n                var prevDx = e.prevChartX - cx, prevDy = e.prevChartY - cy, dx = e.chartX - cx, dy = e.chartY - cy;\n                var sx = (dx || 1) / (prevDx || 1), sy = (dy || 1) / (prevDy || 1);\n                if (this.chart.inverted) {\n                    var temp = sy;\n                    sy = sx;\n                    sx = temp;\n                }\n                return {\n                    x: sx,\n                    y: sy\n                };\n            };\n            /**\n             * Map mouse move event to the distance between two following events.\n             * @private\n             */\n            EventEmitter.prototype.mouseMoveToTranslation = function (e) {\n                var dx = e.chartX - e.prevChartX, dy = e.chartY - e.prevChartY, temp;\n                if (this.chart.inverted) {\n                    temp = dy;\n                    dy = dx;\n                    dx = temp;\n                }\n                return {\n                    x: dx,\n                    y: dy\n                };\n            };\n            /**\n             * Drag and drop event. All basic annotations should share this\n             * capability as well as the extended ones.\n             * @private\n             */\n            EventEmitter.prototype.onDrag = function (e) {\n                if (this.chart.isInsidePlot(e.chartX - this.chart.plotLeft, e.chartY - this.chart.plotTop, {\n                    visiblePlotOnly: true\n                })) {\n                    var translation_1 = this.mouseMoveToTranslation(e);\n                    if (this.options.draggable === 'x') {\n                        translation_1.y = 0;\n                    }\n                    if (this.options.draggable === 'y') {\n                        translation_1.x = 0;\n                    }\n                    var emitter = this;\n                    if (emitter.points.length) {\n                        emitter.translate(translation_1.x, translation_1.y);\n                    }\n                    else {\n                        emitter.shapes.forEach(function (shape) {\n                            return shape.translate(translation_1.x, translation_1.y);\n                        });\n                        emitter.labels.forEach(function (label) {\n                            return label.translate(translation_1.x, translation_1.y);\n                        });\n                    }\n                    this.redraw(false);\n                }\n            };\n            /**\n             * Mouse down handler.\n             * @private\n             */\n            EventEmitter.prototype.onMouseDown = function (e) {\n                var _a;\n                if (e.preventDefault) {\n                    e.preventDefault();\n                }\n                // On right click, do nothing:\n                if (e.button === 2) {\n                    return;\n                }\n                var emitter = this, pointer = emitter.chart.pointer, \n                // Using experimental property on event object to check if event was\n                // created by touch on screen on hybrid device (#18122)\n                firesTouchEvents = ((_a = e === null || e === void 0 ? void 0 : e.sourceCapabilities) === null || _a === void 0 ? void 0 : _a.firesTouchEvents) || false;\n                e = (pointer === null || pointer === void 0 ? void 0 : pointer.normalize(e)) || e;\n                var prevChartX = e.chartX, prevChartY = e.chartY;\n                emitter.cancelClick = false;\n                emitter.chart.hasDraggedAnnotation = true;\n                emitter.removeDrag = addEvent(doc, isTouchDevice || firesTouchEvents ? 'touchmove' : 'mousemove', function (e) {\n                    emitter.hasDragged = true;\n                    e = (pointer === null || pointer === void 0 ? void 0 : pointer.normalize(e)) || e;\n                    e.prevChartX = prevChartX;\n                    e.prevChartY = prevChartY;\n                    fireEvent(emitter, 'drag', e);\n                    prevChartX = e.chartX;\n                    prevChartY = e.chartY;\n                }, isTouchDevice || firesTouchEvents ? { passive: false } : void 0);\n                emitter.removeMouseUp = addEvent(doc, isTouchDevice || firesTouchEvents ? 'touchend' : 'mouseup', function () {\n                    // Sometimes the target is the annotation and sometimes its the\n                    // controllable\n                    var annotation = pick(emitter.target && emitter.target.annotation, emitter.target);\n                    if (annotation) {\n                        // Keep annotation selected after dragging control point\n                        annotation.cancelClick = emitter.hasDragged;\n                    }\n                    emitter.cancelClick = emitter.hasDragged;\n                    emitter.chart.hasDraggedAnnotation = false;\n                    if (emitter.hasDragged) {\n                        // ControlPoints vs Annotation:\n                        fireEvent(pick(annotation, // #15952\n                        emitter), 'afterUpdate');\n                    }\n                    emitter.hasDragged = false;\n                    emitter.onMouseUp();\n                }, isTouchDevice || firesTouchEvents ? { passive: false } : void 0);\n            };\n            /**\n             * Mouse up handler.\n             */\n            EventEmitter.prototype.onMouseUp = function () {\n                this.removeDocEvents();\n            };\n            /**\n             * Remove emitter document events.\n             * @private\n             */\n            EventEmitter.prototype.removeDocEvents = function () {\n                if (this.removeDrag) {\n                    this.removeDrag = this.removeDrag();\n                }\n                if (this.removeMouseUp) {\n                    this.removeMouseUp = this.removeMouseUp();\n                }\n            };\n            return EventEmitter;\n        }());\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return EventEmitter;\n    });\n    _registerModule(_modules, 'Extensions/Annotations/ControlPoint.js', [_modules['Extensions/Annotations/EventEmitter.js'], _modules['Core/Utilities.js']], function (EventEmitter, U) {\n        /* *\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        var merge = U.merge, pick = U.pick;\n        /* *\n         *\n         *  Class\n         *\n         * */\n        /**\n         * A control point class which is a connection between controllable\n         * transform methods and a user actions.\n         *\n         * @requires modules/annotations\n         *\n         * @class\n         * @name Highcharts.AnnotationControlPoint\n         *\n         * @hideconstructor\n         *\n         * @param {Highcharts.Chart} chart\n         * A chart instance.\n         *\n         * @param {Highcharts.AnnotationControllable} target\n         * A controllable instance which is a target for a control point.\n         *\n         * @param {Highcharts.AnnotationControlPointOptionsObject} options\n         * An options object.\n         *\n         * @param {number} [index]\n         * Point index.\n         */\n        var ControlPoint = /** @class */ (function (_super) {\n            __extends(ControlPoint, _super);\n            /* *\n             *\n             *  Constructor\n             *\n             * */\n            function ControlPoint(chart, target, options, index) {\n                var _this = _super.call(this) || this;\n                /**\n                 * List of events for `annotation.options.events` that should not be\n                 * added to `annotation.graphic` but to the `annotation`.\n                 * @private\n                 * @name Highcharts.AnnotationControlPoint#nonDOMEvents\n                 * @type {Array<string>}\n                 */\n                _this.nonDOMEvents = ['drag'];\n                _this.chart = chart;\n                _this.target = target;\n                _this.options = options;\n                _this.index = pick(options.index, index);\n                return _this;\n            }\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            /**\n             * Destroy the control point.\n             * @private\n             */\n            ControlPoint.prototype.destroy = function () {\n                _super.prototype.destroy.call(this);\n                if (this.graphic) {\n                    this.graphic = this.graphic.destroy();\n                }\n                this.chart = null;\n                this.target = null;\n                this.options = null;\n            };\n            /**\n             * Redraw the control point.\n             * @private\n             * @param {boolean} [animation]\n             */\n            ControlPoint.prototype.redraw = function (animation) {\n                this.graphic[animation ? 'animate' : 'attr'](this.options.positioner.call(this, this.target));\n            };\n            /**\n             * Render the control point.\n             * @private\n             */\n            ControlPoint.prototype.render = function () {\n                var chart = this.chart, options = this.options;\n                this.graphic = chart.renderer\n                    .symbol(options.symbol, 0, 0, options.width, options.height)\n                    .add(chart.controlPointsGroup)\n                    .css(options.style);\n                this.setVisibility(options.visible);\n                // `npm test -- --tests \"highcharts/annotations-advanced/*\"`\n                this.addEvents();\n            };\n            /**\n             * Set the visibility of the control point.\n             *\n             * @function Highcharts.AnnotationControlPoint#setVisibility\n             *\n             * @param {boolean} visible\n             * Visibility of the control point.\n             *\n             */\n            ControlPoint.prototype.setVisibility = function (visible) {\n                this.graphic[visible ? 'show' : 'hide']();\n                this.options.visible = visible;\n            };\n            /**\n             * Update the control point.\n             *\n             * @function Highcharts.AnnotationControlPoint#update\n             *\n             * @param {Partial<Highcharts.AnnotationControlPointOptionsObject>} userOptions\n             * New options for the control point.\n             */\n            ControlPoint.prototype.update = function (userOptions) {\n                var chart = this.chart, target = this.target, index = this.index, options = merge(true, this.options, userOptions);\n                this.destroy();\n                this.constructor(chart, target, options, index);\n                this.render(chart.controlPointsGroup);\n                this.redraw();\n            };\n            return ControlPoint;\n        }(EventEmitter));\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n        /* *\n         *\n         *  API Declarations\n         *\n         * */\n        /**\n         * Callback to modify annotation's positioner controls.\n         *\n         * @callback Highcharts.AnnotationControlPointPositionerFunction\n         * @param {Highcharts.AnnotationControlPoint} this\n         * @param {Highcharts.AnnotationControllable} target\n         * @return {Highcharts.PositionObject}\n         */\n        (''); // Keeps doclets above in JS file\n\n        return ControlPoint;\n    });\n    _registerModule(_modules, 'Extensions/Annotations/MockPoint.js', [_modules['Core/Series/SeriesRegistry.js'], _modules['Core/Utilities.js']], function (SeriesRegistry, U) {\n        /* *\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var seriesProto = SeriesRegistry.series.prototype;\n        var defined = U.defined, fireEvent = U.fireEvent;\n        /* *\n         *\n         *  Class\n         *\n         * */\n        /**\n         * A trimmed point object which imitates {@link Highchart.Point} class. It is\n         * created when there is a need of pointing to some chart's position using axis\n         * values or pixel values\n         *\n         * @requires modules/annotations\n         *\n         * @private\n         * @class\n         * @name Highcharts.AnnotationMockPoint\n         *\n         * @hideconstructor\n         *\n         * @param {Highcharts.Chart} chart\n         * The chart instance.\n         *\n         * @param {Highcharts.AnnotationControllable|null} target\n         * The related controllable.\n         *\n         * @param {Highcharts.AnnotationMockPointOptionsObject|Function} options\n         * The options object.\n         */\n        var MockPoint = /** @class */ (function () {\n            /* *\n             *\n             *  Constructor\n             *\n             * */\n            function MockPoint(chart, target, options) {\n                /* *\n                 *\n                 * Functions\n                 *\n                 * */\n                /**\n                 * A flag indicating that a point is not the real one.\n                 *\n                 * @type {boolean}\n                 * @default true\n                 */\n                this.mock = true;\n                /**\n                 * A mock series instance imitating a real series from a real point.\n                 *\n                 * @name Annotation.AnnotationMockPoint#series\n                 * @type {Highcharts.AnnotationMockSeries}\n                 */\n                this.series = {\n                    visible: true,\n                    chart: chart,\n                    getPlotBox: seriesProto.getPlotBox\n                };\n                /**\n                 * @name Annotation.AnnotationMockPoint#target\n                 * @type {Highcharts.AnnotationControllable|null}\n                 */\n                this.target = target || null;\n                /**\n                 * Options for the mock point.\n                 *\n                 * @name Annotation.AnnotationMockPoint#options\n                 * @type {Highcharts.AnnotationsMockPointOptionsObject}\n                 */\n                this.options = options;\n                /**\n                 * If an xAxis is set it represents the point's value in terms of the\n                 * xAxis.\n                 *\n                 * @name Annotation.AnnotationMockPoint#x\n                 * @type {number|undefined}\n                 */\n                /**\n                 * If an yAxis is set it represents the point's value in terms of the\n                 * yAxis.\n                 *\n                 * @name Annotation.AnnotationMockPoint#y\n                 * @type {number|undefined}\n                 */\n                /**\n                 * It represents the point's pixel x coordinate relative to its plot\n                 * box.\n                 *\n                 * @name Annotation.AnnotationMockPoint#plotX\n                 * @type {number|undefined}\n                 */\n                /**\n                 * It represents the point's pixel y position relative to its plot box.\n                 *\n                 * @name Annotation.AnnotationMockPoint#plotY\n                 * @type {number|undefined}\n                 */\n                /**\n                 * Whether the point is inside the plot box.\n                 *\n                 * @name Annotation.AnnotationMockPoint#isInside\n                 * @type {boolean|undefined}\n                 */\n                this.applyOptions(this.getOptions());\n            }\n            /* *\n             *\n             *  Static Functions\n             *\n             * */\n            /**\n             * Create a mock point from a real Highcharts point.\n             *\n             * @private\n             * @static\n             *\n             * @param {Highcharts.Point} point\n             *\n             * @return {Highcharts.AnnotationMockPoint}\n             * A mock point instance.\n             */\n            MockPoint.fromPoint = function (point) {\n                return new MockPoint(point.series.chart, null, {\n                    x: point.x,\n                    y: point.y,\n                    xAxis: point.series.xAxis,\n                    yAxis: point.series.yAxis\n                });\n            };\n            /**\n             * Get the pixel position from the point like object.\n             *\n             * @private\n             * @static\n             *\n             * @param {Highcharts.AnnotationPointType} point\n             *\n             * @param {boolean} [paneCoordinates]\n             *        Whether the pixel position should be relative\n             *\n             * @return {Highcharts.PositionObject} pixel position\n             */\n            MockPoint.pointToPixels = function (point, paneCoordinates) {\n                var series = point.series, chart = series.chart;\n                var x = point.plotX || 0, y = point.plotY || 0, plotBox;\n                if (chart.inverted) {\n                    if (point.mock) {\n                        x = point.plotY;\n                        y = point.plotX;\n                    }\n                    else {\n                        x = chart.plotWidth - (point.plotY || 0);\n                        y = chart.plotHeight - (point.plotX || 0);\n                    }\n                }\n                if (series && !paneCoordinates) {\n                    plotBox = series.getPlotBox();\n                    x += plotBox.translateX;\n                    y += plotBox.translateY;\n                }\n                return {\n                    x: x,\n                    y: y\n                };\n            };\n            /**\n             * Get fresh mock point options from the point like object.\n             *\n             * @private\n             * @static\n             *\n             * @param {Highcharts.AnnotationPointType} point\n             *\n             * @return {Highcharts.AnnotationMockPointOptionsObject}\n             * A mock point's options.\n             */\n            MockPoint.pointToOptions = function (point) {\n                return {\n                    x: point.x,\n                    y: point.y,\n                    xAxis: point.series.xAxis,\n                    yAxis: point.series.yAxis\n                };\n            };\n            /**\n             * Apply options for the point.\n             * @private\n             * @param {Highcharts.AnnotationMockPointOptionsObject} options\n             */\n            MockPoint.prototype.applyOptions = function (options) {\n                this.command = options.command;\n                this.setAxis(options, 'x');\n                this.setAxis(options, 'y');\n                this.refresh();\n            };\n            /**\n             * Returns a label config object - the same as\n             * Highcharts.Point.prototype.getLabelConfig\n             * @private\n             * @return {Highcharts.AnnotationMockLabelOptionsObject}\n             * The point's label config\n             */\n            MockPoint.prototype.getLabelConfig = function () {\n                return {\n                    x: this.x,\n                    y: this.y,\n                    point: this\n                };\n            };\n            /**\n             * Get the point's options.\n             * @private\n             * @return {Highcharts.AnnotationMockPointOptionsObject}\n             * The mock point's options.\n             */\n            MockPoint.prototype.getOptions = function () {\n                return this.hasDynamicOptions() ?\n                    this.options(this.target) :\n                    this.options;\n            };\n            /**\n             * Check if the point has dynamic options.\n             * @private\n             * @return {boolean}\n             * A positive flag if the point has dynamic options.\n             */\n            MockPoint.prototype.hasDynamicOptions = function () {\n                return typeof this.options === 'function';\n            };\n            /**\n             * Check if the point is inside its pane.\n             * @private\n             * @return {boolean} A flag indicating whether the point is inside the pane.\n             */\n            MockPoint.prototype.isInsidePlot = function () {\n                var plotX = this.plotX, plotY = this.plotY, xAxis = this.series.xAxis, yAxis = this.series.yAxis, e = {\n                    x: plotX,\n                    y: plotY,\n                    isInsidePlot: true,\n                    options: {}\n                };\n                if (xAxis) {\n                    e.isInsidePlot = defined(plotX) && plotX >= 0 && plotX <= xAxis.len;\n                }\n                if (yAxis) {\n                    e.isInsidePlot =\n                        e.isInsidePlot &&\n                            defined(plotY) &&\n                            plotY >= 0 && plotY <= yAxis.len;\n                }\n                fireEvent(this.series.chart, 'afterIsInsidePlot', e);\n                return e.isInsidePlot;\n            };\n            /**\n             * Refresh point values and coordinates based on its options.\n             * @private\n             */\n            MockPoint.prototype.refresh = function () {\n                var series = this.series, xAxis = series.xAxis, yAxis = series.yAxis, options = this.getOptions();\n                if (xAxis) {\n                    this.x = options.x;\n                    this.plotX = xAxis.toPixels(options.x, true);\n                }\n                else {\n                    this.x = void 0;\n                    this.plotX = options.x;\n                }\n                if (yAxis) {\n                    this.y = options.y;\n                    this.plotY = yAxis.toPixels(options.y, true);\n                }\n                else {\n                    this.y = null;\n                    this.plotY = options.y;\n                }\n                this.isInside = this.isInsidePlot();\n            };\n            /**\n             * Refresh point options based on its plot coordinates.\n             * @private\n             */\n            MockPoint.prototype.refreshOptions = function () {\n                var series = this.series, xAxis = series.xAxis, yAxis = series.yAxis;\n                this.x = this.options.x = xAxis ?\n                    this.options.x = xAxis.toValue(this.plotX, true) :\n                    this.plotX;\n                this.y = this.options.y = yAxis ?\n                    yAxis.toValue(this.plotY, true) :\n                    this.plotY;\n            };\n            /**\n             * Rotate the point.\n             * @private\n             * @param {number} cx origin x rotation\n             * @param {number} cy origin y rotation\n             * @param {number} radians\n             */\n            MockPoint.prototype.rotate = function (cx, cy, radians) {\n                if (!this.hasDynamicOptions()) {\n                    var cos = Math.cos(radians), sin = Math.sin(radians), x = this.plotX - cx, y = this.plotY - cy, tx = x * cos - y * sin, ty = x * sin + y * cos;\n                    this.plotX = tx + cx;\n                    this.plotY = ty + cy;\n                    this.refreshOptions();\n                }\n            };\n            /**\n             * Scale the point.\n             *\n             * @private\n             *\n             * @param {number} cx\n             * Origin x transformation.\n             *\n             * @param {number} cy\n             * Origin y transformation.\n             *\n             * @param {number} sx\n             * Scale factor x.\n             *\n             * @param {number} sy\n             * Scale factor y.\n             */\n            MockPoint.prototype.scale = function (cx, cy, sx, sy) {\n                if (!this.hasDynamicOptions()) {\n                    var x = this.plotX * sx, y = this.plotY * sy, tx = (1 - sx) * cx, ty = (1 - sy) * cy;\n                    this.plotX = tx + x;\n                    this.plotY = ty + y;\n                    this.refreshOptions();\n                }\n            };\n            /**\n             * Set x or y axis.\n             * @private\n             * @param {Highcharts.AnnotationMockPointOptionsObject} options\n             * @param {string} xOrY\n             * 'x' or 'y' string literal\n             */\n            MockPoint.prototype.setAxis = function (options, xOrY) {\n                var axisName = (xOrY + 'Axis'), axisOptions = options[axisName], chart = this.series.chart;\n                this.series[axisName] =\n                    typeof axisOptions === 'object' ?\n                        axisOptions :\n                        defined(axisOptions) ?\n                            (chart[axisName][axisOptions] ||\n                                // @todo v--- (axisName)[axisOptions] ?\n                                chart.get(axisOptions)) :\n                            null;\n            };\n            /**\n             * Transform the mock point to an anchor (relative position on the chart).\n             * @private\n             * @return {Array<number>}\n             * A quadruple of numbers which denotes x, y, width and height of the box\n             **/\n            MockPoint.prototype.toAnchor = function () {\n                var anchor = [this.plotX, this.plotY, 0, 0];\n                if (this.series.chart.inverted) {\n                    anchor[0] = this.plotY;\n                    anchor[1] = this.plotX;\n                }\n                return anchor;\n            };\n            /**\n             * Translate the point.\n             *\n             * @private\n             *\n             * @param {number|undefined} cx\n             * Origin x transformation.\n             *\n             * @param {number|undefined} cy\n             * Origin y transformation.\n             *\n             * @param {number} dx\n             * Translation for x coordinate.\n             *\n             * @param {number} dy\n             * Translation for y coordinate.\n             **/\n            MockPoint.prototype.translate = function (_cx, _cy, dx, dy) {\n                if (!this.hasDynamicOptions()) {\n                    this.plotX += dx;\n                    this.plotY += dy;\n                    this.refreshOptions();\n                }\n            };\n            return MockPoint;\n        }());\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n        /* *\n         *\n         *  API Declarations\n         *\n         * */\n        /**\n         * @private\n         * @interface Highcharts.AnnotationMockLabelOptionsObject\n         */ /**\n        * Point instance of the point.\n        * @name Highcharts.AnnotationMockLabelOptionsObject#point\n        * @type {Highcharts.AnnotationMockPoint}\n        */ /**\n        * X value translated to x axis scale.\n        * @name Highcharts.AnnotationMockLabelOptionsObject#x\n        * @type {number|null}\n        */ /**\n        * Y value translated to y axis scale.\n        * @name Highcharts.AnnotationMockLabelOptionsObject#y\n        * @type {number|null}\n        */\n        /**\n         * Object of shape point.\n         *\n         * @interface Highcharts.AnnotationMockPointOptionsObject\n         */ /**\n        * The x position of the point. Units can be either in axis\n        * or chart pixel coordinates.\n        *\n        * @type      {number}\n        * @name      Highcharts.AnnotationMockPointOptionsObject.x\n        */ /**\n        * The y position of the point. Units can be either in axis\n        * or chart pixel coordinates.\n        *\n        * @type      {number}\n        * @name      Highcharts.AnnotationMockPointOptionsObject.y\n        */ /**\n        * This number defines which xAxis the point is connected to.\n        * It refers to either the axis id or the index of the axis in\n        * the xAxis array. If the option is not configured or the axis\n        * is not found the point's x coordinate refers to the chart\n        * pixels.\n        *\n        * @type      {number|string|null}\n        * @name      Highcharts.AnnotationMockPointOptionsObject.xAxis\n        */ /**\n        * This number defines which yAxis the point is connected to.\n        * It refers to either the axis id or the index of the axis in\n        * the yAxis array. If the option is not configured or the axis\n        * is not found the point's y coordinate refers to the chart\n        * pixels.\n        *\n        * @type      {number|string|null}\n        * @name      Highcharts.AnnotationMockPointOptionsObject.yAxis\n        */\n        /**\n         * Callback function that returns the annotation shape point.\n         *\n         * @callback Highcharts.AnnotationMockPointFunction\n         *\n         * @param  {Highcharts.Annotation} annotation\n         *         An annotation instance.\n         *\n         * @return {Highcharts.AnnotationMockPointOptionsObject}\n         *         Annotations shape point.\n         */\n        /**\n         * A mock series instance imitating a real series from a real point.\n         * @private\n         * @interface Highcharts.AnnotationMockSeries\n         */ /**\n        * Whether a series is visible.\n        * @name Highcharts.AnnotationMockSeries#visible\n        * @type {boolean}\n        */ /**\n        * A chart instance.\n        * @name Highcharts.AnnotationMockSeries#chart\n        * @type {Highcharts.Chart}\n        */ /**\n        * @name Highcharts.AnnotationMockSeries#getPlotBox\n        * @type {Function}\n        */\n        /**\n         * Indicates if this is a mock point for an annotation.\n         * @name Highcharts.Point#mock\n         * @type {boolean|undefined}\n         */\n        (''); // Keeps doclets above in JS file\n\n        return MockPoint;\n    });\n    _registerModule(_modules, 'Extensions/Annotations/ControlTarget.js', [_modules['Extensions/Annotations/ControlPoint.js'], _modules['Extensions/Annotations/MockPoint.js'], _modules['Core/Utilities.js']], function (ControlPoint, MockPoint, U) {\n        /* *\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        /* *\n         *\n         *  Composition Namespace\n         *\n         * */\n        var ControlTarget;\n        (function (ControlTarget) {\n            /* *\n             *\n             *  Declarations\n             *\n             * */\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            /**\n             * Add control points.\n             * @private\n             */\n            function addControlPoints() {\n                var _this = this;\n                var controlPoints = this.controlPoints, controlPointsOptions = this.options.controlPoints || [];\n                controlPointsOptions.forEach(function (controlPointOptions, i) {\n                    var options = U.merge(_this.options.controlPointOptions, controlPointOptions);\n                    if (!options.index) {\n                        options.index = i;\n                    }\n                    controlPointsOptions[i] = options;\n                    controlPoints.push(new ControlPoint(_this.chart, _this, options));\n                });\n            }\n            /**\n             * Returns object which denotes anchor position - relative and absolute.\n             * @private\n             * @param {Highcharts.AnnotationPointType} point\n             * An annotation point.\n             *\n             * @return {Highcharts.AnnotationAnchorObject}\n             * An annotation anchor.\n             */\n            function anchor(point) {\n                var plotBox = point.series.getPlotBox(), chart = point.series.chart, box = point.mock ?\n                    point.toAnchor() :\n                    chart.tooltip &&\n                        chart.tooltip.getAnchor.call({\n                            chart: point.series.chart\n                        }, point) ||\n                        [0, 0, 0, 0], anchor = {\n                    x: box[0] + (this.options.x || 0),\n                    y: box[1] + (this.options.y || 0),\n                    height: box[2] || 0,\n                    width: box[3] || 0\n                };\n                return {\n                    relativePosition: anchor,\n                    absolutePosition: U.merge(anchor, {\n                        x: anchor.x + (point.mock ? plotBox.translateX : chart.plotLeft),\n                        y: anchor.y + (point.mock ? plotBox.translateY : chart.plotTop)\n                    })\n                };\n            }\n            /**\n             * Adds shared functions to be used with targets of ControlPoint.\n             * @private\n             */\n            function compose(ControlTargetClass) {\n                var controlProto = ControlTargetClass.prototype;\n                if (!controlProto.addControlPoints) {\n                    U.merge(true, controlProto, {\n                        addControlPoints: addControlPoints,\n                        anchor: anchor,\n                        destroyControlTarget: destroyControlTarget,\n                        getPointsOptions: getPointsOptions,\n                        linkPoints: linkPoints,\n                        point: point,\n                        redrawControlPoints: redrawControlPoints,\n                        renderControlPoints: renderControlPoints,\n                        transform: transform,\n                        transformPoint: transformPoint,\n                        translate: translate,\n                        translatePoint: translatePoint\n                    });\n                }\n            }\n            ControlTarget.compose = compose;\n            /**\n             * Destroy control points.\n             * @private\n             */\n            function destroyControlTarget() {\n                this.controlPoints.forEach(function (controlPoint) { return controlPoint.destroy(); });\n                this.chart = null;\n                this.controlPoints = null;\n                this.points = null;\n                this.options = null;\n                if (this.annotation) {\n                    this.annotation = null;\n                }\n            }\n            /**\n             * Get the points options.\n             * @private\n             * @return {Array<Highcharts.PointOptionsObject>}\n             * An array of points' options.\n             */\n            function getPointsOptions() {\n                var options = this.options;\n                return (options.points ||\n                    (options.point && U.splat(options.point)));\n            }\n            /**\n             * Find point-like objects based on points options.\n             * @private\n             * @return {Array<Annotation.PointLike>}\n             *         An array of point-like objects.\n             */\n            function linkPoints() {\n                var pointsOptions = this.getPointsOptions(), points = this.points, len = (pointsOptions && pointsOptions.length) || 0;\n                var i, point;\n                for (i = 0; i < len; i++) {\n                    point = this.point(pointsOptions[i], points[i]);\n                    if (!point) {\n                        points.length = 0;\n                        return;\n                    }\n                    if (point.mock) {\n                        point.refresh();\n                    }\n                    points[i] = point;\n                }\n                return points;\n            }\n            /**\n             * Map point's options to a point-like object.\n             * @private\n             * @param {string|Function|Highcharts.AnnotationMockPointOptionsObject|Highcharts.AnnotationPointType} pointOptions\n             *        Point's options.\n             * @param {Highcharts.AnnotationPointType} point\n             *        A point-like instance.\n             * @return {Highcharts.AnnotationPointType|null}\n             *         If the point is found/set returns this point, otherwise null\n             */\n            function point(pointOptions, point) {\n                if (pointOptions && pointOptions.series) {\n                    return pointOptions;\n                }\n                if (!point || point.series === null) {\n                    if (U.isObject(pointOptions)) {\n                        point = new MockPoint(this.chart, this, pointOptions);\n                    }\n                    else if (U.isString(pointOptions)) {\n                        point = this.chart.get(pointOptions) || null;\n                    }\n                    else if (typeof pointOptions === 'function') {\n                        var pointConfig = pointOptions.call(point, this);\n                        point = pointConfig.series ?\n                            pointConfig :\n                            new MockPoint(this.chart, this, pointOptions);\n                    }\n                }\n                return point;\n            }\n            /**\n             * Redraw control points.\n             * @private\n             */\n            function redrawControlPoints(animation) {\n                this.controlPoints.forEach(function (controlPoint) { return controlPoint.redraw(animation); });\n            }\n            /**\n             * Render control points.\n             * @private\n             */\n            function renderControlPoints() {\n                this.controlPoints.forEach(function (controlPoint) { return controlPoint.render(); });\n            }\n            /**\n             * Transform control points with a specific transformation.\n             * @private\n             * @param {string} transformation\n             *        A transformation name\n             * @param {number|null} cx\n             *        Origin x transformation\n             * @param {number|null} cy\n             *        Origin y transformation\n             * @param {number} p1\n             *        Param for the transformation\n             * @param {number} [p2]\n             *        Param for the transformation\n             */\n            function transform(transformation, cx, cy, p1, p2) {\n                var _this = this;\n                if (this.chart.inverted) {\n                    var temp = cx;\n                    cx = cy;\n                    cy = temp;\n                }\n                this.points.forEach(function (_point, i) { return (_this.transformPoint(transformation, cx, cy, p1, p2, i)); }, this);\n            }\n            /**\n             * Transform a point with a specific transformation\n             * If a transformed point is a real point it is replaced with\n             * the mock point.\n             * @private\n             * @param {string} transformation\n             *        A transformation name\n             * @param {number|null} cx\n             *        Origin x transformation\n             * @param {number|null} cy\n             *        Origin y transformation\n             * @param {number} p1\n             *        Param for the transformation\n             * @param {number|undefined} p2\n             *        Param for the transformation\n             * @param {number} i\n             *        Index of the point\n             */\n            function transformPoint(transformation, cx, cy, p1, p2, i) {\n                var point = this.points[i];\n                if (!point.mock) {\n                    point = this.points[i] = MockPoint.fromPoint(point);\n                }\n                point[transformation](cx, cy, p1, p2);\n            }\n            /**\n             * Translate control points.\n             * @private\n             * @param {number} dx\n             *        Translation for x coordinate\n             * @param {number} dy\n             *        Translation for y coordinate\n             **/\n            function translate(dx, dy) {\n                this.transform('translate', null, null, dx, dy);\n            }\n            /**\n             * Translate a specific control point.\n             * @private\n             * @param {number} dx\n             *        Translation for x coordinate\n             * @param {number} dy\n             *        Translation for y coordinate\n             * @param {number} i\n             *        Index of the point\n             **/\n            function translatePoint(dx, dy, i) {\n                this.transformPoint('translate', null, null, dx, dy, i);\n            }\n        })(ControlTarget || (ControlTarget = {}));\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return ControlTarget;\n    });\n    _registerModule(_modules, 'Extensions/Annotations/Controllables/Controllable.js', [_modules['Extensions/Annotations/ControlTarget.js'], _modules['Core/Utilities.js']], function (ControlTarget, U) {\n        /* *\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var merge = U.merge;\n        /* *\n         *\n         *  Class\n         *\n         * */\n        /**\n         * It provides methods for handling points, control points\n         * and points transformations.\n         * @private\n         */\n        var Controllable = /** @class */ (function () {\n            /* *\n             *\n             *  Constructor\n             *\n             * */\n            function Controllable(annotation, options, index, itemType) {\n                this.annotation = annotation;\n                this.chart = annotation.chart;\n                this.collection = (itemType === 'label' ? 'labels' : 'shapes');\n                this.controlPoints = [];\n                this.options = options;\n                this.points = [];\n                this.index = index;\n                this.itemType = itemType;\n                this.init(annotation, options, index);\n            }\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            /**\n             * Redirect attr usage on the controllable graphic element.\n             * @private\n             */\n            Controllable.prototype.attr = function () {\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                var _args = [];\n                for (\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                var _i = 0; \n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                _i < arguments.length; \n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                _i++) {\n                    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                    _args[_i] = arguments[_i];\n                }\n                this.graphic.attr.apply(this.graphic, arguments);\n            };\n            /**\n             * Utility function for mapping item's options\n             * to element's attribute\n             * @private\n             * @param {Highcharts.AnnotationsLabelsOptions|Highcharts.AnnotationsShapesOptions} options\n             * @return {Highcharts.SVGAttributes}\n             *         Mapped options.\n             */\n            Controllable.prototype.attrsFromOptions = function (options) {\n                var map = this.constructor.attrsMap, attrs = {}, styledMode = this.chart.styledMode;\n                var key, mappedKey;\n                for (key in options) { // eslint-disable-line guard-for-in\n                    mappedKey = map[key];\n                    if (typeof map[key] !== 'undefined' &&\n                        (!styledMode ||\n                            ['fill', 'stroke', 'stroke-width']\n                                .indexOf(mappedKey) === -1)) {\n                        attrs[mappedKey] = options[key];\n                    }\n                }\n                return attrs;\n            };\n            /**\n             * Destroy a controllable.\n             * @private\n             */\n            Controllable.prototype.destroy = function () {\n                if (this.graphic) {\n                    this.graphic = this.graphic.destroy();\n                }\n                if (this.tracker) {\n                    this.tracker = this.tracker.destroy();\n                }\n                this.destroyControlTarget();\n            };\n            /**\n             * Init the controllable\n             * @private\n             */\n            Controllable.prototype.init = function (annotation, options, index) {\n                this.annotation = annotation;\n                this.chart = annotation.chart;\n                this.options = options;\n                this.points = [];\n                this.controlPoints = [];\n                this.index = index;\n                this.linkPoints();\n                this.addControlPoints();\n            };\n            /**\n             * Redraw a controllable.\n             * @private\n             */\n            Controllable.prototype.redraw = function (animation) {\n                this.redrawControlPoints(animation);\n            };\n            /**\n             * Render a controllable.\n             * @private\n             */\n            Controllable.prototype.render = function (\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            _parentGroup) {\n                if (this.options.className && this.graphic) {\n                    this.graphic.addClass(this.options.className);\n                }\n                this.renderControlPoints();\n            };\n            /**\n             * Rotate a controllable.\n             * @private\n             * @param {number} cx\n             *        Origin x rotation\n             * @param {number} cy\n             *        Origin y rotation\n             * @param {number} radians\n             **/\n            Controllable.prototype.rotate = function (cx, cy, radians) {\n                this.transform('rotate', cx, cy, radians);\n            };\n            /**\n             * Scale a controllable.\n             * @private\n             * @param {number} cx\n             *        Origin x rotation\n             * @param {number} cy\n             *        Origin y rotation\n             * @param {number} sx\n             *        Scale factor x\n             * @param {number} sy\n             *        Scale factor y\n             */\n            Controllable.prototype.scale = function (cx, cy, sx, sy) {\n                this.transform('scale', cx, cy, sx, sy);\n            };\n            /**\n             * Set control points' visibility.\n             * @private\n             */\n            Controllable.prototype.setControlPointsVisibility = function (visible) {\n                this.controlPoints.forEach(function (controlPoint) {\n                    controlPoint.setVisibility(visible);\n                });\n            };\n            /**\n             * Check if a controllable should be rendered/redrawn.\n             * @private\n             * @return {boolean}\n             *         Whether a controllable should be drawn.\n             */\n            Controllable.prototype.shouldBeDrawn = function () {\n                return !!this.points.length;\n            };\n            /**\n             * Translate shape within controllable item.\n             * Replaces `controllable.translate` method.\n             * @private\n             * @param {number} dx\n             *        Translation for x coordinate\n             * @param {number} dy\n             *        Translation for y coordinate\n             * @param {boolean|undefined} translateSecondPoint\n             *        If the shape has two points attached to it, this option allows you\n             *        to translate also the second point.\n             */\n            Controllable.prototype.translateShape = function (dx, dy, translateSecondPoint) {\n                var chart = this.annotation.chart, \n                // Annotation.options\n                shapeOptions = this.annotation.userOptions, \n                // Chart.options.annotations\n                annotationIndex = chart.annotations.indexOf(this.annotation), chartOptions = chart.options.annotations[annotationIndex];\n                this.translatePoint(dx, dy, 0);\n                if (translateSecondPoint) {\n                    this.translatePoint(dx, dy, 1);\n                }\n                // Options stored in:\n                // - chart (for exporting)\n                // - current config (for redraws)\n                chartOptions[this.collection][this.index]\n                    .point = this.options.point;\n                shapeOptions[this.collection][this.index]\n                    .point = this.options.point;\n            };\n            /**\n             * Update a controllable.\n             * @private\n             */\n            Controllable.prototype.update = function (newOptions) {\n                var annotation = this.annotation, options = merge(true, this.options, newOptions), parentGroup = this.graphic.parentGroup, Constructor = this.constructor;\n                this.destroy();\n                var newControllable = new Constructor(annotation, options, this.index, this.itemType);\n                merge(true, this, newControllable);\n                this.render(parentGroup);\n                this.redraw();\n            };\n            return Controllable;\n        }());\n        ControlTarget.compose(Controllable);\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n        /* *\n         *\n         *  API Declarations\n         *\n         * */\n        /**\n         * An object which denotes a controllable's anchor positions - relative and\n         * absolute.\n         *\n         * @private\n         * @interface Highcharts.AnnotationAnchorObject\n         */ /**\n        * Relative to the plot area position\n        * @name Highcharts.AnnotationAnchorObject#relativePosition\n        * @type {Highcharts.BBoxObject}\n        */ /**\n        * Absolute position\n        * @name Highcharts.AnnotationAnchorObject#absolutePosition\n        * @type {Highcharts.BBoxObject}\n        */\n        /**\n         * @interface Highcharts.AnnotationControllable\n         */ /**\n        * @name Highcharts.AnnotationControllable#annotation\n        * @type {Highcharts.Annotation}\n        */ /**\n        * @name Highcharts.AnnotationControllable#chart\n        * @type {Highcharts.Chart}\n        */ /**\n        * @name Highcharts.AnnotationControllable#collection\n        * @type {string}\n        */ /**\n        * @private\n        * @name Highcharts.AnnotationControllable#controlPoints\n        * @type {Array<Highcharts.AnnotationControlPoint>}\n        */ /**\n        * @name Highcharts.AnnotationControllable#points\n        * @type {Array<Highcharts.Point>}\n        */\n        (''); // Keeps doclets above in JS file\n\n        return Controllable;\n    });\n    _registerModule(_modules, 'Extensions/Annotations/Controllables/ControllableDefaults.js', [], function () {\n        /* *\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        /**\n         * Options for configuring markers for annotations.\n         *\n         * An example of the arrow marker:\n         * <pre>\n         * {\n         *   arrow: {\n         *     id: 'arrow',\n         *     tagName: 'marker',\n         *     refY: 5,\n         *     refX: 5,\n         *     markerWidth: 10,\n         *     markerHeight: 10,\n         *     children: [{\n         *       tagName: 'path',\n         *       attrs: {\n         *         d: 'M 0 0 L 10 5 L 0 10 Z',\n         *         'stroke-width': 0\n         *       }\n         *     }]\n         *   }\n         * }\n         * </pre>\n         *\n         * @sample highcharts/annotations/custom-markers/\n         *         Define a custom marker for annotations\n         *\n         * @sample highcharts/css/annotations-markers/\n         *         Define markers in a styled mode\n         *\n         * @type         {Highcharts.Dictionary<Highcharts.ASTNode>}\n         * @since        6.0.0\n         * @optionparent defs\n         */\n        var defaultMarkers = {\n            /**\n             * @type {Highcharts.ASTNode}\n             */\n            arrow: {\n                tagName: 'marker',\n                attributes: {\n                    id: 'arrow',\n                    refY: 5,\n                    refX: 9,\n                    markerWidth: 10,\n                    markerHeight: 10\n                },\n                /**\n                 * @type {Array<Highcharts.DefsOptions>}\n                 */\n                children: [{\n                        tagName: 'path',\n                        attributes: {\n                            d: 'M 0 0 L 10 5 L 0 10 Z', // Triangle (used as an arrow)\n                            'stroke-width': 0\n                        }\n                    }]\n            },\n            /**\n             * @type {Highcharts.ASTNode}\n             */\n            'reverse-arrow': {\n                tagName: 'marker',\n                attributes: {\n                    id: 'reverse-arrow',\n                    refY: 5,\n                    refX: 1,\n                    markerWidth: 10,\n                    markerHeight: 10\n                },\n                children: [{\n                        tagName: 'path',\n                        attributes: {\n                            // Reverse triangle (used as an arrow)\n                            d: 'M 0 5 L 10 0 L 10 10 Z',\n                            'stroke-width': 0\n                        }\n                    }]\n            }\n        };\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n        var ControllableDefaults = {\n            defaultMarkers: defaultMarkers\n        };\n\n        return ControllableDefaults;\n    });\n    _registerModule(_modules, 'Extensions/Annotations/Controllables/ControllablePath.js', [_modules['Extensions/Annotations/Controllables/Controllable.js'], _modules['Extensions/Annotations/Controllables/ControllableDefaults.js'], _modules['Core/Globals.js'], _modules['Core/Utilities.js']], function (Controllable, ControllableDefaults, H, U) {\n        /* *\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        var defaultMarkers = ControllableDefaults.defaultMarkers;\n        var addEvent = U.addEvent, defined = U.defined, extend = U.extend, merge = U.merge, uniqueKey = U.uniqueKey;\n        /* *\n         *\n         *  Constants\n         *\n         * */\n        var markerEndSetter = createMarkerSetter('marker-end');\n        var markerStartSetter = createMarkerSetter('marker-start');\n        // See TRACKER_FILL in highcharts.src.js\n        var TRACKER_FILL = 'rgba(192,192,192,' + (H.svg ? 0.0001 : 0.002) + ')';\n        /* *\n         *\n         *  Functions\n         *\n         * */\n        /**\n         * @private\n         */\n        function createMarkerSetter(markerType) {\n            return function (value) {\n                this.attr(markerType, 'url(#' + value + ')');\n            };\n        }\n        /**\n         * @private\n         */\n        function onChartAfterGetContainer() {\n            this.options.defs = merge(defaultMarkers, this.options.defs || {});\n            ///  objectEach(this.options.defs, function (def): void {\n            //     const attributes = def.attributes;\n            //     if (\n            //         def.tagName === 'marker' &&\n            //         attributes &&\n            //         attributes.id &&\n            //         attributes.display !== 'none'\n            //     ) {\n            //         this.renderer.addMarker(attributes.id, def);\n            //     }\n            // }, this);\n        }\n        /**\n         * @private\n         */\n        function svgRendererAddMarker(id, markerOptions) {\n            var options = { attributes: { id: id } };\n            var attrs = {\n                stroke: markerOptions.color || 'none',\n                fill: markerOptions.color || 'rgba(0, 0, 0, 0.75)'\n            };\n            options.children = (markerOptions.children &&\n                markerOptions.children.map(function (child) {\n                    return merge(attrs, child);\n                }));\n            var ast = merge(true, {\n                attributes: {\n                    markerWidth: 20,\n                    markerHeight: 20,\n                    refX: 0,\n                    refY: 0,\n                    orient: 'auto'\n                }\n            }, markerOptions, options);\n            var marker = this.definition(ast);\n            marker.id = id;\n            return marker;\n        }\n        /* *\n         *\n         *  Class\n         *\n         * */\n        /**\n         * A controllable path class.\n         *\n         * @requires modules/annotations\n         *\n         * @private\n         * @class\n         * @name Highcharts.AnnotationControllablePath\n         *\n         * @param {Highcharts.Annotation}\n         * Related annotation.\n         *\n         * @param {Highcharts.AnnotationsShapeOptions} options\n         * A path's options object.\n         *\n         * @param {number} index\n         * Index of the path.\n         */\n        var ControllablePath = /** @class */ (function (_super) {\n            __extends(ControllablePath, _super);\n            /* *\n             *\n             *  Constructors\n             *\n             * */\n            function ControllablePath(annotation, options, index) {\n                var _this = _super.call(this, annotation, options, index, 'shape') || this;\n                /* *\n                 *\n                 *  Properties\n                 *\n                 * */\n                _this.type = 'path';\n                return _this;\n            }\n            /* *\n             *\n             *  Static Functions\n             *\n             * */\n            ControllablePath.compose = function (ChartClass, SVGRendererClass) {\n                var svgRendererProto = SVGRendererClass.prototype;\n                if (!svgRendererProto.addMarker) {\n                    addEvent(ChartClass, 'afterGetContainer', onChartAfterGetContainer);\n                    svgRendererProto.addMarker = svgRendererAddMarker;\n                }\n            };\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            /**\n             * Map the controllable path to 'd' path attribute.\n             *\n             * @return {Highcharts.SVGPathArray|null}\n             * A path's d attribute.\n             */\n            ControllablePath.prototype.toD = function () {\n                var dOption = this.options.d;\n                if (dOption) {\n                    return typeof dOption === 'function' ?\n                        dOption.call(this) :\n                        dOption;\n                }\n                var points = this.points, len = points.length, d = [];\n                var showPath = len, point = points[0], position = showPath && this.anchor(point).absolutePosition, pointIndex = 0, command;\n                if (position) {\n                    d.push(['M', position.x, position.y]);\n                    while (++pointIndex < len && showPath) {\n                        point = points[pointIndex];\n                        command = point.command || 'L';\n                        position = this.anchor(point).absolutePosition;\n                        if (command === 'M') {\n                            d.push([command, position.x, position.y]);\n                        }\n                        else if (command === 'L') {\n                            d.push([command, position.x, position.y]);\n                        }\n                        else if (command === 'Z') {\n                            d.push([command]);\n                        }\n                        showPath = point.series.visible;\n                    }\n                }\n                return (showPath && this.graphic ?\n                    this.chart.renderer.crispLine(d, this.graphic.strokeWidth()) :\n                    null);\n            };\n            ControllablePath.prototype.shouldBeDrawn = function () {\n                return _super.prototype.shouldBeDrawn.call(this) || !!this.options.d;\n            };\n            ControllablePath.prototype.render = function (parent) {\n                var options = this.options, attrs = this.attrsFromOptions(options);\n                this.graphic = this.annotation.chart.renderer\n                    .path([['M', 0, 0]])\n                    .attr(attrs)\n                    .add(parent);\n                this.tracker = this.annotation.chart.renderer\n                    .path([['M', 0, 0]])\n                    .addClass('highcharts-tracker-line')\n                    .attr({\n                    zIndex: 2\n                })\n                    .add(parent);\n                if (!this.annotation.chart.styledMode) {\n                    this.tracker.attr({\n                        'stroke-linejoin': 'round', // #1225\n                        stroke: TRACKER_FILL,\n                        fill: TRACKER_FILL,\n                        'stroke-width': this.graphic.strokeWidth() +\n                            options.snap * 2\n                    });\n                }\n                _super.prototype.render.call(this);\n                extend(this.graphic, { markerStartSetter: markerStartSetter, markerEndSetter: markerEndSetter });\n                this.setMarkers(this);\n            };\n            ControllablePath.prototype.redraw = function (animation) {\n                if (this.graphic) {\n                    var d = this.toD(), action = animation ? 'animate' : 'attr';\n                    if (d) {\n                        this.graphic[action]({ d: d });\n                        this.tracker[action]({ d: d });\n                    }\n                    else {\n                        this.graphic.attr({ d: 'M 0 ' + -9e9 });\n                        this.tracker.attr({ d: 'M 0 ' + -9e9 });\n                    }\n                    this.graphic.placed = this.tracker.placed = !!d;\n                }\n                _super.prototype.redraw.call(this, animation);\n            };\n            /**\n             * Set markers.\n             * @private\n             * @param {Highcharts.AnnotationControllablePath} item\n             */\n            ControllablePath.prototype.setMarkers = function (item) {\n                var itemOptions = item.options, chart = item.chart, defs = chart.options.defs, fill = itemOptions.fill, color = defined(fill) && fill !== 'none' ?\n                    fill :\n                    itemOptions.stroke;\n                var setMarker = function (markerType) {\n                    var markerId = itemOptions[markerType];\n                    var def, predefinedMarker, key, marker;\n                    if (markerId) {\n                        for (key in defs) { // eslint-disable-line guard-for-in\n                            def = defs[key];\n                            if ((markerId === (def.attributes && def.attributes.id) ||\n                                // Legacy, for\n                                // unit-tests/annotations/annotations-shapes\n                                markerId === def.id) &&\n                                def.tagName === 'marker') {\n                                predefinedMarker = def;\n                                break;\n                            }\n                        }\n                        if (predefinedMarker) {\n                            marker = item[markerType] = chart.renderer\n                                .addMarker((itemOptions.id || uniqueKey()) + '-' + markerId, merge(predefinedMarker, { color: color }));\n                            item.attr(markerType, marker.getAttribute('id'));\n                        }\n                    }\n                };\n                ['markerStart', 'markerEnd']\n                    .forEach(setMarker);\n            };\n            /* *\n             *\n             *  Static Properties\n             *\n             * */\n            /**\n             * A map object which allows to map options attributes to element attributes\n             *\n             * @name Highcharts.AnnotationControllablePath.attrsMap\n             * @type {Highcharts.Dictionary<string>}\n             */\n            ControllablePath.attrsMap = {\n                dashStyle: 'dashstyle',\n                strokeWidth: 'stroke-width',\n                stroke: 'stroke',\n                fill: 'fill',\n                zIndex: 'zIndex'\n            };\n            return ControllablePath;\n        }(Controllable));\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return ControllablePath;\n    });\n    _registerModule(_modules, 'Extensions/Annotations/Controllables/ControllableRect.js', [_modules['Extensions/Annotations/Controllables/Controllable.js'], _modules['Extensions/Annotations/Controllables/ControllablePath.js'], _modules['Core/Utilities.js']], function (Controllable, ControllablePath, U) {\n        /* *\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        var merge = U.merge;\n        /* *\n         *\n         *  Class\n         *\n         * */\n        /**\n         * A controllable rect class.\n         *\n         * @requires modules/annotations\n         *\n         * @private\n         * @class\n         * @name Highcharts.AnnotationControllableRect\n         *\n         * @param {Highcharts.Annotation} annotation\n         * An annotation instance.\n         *\n         * @param {Highcharts.AnnotationsShapeOptions} options\n         * A rect's options.\n         *\n         * @param {number} index\n         * Index of the rectangle\n         */\n        var ControllableRect = /** @class */ (function (_super) {\n            __extends(ControllableRect, _super);\n            /* *\n             *\n             *  Constructors\n             *\n             * */\n            function ControllableRect(annotation, options, index) {\n                var _this = _super.call(this, annotation, options, index, 'shape') || this;\n                /* *\n                 *\n                 *  Properties\n                 *\n                 * */\n                _this.type = 'rect';\n                _this.translate = _super.prototype.translateShape;\n                return _this;\n            }\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            ControllableRect.prototype.render = function (parent) {\n                var attrs = this.attrsFromOptions(this.options);\n                this.graphic = this.annotation.chart.renderer\n                    .rect(0, -9e9, 0, 0)\n                    .attr(attrs)\n                    .add(parent);\n                _super.prototype.render.call(this);\n            };\n            ControllableRect.prototype.redraw = function (animation) {\n                if (this.graphic) {\n                    var position = this.anchor(this.points[0]).absolutePosition;\n                    if (position) {\n                        this.graphic[animation ? 'animate' : 'attr']({\n                            x: position.x,\n                            y: position.y,\n                            width: this.options.width,\n                            height: this.options.height\n                        });\n                    }\n                    else {\n                        this.attr({\n                            x: 0,\n                            y: -9e9\n                        });\n                    }\n                    this.graphic.placed = Boolean(position);\n                }\n                _super.prototype.redraw.call(this, animation);\n            };\n            /* *\n             *\n             *  Static Properties\n             *\n             * */\n            /**\n             * A map object which allows to map options attributes to element attributes\n             *\n             * @type {Annotation.ControllableRect.AttrsMap}\n             */\n            ControllableRect.attrsMap = merge(ControllablePath.attrsMap, {\n                width: 'width',\n                height: 'height'\n            });\n            return ControllableRect;\n        }(Controllable));\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return ControllableRect;\n    });\n    _registerModule(_modules, 'Extensions/Annotations/Controllables/ControllableCircle.js', [_modules['Extensions/Annotations/Controllables/Controllable.js'], _modules['Extensions/Annotations/Controllables/ControllablePath.js'], _modules['Core/Utilities.js']], function (Controllable, ControllablePath, U) {\n        /* *\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        var merge = U.merge;\n        /* *\n         *\n         *  Class\n         *\n         * */\n        /**\n         * A controllable circle class.\n         *\n         * @requires modules/annotations\n         *\n         * @private\n         * @class\n         * @name Highcharts.AnnotationControllableCircle\n         *\n         * @param {Highcharts.Annotation} annotation an annotation instance\n         * @param {Highcharts.AnnotationsShapeOptions} options a shape's options\n         * @param {number} index of the circle\n         */\n        var ControllableCircle = /** @class */ (function (_super) {\n            __extends(ControllableCircle, _super);\n            /* *\n             *\n             *  Constructors\n             *\n             * */\n            function ControllableCircle(annotation, options, index) {\n                var _this = _super.call(this, annotation, options, index, 'shape') || this;\n                /* *\n                 *\n                 *  Properties\n                 *\n                 * */\n                _this.type = 'circle';\n                _this.translate = _super.prototype.translateShape;\n                return _this;\n            }\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            /**\n             * @private\n             */\n            ControllableCircle.prototype.redraw = function (animation) {\n                if (this.graphic) {\n                    var position = this.anchor(this.points[0]).absolutePosition;\n                    if (position) {\n                        this.graphic[animation ? 'animate' : 'attr']({\n                            x: position.x,\n                            y: position.y,\n                            r: this.options.r\n                        });\n                    }\n                    else {\n                        this.graphic.attr({\n                            x: 0,\n                            y: -9e9\n                        });\n                    }\n                    this.graphic.placed = !!position;\n                }\n                _super.prototype.redraw.call(this, animation);\n            };\n            /**\n             * @private\n             */\n            ControllableCircle.prototype.render = function (parent) {\n                var attrs = this.attrsFromOptions(this.options);\n                this.graphic = this.annotation.chart.renderer\n                    .circle(0, -9e9, 0)\n                    .attr(attrs)\n                    .add(parent);\n                _super.prototype.render.call(this);\n            };\n            /**\n             * Set the radius.\n             * @private\n             * @param {number} r\n             *        A radius to be set\n             */\n            ControllableCircle.prototype.setRadius = function (r) {\n                this.options.r = r;\n            };\n            /* *\n             *\n             *  Static Properties\n             *\n             * */\n            /**\n             * A map object which allows to map options attributes to element\n             * attributes.\n             *\n             * @name Highcharts.AnnotationControllableCircle.attrsMap\n             * @type {Highcharts.Dictionary<string>}\n             */\n            ControllableCircle.attrsMap = merge(ControllablePath.attrsMap, { r: 'r' });\n            return ControllableCircle;\n        }(Controllable));\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return ControllableCircle;\n    });\n    _registerModule(_modules, 'Extensions/Annotations/Controllables/ControllableEllipse.js', [_modules['Extensions/Annotations/Controllables/Controllable.js'], _modules['Extensions/Annotations/Controllables/ControllablePath.js'], _modules['Core/Utilities.js']], function (Controllable, ControllablePath, U) {\n        /* *\n         *\n         * Author: Pawel Lysy\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        var merge = U.merge, defined = U.defined;\n        /* *\n         *\n         *  Class\n         *\n         * */\n        /**\n         * A controllable ellipse class.\n         *\n         * @requires modules/annotations\n         *\n         * @private\n         * @class\n         * @name Highcharts.AnnotationControllableEllipse\n         *\n         * @param {Highcharts.Annotation} annotation an annotation instance\n         * @param {Highcharts.AnnotationsShapeOptions} options a shape's options\n         * @param {number} index of the Ellipse\n         */\n        var ControllableEllipse = /** @class */ (function (_super) {\n            __extends(ControllableEllipse, _super);\n            /* *\n             *\n             *  Constructor\n             *\n             * */\n            function ControllableEllipse(annotation, options, index) {\n                var _this = _super.call(this, annotation, options, index, 'shape') || this;\n                /* *\n                 *\n                 *  Properties\n                 *\n                 * */\n                _this.type = 'ellipse';\n                return _this;\n            }\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            /**\n             * @private\n             */\n            ControllableEllipse.prototype.init = function (annotation, options, index) {\n                if (defined(options.yAxis)) {\n                    options.points.forEach(function (point) {\n                        point.yAxis = options.yAxis;\n                    });\n                }\n                if (defined(options.xAxis)) {\n                    options.points.forEach(function (point) {\n                        point.xAxis = options.xAxis;\n                    });\n                }\n                _super.prototype.init.call(this, annotation, options, index);\n            };\n            /**\n             * Render the element\n             * @private\n             * @param parent\n             *        Parent SVG element.\n             */\n            ControllableEllipse.prototype.render = function (parent) {\n                this.graphic = this.annotation.chart.renderer.createElement('ellipse')\n                    .attr(this.attrsFromOptions(this.options))\n                    .add(parent);\n                _super.prototype.render.call(this);\n            };\n            /**\n             * Translate the points. Mostly used to handle dragging of the ellipse.\n             * @private\n             */\n            ControllableEllipse.prototype.translate = function (dx, dy) {\n                _super.prototype.translateShape.call(this, dx, dy, true);\n            };\n            /**\n             * Get the distance from the line to the point.\n             * @private\n             * @param point1\n             *        First point which is on the line\n             * @param point2\n             *        Second point\n             * @param x0\n             *        Point's x value from which you want to calculate the distance from\n             * @param y0\n             *        Point's y value from which you want to calculate the distance from\n             */\n            ControllableEllipse.prototype.getDistanceFromLine = function (point1, point2, x0, y0) {\n                return Math.abs((point2.y - point1.y) * x0 - (point2.x - point1.x) * y0 +\n                    point2.x * point1.y - point2.y * point1.x) / Math.sqrt((point2.y - point1.y) * (point2.y - point1.y) +\n                    (point2.x - point1.x) * (point2.x - point1.x));\n            };\n            /**\n             * The function calculates the svg attributes of the ellipse, and returns\n             * all parameters necessary to draw the ellipse.\n             * @private\n             * @param position\n             *        Absolute position of the first point in points array\n             * @param position2\n             *        Absolute position of the second point in points array\n             */\n            ControllableEllipse.prototype.getAttrs = function (position, position2) {\n                var x1 = position.x, y1 = position.y, x2 = position2.x, y2 = position2.y, cx = (x1 + x2) / 2, cy = (y1 + y2) / 2, rx = Math.sqrt((x1 - x2) * (x1 - x2) / 4 + (y1 - y2) * (y1 - y2) / 4), tan = (y2 - y1) / (x2 - x1);\n                var angle = Math.atan(tan) * 180 / Math.PI;\n                if (cx < x1) {\n                    angle += 180;\n                }\n                var ry = this.getRY();\n                return { cx: cx, cy: cy, rx: rx, ry: ry, angle: angle };\n            };\n            /**\n             * Get the value of minor radius of the ellipse.\n             * @private\n             */\n            ControllableEllipse.prototype.getRY = function () {\n                var yAxis = this.getYAxis();\n                return defined(yAxis) ?\n                    Math.abs(yAxis.toPixels(this.options.ry) - yAxis.toPixels(0)) :\n                    this.options.ry;\n            };\n            /**\n             * Get the yAxis object to which the ellipse is pinned.\n             * @private\n             */\n            ControllableEllipse.prototype.getYAxis = function () {\n                var yAxisIndex = this.options.yAxis;\n                return this.chart.yAxis[yAxisIndex];\n            };\n            /**\n             * Get the absolute coordinates of the MockPoint\n             * @private\n             * @param point\n             *        MockPoint that is added through options\n             */\n            ControllableEllipse.prototype.getAbsolutePosition = function (point) {\n                return this.anchor(point).absolutePosition;\n            };\n            /**\n             * Redraw the element\n             * @private\n             * @param animation\n             *        Display an animation\n             */\n            ControllableEllipse.prototype.redraw = function (animation) {\n                if (this.graphic) {\n                    var position = this.getAbsolutePosition(this.points[0]), position2 = this.getAbsolutePosition(this.points[1]), attrs = this.getAttrs(position, position2);\n                    if (position) {\n                        this.graphic[animation ? 'animate' : 'attr']({\n                            cx: attrs.cx,\n                            cy: attrs.cy,\n                            rx: attrs.rx,\n                            ry: attrs.ry,\n                            rotation: attrs.angle,\n                            rotationOriginX: attrs.cx,\n                            rotationOriginY: attrs.cy\n                        });\n                    }\n                    else {\n                        this.graphic.attr({\n                            x: 0,\n                            y: -9e9\n                        });\n                    }\n                    this.graphic.placed = Boolean(position);\n                }\n                _super.prototype.redraw.call(this, animation);\n            };\n            /**\n             * Set the radius Y.\n             * @private\n             * @param {number} ry\n             *        A radius in y direction to be set\n             */\n            ControllableEllipse.prototype.setYRadius = function (ry) {\n                var shapes = this.annotation.userOptions.shapes;\n                this.options.ry = ry;\n                if (shapes && shapes[0]) {\n                    shapes[0].ry = ry;\n                    shapes[0].ry = ry;\n                }\n            };\n            /* *\n             *\n             *  Static Properties\n             *\n             * */\n            /**\n             * A map object which allows to map options attributes to element\n             * attributes.\n             *\n             * @name Highcharts.AnnotationControllableEllipse.attrsMap\n             * @type {Highcharts.Dictionary<string>}\n             */\n            ControllableEllipse.attrsMap = merge(ControllablePath.attrsMap, {\n                ry: 'ry'\n            });\n            return ControllableEllipse;\n        }(Controllable));\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return ControllableEllipse;\n    });\n    _registerModule(_modules, 'Extensions/Annotations/Controllables/ControllableLabel.js', [_modules['Extensions/Annotations/Controllables/Controllable.js'], _modules['Core/Templating.js'], _modules['Extensions/Annotations/MockPoint.js'], _modules['Core/Utilities.js']], function (Controllable, F, MockPoint, U) {\n        /* *\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        var format = F.format;\n        var extend = U.extend, isNumber = U.isNumber, pick = U.pick;\n        /* *\n         *\n         *  Functions\n         *\n         * */\n        /**\n         * General symbol definition for labels with connector\n         * @private\n         */\n        function symbolConnector(x, y, w, h, options) {\n            var anchorX = options && options.anchorX, anchorY = options && options.anchorY;\n            var path, yOffset, lateral = w / 2;\n            if (isNumber(anchorX) && isNumber(anchorY)) {\n                path = [['M', anchorX, anchorY]];\n                // Prefer 45 deg connectors\n                yOffset = y - anchorY;\n                if (yOffset < 0) {\n                    yOffset = -h - yOffset;\n                }\n                if (yOffset < w) {\n                    lateral = anchorX < x + (w / 2) ? yOffset : w - yOffset;\n                }\n                // Anchor below label\n                if (anchorY > y + h) {\n                    path.push(['L', x + lateral, y + h]);\n                    // Anchor above label\n                }\n                else if (anchorY < y) {\n                    path.push(['L', x + lateral, y]);\n                    // Anchor left of label\n                }\n                else if (anchorX < x) {\n                    path.push(['L', x, y + h / 2]);\n                    // Anchor right of label\n                }\n                else if (anchorX > x + w) {\n                    path.push(['L', x + w, y + h / 2]);\n                }\n            }\n            return path || [];\n        }\n        /* *\n         *\n         *  Class\n         *\n         * */\n        /**\n         * A controllable label class.\n         *\n         * @requires modules/annotations\n         *\n         * @private\n         * @class\n         * @name Highcharts.AnnotationControllableLabel\n         *\n         * @param {Highcharts.Annotation} annotation\n         * An annotation instance.\n         * @param {Highcharts.AnnotationsLabelOptions} options\n         * A label's options.\n         * @param {number} index\n         * Index of the label.\n         */\n        var ControllableLabel = /** @class */ (function (_super) {\n            __extends(ControllableLabel, _super);\n            /* *\n             *\n             *  Constructors\n             *\n             * */\n            function ControllableLabel(annotation, options, index) {\n                return _super.call(this, annotation, options, index, 'label') || this;\n            }\n            /* *\n             *\n             *  Static Functions\n             *\n             * */\n            /**\n             * Returns new aligned position based alignment options and box to align to.\n             * It is almost a one-to-one copy from SVGElement.prototype.align\n             * except it does not use and mutate an element\n             *\n             * @param {Highcharts.AnnotationAlignObject} alignOptions\n             *\n             * @param {Highcharts.BBoxObject} box\n             *\n             * @return {Highcharts.PositionObject}\n             * Aligned position.\n             */\n            ControllableLabel.alignedPosition = function (alignOptions, box) {\n                var align = alignOptions.align, vAlign = alignOptions.verticalAlign;\n                var x = (box.x || 0) + (alignOptions.x || 0), y = (box.y || 0) + (alignOptions.y || 0), alignFactor, vAlignFactor;\n                if (align === 'right') {\n                    alignFactor = 1;\n                }\n                else if (align === 'center') {\n                    alignFactor = 2;\n                }\n                if (alignFactor) {\n                    x += (box.width - (alignOptions.width || 0)) / alignFactor;\n                }\n                if (vAlign === 'bottom') {\n                    vAlignFactor = 1;\n                }\n                else if (vAlign === 'middle') {\n                    vAlignFactor = 2;\n                }\n                if (vAlignFactor) {\n                    y += (box.height - (alignOptions.height || 0)) / vAlignFactor;\n                }\n                return {\n                    x: Math.round(x),\n                    y: Math.round(y)\n                };\n            };\n            ControllableLabel.compose = function (SVGRendererClass) {\n                var symbols = SVGRendererClass.prototype.symbols;\n                symbols.connector = symbolConnector;\n            };\n            /**\n             * Returns new alignment options for a label if the label is outside the\n             * plot area. It is almost a one-to-one copy from\n             * Series.prototype.justifyDataLabel except it does not mutate the label and\n             * it works with absolute instead of relative position.\n             */\n            ControllableLabel.justifiedOptions = function (chart, label, alignOptions, alignAttr) {\n                var align = alignOptions.align, verticalAlign = alignOptions.verticalAlign, padding = label.box ? 0 : (label.padding || 0), bBox = label.getBBox(), \n                //\n                options = {\n                    align: align,\n                    verticalAlign: verticalAlign,\n                    x: alignOptions.x,\n                    y: alignOptions.y,\n                    width: label.width,\n                    height: label.height\n                }, \n                //\n                x = (alignAttr.x || 0) - chart.plotLeft, y = (alignAttr.y || 0) - chart.plotTop;\n                var off;\n                // Off left\n                off = x + padding;\n                if (off < 0) {\n                    if (align === 'right') {\n                        options.align = 'left';\n                    }\n                    else {\n                        options.x = (options.x || 0) - off;\n                    }\n                }\n                // Off right\n                off = x + bBox.width - padding;\n                if (off > chart.plotWidth) {\n                    if (align === 'left') {\n                        options.align = 'right';\n                    }\n                    else {\n                        options.x = (options.x || 0) + chart.plotWidth - off;\n                    }\n                }\n                // Off top\n                off = y + padding;\n                if (off < 0) {\n                    if (verticalAlign === 'bottom') {\n                        options.verticalAlign = 'top';\n                    }\n                    else {\n                        options.y = (options.y || 0) - off;\n                    }\n                }\n                // Off bottom\n                off = y + bBox.height - padding;\n                if (off > chart.plotHeight) {\n                    if (verticalAlign === 'top') {\n                        options.verticalAlign = 'bottom';\n                    }\n                    else {\n                        options.y = (options.y || 0) + chart.plotHeight - off;\n                    }\n                }\n                return options;\n            };\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            /**\n             * Translate the point of the label by deltaX and deltaY translations.\n             * The point is the label's anchor.\n             *\n             * @param {number} dx translation for x coordinate\n             * @param {number} dy translation for y coordinate\n             */\n            ControllableLabel.prototype.translatePoint = function (dx, dy) {\n                _super.prototype.translatePoint.call(this, dx, dy, 0);\n            };\n            /**\n             * Translate x and y position relative to the label's anchor.\n             *\n             * @param {number} dx translation for x coordinate\n             * @param {number} dy translation for y coordinate\n             */\n            ControllableLabel.prototype.translate = function (dx, dy) {\n                var chart = this.annotation.chart, \n                // Annotation.options\n                labelOptions = this.annotation.userOptions, \n                // Chart.options.annotations\n                annotationIndex = chart.annotations.indexOf(this.annotation), chartAnnotations = chart.options.annotations, chartOptions = chartAnnotations[annotationIndex];\n                if (chart.inverted) {\n                    var temp = dx;\n                    dx = dy;\n                    dy = temp;\n                }\n                // Local options:\n                this.options.x += dx;\n                this.options.y += dy;\n                // Options stored in chart:\n                chartOptions[this.collection][this.index].x = this.options.x;\n                chartOptions[this.collection][this.index].y = this.options.y;\n                labelOptions[this.collection][this.index].x = this.options.x;\n                labelOptions[this.collection][this.index].y = this.options.y;\n            };\n            ControllableLabel.prototype.render = function (parent) {\n                var options = this.options, attrs = this.attrsFromOptions(options), style = options.style;\n                this.graphic = this.annotation.chart.renderer\n                    .label('', 0, -9999, // #10055\n                options.shape, null, null, options.useHTML, null, 'annotation-label')\n                    .attr(attrs)\n                    .add(parent);\n                if (!this.annotation.chart.styledMode) {\n                    if (style.color === 'contrast') {\n                        style.color = this.annotation.chart.renderer.getContrast(ControllableLabel.shapesWithoutBackground.indexOf(options.shape) > -1 ? '#FFFFFF' : options.backgroundColor);\n                    }\n                    this.graphic\n                        .css(options.style)\n                        .shadow(options.shadow);\n                }\n                this.graphic.labelrank = options.labelrank;\n                _super.prototype.render.call(this);\n            };\n            ControllableLabel.prototype.redraw = function (animation) {\n                var options = this.options, text = this.text || options.format || options.text, label = this.graphic, point = this.points[0];\n                if (!label) {\n                    this.redraw(animation);\n                    return;\n                }\n                label.attr({\n                    text: text ?\n                        format(String(text), point.getLabelConfig(), this.annotation.chart) :\n                        options.formatter.call(point, this)\n                });\n                var anchor = this.anchor(point);\n                var attrs = this.position(anchor);\n                if (attrs) {\n                    label.alignAttr = attrs;\n                    attrs.anchorX = anchor.absolutePosition.x;\n                    attrs.anchorY = anchor.absolutePosition.y;\n                    label[animation ? 'animate' : 'attr'](attrs);\n                }\n                else {\n                    label.attr({\n                        x: 0,\n                        y: -9999 // #10055\n                    });\n                }\n                label.placed = !!attrs;\n                _super.prototype.redraw.call(this, animation);\n            };\n            /**\n             * All basic shapes don't support alignTo() method except label.\n             * For a controllable label, we need to subtract translation from\n             * options.\n             */\n            ControllableLabel.prototype.anchor = function (\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            _point) {\n                var anchor = _super.prototype.anchor.apply(this, arguments), x = this.options.x || 0, y = this.options.y || 0;\n                anchor.absolutePosition.x -= x;\n                anchor.absolutePosition.y -= y;\n                anchor.relativePosition.x -= x;\n                anchor.relativePosition.y -= y;\n                return anchor;\n            };\n            /**\n             * Returns the label position relative to its anchor.\n             */\n            ControllableLabel.prototype.position = function (anchor) {\n                var item = this.graphic, chart = this.annotation.chart, tooltip = chart.tooltip, point = this.points[0], itemOptions = this.options, anchorAbsolutePosition = anchor.absolutePosition, anchorRelativePosition = anchor.relativePosition;\n                var itemPosition, alignTo, itemPosRelativeX, itemPosRelativeY, showItem = point.series.visible &&\n                    MockPoint.prototype.isInsidePlot.call(point);\n                if (item && showItem) {\n                    var _a = item.width, width = _a === void 0 ? 0 : _a, _b = item.height, height = _b === void 0 ? 0 : _b;\n                    if (itemOptions.distance && tooltip) {\n                        itemPosition = tooltip.getPosition.call({\n                            chart: chart,\n                            distance: pick(itemOptions.distance, 16),\n                            getPlayingField: tooltip.getPlayingField,\n                            pointer: tooltip.pointer\n                        }, width, height, {\n                            plotX: anchorRelativePosition.x,\n                            plotY: anchorRelativePosition.y,\n                            negative: point.negative,\n                            ttBelow: point.ttBelow,\n                            h: (anchorRelativePosition.height ||\n                                anchorRelativePosition.width)\n                        });\n                    }\n                    else if (itemOptions.positioner) {\n                        itemPosition = itemOptions.positioner.call(this);\n                    }\n                    else {\n                        alignTo = {\n                            x: anchorAbsolutePosition.x,\n                            y: anchorAbsolutePosition.y,\n                            width: 0,\n                            height: 0\n                        };\n                        itemPosition = ControllableLabel.alignedPosition(extend(itemOptions, {\n                            width: width,\n                            height: height\n                        }), alignTo);\n                        if (this.options.overflow === 'justify') {\n                            itemPosition = ControllableLabel.alignedPosition(ControllableLabel.justifiedOptions(chart, item, itemOptions, itemPosition), alignTo);\n                        }\n                    }\n                    if (itemOptions.crop) {\n                        itemPosRelativeX = itemPosition.x - chart.plotLeft;\n                        itemPosRelativeY = itemPosition.y - chart.plotTop;\n                        showItem =\n                            chart.isInsidePlot(itemPosRelativeX, itemPosRelativeY) &&\n                                chart.isInsidePlot(itemPosRelativeX + width, itemPosRelativeY + height);\n                    }\n                }\n                return showItem ? itemPosition : null;\n            };\n            /* *\n             *\n             *  Static Properties\n             *\n             * */\n            /**\n             * A map object which allows to map options attributes to element attributes\n             *\n             * @type {Highcharts.Dictionary<string>}\n             */\n            ControllableLabel.attrsMap = {\n                backgroundColor: 'fill',\n                borderColor: 'stroke',\n                borderWidth: 'stroke-width',\n                zIndex: 'zIndex',\n                borderRadius: 'r',\n                padding: 'padding'\n            };\n            /**\n             * Shapes which do not have background - the object is used for proper\n             * setting of the contrast color.\n             *\n             * @type {Array<string>}\n             */\n            ControllableLabel.shapesWithoutBackground = ['connector'];\n            return ControllableLabel;\n        }(Controllable));\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return ControllableLabel;\n    });\n    _registerModule(_modules, 'Extensions/Annotations/Controllables/ControllableImage.js', [_modules['Extensions/Annotations/Controllables/Controllable.js'], _modules['Extensions/Annotations/Controllables/ControllableLabel.js']], function (Controllable, ControllableLabel) {\n        /* *\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        /* *\n         *\n         *  Class\n         *\n         * */\n        /**\n         * A controllable image class.\n         *\n         * @requires modules/annotations\n         *\n         * @private\n         * @class\n         * @name Highcharts.AnnotationControllableImage\n         *\n         * @param {Highcharts.Annotation} annotation\n         * An annotation instance.\n         *\n         * @param {Highcharts.AnnotationsShapeOptions} options\n         * A controllable's options.\n         *\n         * @param {number} index\n         * Index of the image.\n         */\n        var ControllableImage = /** @class */ (function (_super) {\n            __extends(ControllableImage, _super);\n            /* *\n             *\n             *  Constructors\n             *\n             * */\n            function ControllableImage(annotation, options, index) {\n                var _this = _super.call(this, annotation, options, index, 'shape') || this;\n                /* *\n                 *\n                 *  Properties\n                 *\n                 * */\n                _this.type = 'image';\n                _this.translate = _super.prototype.translateShape;\n                return _this;\n            }\n            ControllableImage.prototype.render = function (parent) {\n                var attrs = this.attrsFromOptions(this.options), options = this.options;\n                this.graphic = this.annotation.chart.renderer\n                    .image(options.src, 0, -9e9, options.width, options.height)\n                    .attr(attrs)\n                    .add(parent);\n                this.graphic.width = options.width;\n                this.graphic.height = options.height;\n                _super.prototype.render.call(this);\n            };\n            ControllableImage.prototype.redraw = function (animation) {\n                if (this.graphic) {\n                    var anchor = this.anchor(this.points[0]), position = ControllableLabel.prototype.position.call(this, anchor);\n                    if (position) {\n                        this.graphic[animation ? 'animate' : 'attr']({\n                            x: position.x,\n                            y: position.y\n                        });\n                    }\n                    else {\n                        this.graphic.attr({\n                            x: 0,\n                            y: -9e9\n                        });\n                    }\n                    this.graphic.placed = Boolean(position);\n                }\n                _super.prototype.redraw.call(this, animation);\n            };\n            /* *\n             *\n             *  Static Properties\n             *\n             * */\n            /**\n             * A map object which allows to map options attributes to element attributes\n             *\n             * @name Highcharts.AnnotationControllableImage.attrsMap\n             * @type {Highcharts.Dictionary<string>}\n             */\n            ControllableImage.attrsMap = {\n                width: 'width',\n                height: 'height',\n                zIndex: 'zIndex'\n            };\n            return ControllableImage;\n        }(Controllable));\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return ControllableImage;\n    });\n    _registerModule(_modules, 'Shared/BaseForm.js', [_modules['Core/Renderer/HTML/AST.js'], _modules['Core/Utilities.js']], function (AST, U) {\n        /* *\n         *\n         *  (c) 2009-2024 Highsoft AS\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        /* *\n         *\n         *  Imports\n         *\n         * */\n        var addEvent = U.addEvent, createElement = U.createElement;\n        /* *\n         *\n         *  Class\n         *\n         * */\n        var BaseForm = /** @class */ (function () {\n            /* *\n             *\n             *  Constructor\n             *\n             * */\n            function BaseForm(parentDiv, iconsURL) {\n                this.iconsURL = iconsURL;\n                this.container = this.createPopupContainer(parentDiv);\n                this.closeButton = this.addCloseButton();\n            }\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            /**\n             * Create popup div container.\n             *\n             * @param {HTMLElement} parentDiv\n             * Parent div to attach popup.\n             *\n             * @param  {string} className\n             * Class name of the popup.\n             *\n             * @return {HTMLElement}\n             * Popup div.\n             */\n            BaseForm.prototype.createPopupContainer = function (parentDiv, className) {\n                if (className === void 0) { className = 'highcharts-popup highcharts-no-tooltip'; }\n                return createElement('div', { className: className }, void 0, parentDiv);\n            };\n            /**\n             * Create HTML element and attach click event to close popup.\n             *\n             * @param {string} className\n             * Class name of the close button.\n             *\n             * @return {HTMLElement}\n             * Close button.\n             */\n            BaseForm.prototype.addCloseButton = function (className) {\n                if (className === void 0) { className = 'highcharts-popup-close'; }\n                var popup = this, iconsURL = this.iconsURL;\n                // Create close popup button.\n                var closeButton = createElement('button', { className: className }, void 0, this.container);\n                closeButton.style['background-image'] = 'url(' +\n                    (iconsURL.match(/png|svg|jpeg|jpg|gif/ig) ?\n                        iconsURL : iconsURL + 'close.svg') + ')';\n                ['click', 'touchstart'].forEach(function (eventName) {\n                    addEvent(closeButton, eventName, popup.closeButtonEvents.bind(popup));\n                });\n                // Close popup when press ESC\n                addEvent(document, 'keydown', function (event) {\n                    if (event.code === 'Escape') {\n                        popup.closeButtonEvents();\n                    }\n                });\n                return closeButton;\n            };\n            /**\n             * Close button events.\n             * @return {void}\n             */\n            BaseForm.prototype.closeButtonEvents = function () {\n                this.closePopup();\n            };\n            /**\n             * Reset content of the current popup and show.\n             *\n             * @param {string} toolbarClass\n             * Class name of the toolbar which styles should be reset.\n             */\n            BaseForm.prototype.showPopup = function (toolbarClass) {\n                if (toolbarClass === void 0) { toolbarClass = 'highcharts-annotation-toolbar'; }\n                var popupDiv = this.container, popupCloseButton = this.closeButton;\n                this.type = void 0;\n                // Reset content.\n                popupDiv.innerHTML = AST.emptyHTML;\n                // Reset toolbar styles if exists.\n                if (popupDiv.className.indexOf(toolbarClass) >= 0) {\n                    popupDiv.classList.remove(toolbarClass);\n                    // Reset toolbar inline styles\n                    popupDiv.removeAttribute('style');\n                }\n                // Add close button.\n                popupDiv.appendChild(popupCloseButton);\n                popupDiv.style.display = 'block';\n                popupDiv.style.height = '';\n            };\n            /**\n             * Hide popup.\n             */\n            BaseForm.prototype.closePopup = function () {\n                this.container.style.display = 'none';\n            };\n            return BaseForm;\n        }());\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return BaseForm;\n    });\n    _registerModule(_modules, 'Extensions/Annotations/Popup/PopupAnnotations.js', [_modules['Core/Globals.js'], _modules['Core/Utilities.js']], function (H, U) {\n        /* *\n         *\n         *  Popup generator for Stock tools\n         *\n         *  (c) 2009-2024 Sebastian Bochan\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var doc = H.doc, isFirefox = H.isFirefox;\n        var createElement = U.createElement, isArray = U.isArray, isObject = U.isObject, objectEach = U.objectEach, pick = U.pick, stableSort = U.stableSort;\n        /* *\n         *\n         *  Functions\n         *\n         * */\n        /**\n         * Create annotation simple form.\n         * It contains fields with param names.\n         * @private\n         * @param {Highcharts.Chart} chart\n         * Chart\n         * @param {Object} options\n         * Options\n         * @param {Function} callback\n         * On click callback\n         * @param {boolean} [isInit]\n         * If it is a form declared for init annotation\n         */\n        function addForm(chart, options, callback, isInit) {\n            if (!chart) {\n                return;\n            }\n            var popupDiv = this.container, lang = this.lang;\n            // Create title of annotations\n            var lhsCol = createElement('h2', {\n                className: 'highcharts-popup-main-title'\n            }, void 0, popupDiv);\n            lhsCol.appendChild(doc.createTextNode(lang[options.langKey] || options.langKey || ''));\n            // Left column\n            lhsCol = createElement('div', {\n                className: ('highcharts-popup-lhs-col highcharts-popup-lhs-full')\n            }, void 0, popupDiv);\n            var bottomRow = createElement('div', {\n                className: 'highcharts-popup-bottom-row'\n            }, void 0, popupDiv);\n            addFormFields.call(this, lhsCol, chart, '', options, [], true);\n            this.addButton(bottomRow, isInit ?\n                (lang.addButton || 'Add') :\n                (lang.saveButton || 'Save'), isInit ? 'add' : 'save', popupDiv, callback);\n        }\n        /**\n         * Create annotation simple form. It contains two buttons\n         * (edit / remove) and text label.\n         * @private\n         * @param {Highcharts.Chart} - chart\n         * @param {Highcharts.AnnotationsOptions} - options\n         * @param {Function} - on click callback\n         */\n        function addToolbar(chart, options, callback) {\n            var _this = this;\n            var lang = this.lang, popupDiv = this.container, showForm = this.showForm, toolbarClass = 'highcharts-annotation-toolbar';\n            // Set small size\n            if (popupDiv.className.indexOf(toolbarClass) === -1) {\n                popupDiv.className += ' ' + toolbarClass + ' highcharts-no-mousewheel';\n            }\n            // Set position\n            if (chart) {\n                popupDiv.style.top = chart.plotTop + 10 + 'px';\n            }\n            // Create label\n            var label = createElement('p', {\n                className: 'highcharts-annotation-label'\n            }, void 0, popupDiv);\n            label.setAttribute('aria-label', 'Annotation type');\n            label.appendChild(doc.createTextNode(pick(\n            // Advanced annotations:\n            lang[options.langKey] || options.langKey, \n            // Basic shapes:\n            options.shapes && options.shapes[0].type, '')));\n            // Add buttons\n            var button = this.addButton(popupDiv, lang.editButton || 'Edit', 'edit', popupDiv, function () {\n                showForm.call(_this, 'annotation-edit', chart, options, callback);\n            });\n            button.className += ' highcharts-annotation-edit-button';\n            button.style['background-image'] = 'url(' +\n                this.iconsURL + 'edit.svg)';\n            button = this.addButton(popupDiv, lang.removeButton || 'Remove', 'remove', popupDiv, callback);\n            button.className += ' highcharts-annotation-remove-button';\n            button.style['background-image'] = 'url(' +\n                this.iconsURL + 'destroy.svg)';\n        }\n        /**\n         * Create annotation's form fields.\n         * @private\n         * @param {Highcharts.HTMLDOMElement} parentDiv\n         * Div where inputs are placed\n         * @param {Highcharts.Chart} chart\n         * Chart\n         * @param {string} parentNode\n         * Name of parent to create chain of names\n         * @param {Highcharts.AnnotationsOptions} options\n         * Options\n         * @param {Array<unknown>} storage\n         * Array where all items are stored\n         * @param {boolean} [isRoot]\n         * Recursive flag for root\n         */\n        function addFormFields(parentDiv, chart, parentNode, options, storage, isRoot) {\n            var _this = this;\n            if (!chart) {\n                return;\n            }\n            var addInput = this.addInput, lang = this.lang;\n            var parentFullName, titleName;\n            objectEach(options, function (value, option) {\n                // Create name like params.styles.fontSize\n                parentFullName = parentNode !== '' ? parentNode + '.' + option : option;\n                if (isObject(value)) {\n                    if (\n                    // Value is object of options\n                    !isArray(value) ||\n                        // Array of objects with params. i.e labels in Fibonacci\n                        (isArray(value) && isObject(value[0]))) {\n                        titleName = lang[option] || option;\n                        if (!titleName.match(/\\d/g)) {\n                            storage.push([\n                                true,\n                                titleName,\n                                parentDiv\n                            ]);\n                        }\n                        addFormFields.call(_this, parentDiv, chart, parentFullName, value, storage, false);\n                    }\n                    else {\n                        storage.push([\n                            _this,\n                            parentFullName,\n                            'annotation',\n                            parentDiv,\n                            value\n                        ]);\n                    }\n                }\n            });\n            if (isRoot) {\n                stableSort(storage, function (a) { return (a[1].match(/format/g) ? -1 : 1); });\n                if (isFirefox) {\n                    storage.reverse(); // (#14691)\n                }\n                storage.forEach(function (genInput) {\n                    if (genInput[0] === true) {\n                        createElement('span', {\n                            className: 'highcharts-annotation-title'\n                        }, void 0, genInput[2]).appendChild(doc.createTextNode(genInput[1]));\n                    }\n                    else {\n                        genInput[4] = {\n                            value: genInput[4][0],\n                            type: genInput[4][1]\n                        };\n                        addInput.apply(genInput[0], genInput.splice(1));\n                    }\n                });\n            }\n        }\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n        var PopupAnnotations = {\n            addForm: addForm,\n            addToolbar: addToolbar\n        };\n\n        return PopupAnnotations;\n    });\n    _registerModule(_modules, 'Extensions/Annotations/Popup/PopupIndicators.js', [_modules['Core/Renderer/HTML/AST.js'], _modules['Core/Globals.js'], _modules['Core/Series/SeriesRegistry.js'], _modules['Core/Utilities.js']], function (AST, H, SeriesRegistry, U) {\n        /* *\n         *\n         *  Popup generator for Stock tools\n         *\n         *  (c) 2009-2024 Sebastian Bochan\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var doc = H.doc;\n        var seriesTypes = SeriesRegistry.seriesTypes;\n        var addEvent = U.addEvent, createElement = U.createElement, defined = U.defined, isArray = U.isArray, isObject = U.isObject, objectEach = U.objectEach, stableSort = U.stableSort;\n        /* *\n         *\n         *  Enums\n         *\n         * */\n        /**\n         * Enum for properties which should have dropdown list.\n         * @private\n         */\n        var DropdownProperties;\n        (function (DropdownProperties) {\n            DropdownProperties[DropdownProperties[\"params.algorithm\"] = 0] = \"params.algorithm\";\n            DropdownProperties[DropdownProperties[\"params.average\"] = 1] = \"params.average\";\n        })(DropdownProperties || (DropdownProperties = {}));\n        /**\n         * List of available algorithms for the specific indicator.\n         * @private\n         */\n        var dropdownParameters = {\n            'algorithm-pivotpoints': ['standard', 'fibonacci', 'camarilla'],\n            'average-disparityindex': ['sma', 'ema', 'dema', 'tema', 'wma']\n        };\n        /* *\n         *\n         *  Functions\n         *\n         * */\n        /**\n         * Create two columns (divs) in HTML.\n         * @private\n         * @param {Highcharts.HTMLDOMElement} container\n         * Container of columns\n         * @return {Highcharts.Dictionary<Highcharts.HTMLDOMElement>}\n         * Reference to two HTML columns (lhsCol, rhsCol)\n         */\n        function addColsContainer(container) {\n            // Left column\n            var lhsCol = createElement('div', {\n                className: 'highcharts-popup-lhs-col'\n            }, void 0, container);\n            // Right column\n            var rhsCol = createElement('div', {\n                className: 'highcharts-popup-rhs-col'\n            }, void 0, container);\n            // Wrapper content\n            createElement('div', {\n                className: 'highcharts-popup-rhs-col-wrapper'\n            }, void 0, rhsCol);\n            return {\n                lhsCol: lhsCol,\n                rhsCol: rhsCol\n            };\n        }\n        /**\n         * Create indicator's form. It contains two tabs (ADD and EDIT) with\n         * content.\n         * @private\n         */\n        function addForm(chart, _options, callback) {\n            var lang = this.lang;\n            var buttonParentDiv;\n            if (!chart) {\n                return;\n            }\n            // Add tabs\n            this.tabs.init.call(this, chart);\n            // Get all tabs content divs\n            var tabsContainers = this.container\n                .querySelectorAll('.highcharts-tab-item-content');\n            // ADD tab\n            addColsContainer(tabsContainers[0]);\n            addSearchBox.call(this, chart, tabsContainers[0]);\n            addIndicatorList.call(this, chart, tabsContainers[0], 'add');\n            buttonParentDiv = tabsContainers[0]\n                .querySelectorAll('.highcharts-popup-rhs-col')[0];\n            this.addButton(buttonParentDiv, lang.addButton || 'add', 'add', buttonParentDiv, callback);\n            // EDIT tab\n            addColsContainer(tabsContainers[1]);\n            addIndicatorList.call(this, chart, tabsContainers[1], 'edit');\n            buttonParentDiv = tabsContainers[1]\n                .querySelectorAll('.highcharts-popup-rhs-col')[0];\n            this.addButton(buttonParentDiv, lang.saveButton || 'save', 'edit', buttonParentDiv, callback);\n            this.addButton(buttonParentDiv, lang.removeButton || 'remove', 'remove', buttonParentDiv, callback);\n        }\n        /**\n         * Create typical inputs for chosen indicator. Fields are extracted from\n         * defaultOptions (ADD mode) or current indicator (ADD mode). Two extra\n         * fields are added:\n         * - hidden input - contains indicator type (required for callback)\n         * - select - list of series which can be linked with indicator\n         * @private\n         * @param {Highcharts.Chart} chart\n         * Chart\n         * @param {Highcharts.Series} series\n         * Indicator\n         * @param {string} seriesType\n         * Indicator type like: sma, ema, etc.\n         * @param {Highcharts.HTMLDOMElement} rhsColWrapper\n         * Element where created HTML list is added\n         */\n        function addFormFields(chart, series, seriesType, rhsColWrapper) {\n            var fields = series.params || series.options.params;\n            // Reset current content\n            rhsColWrapper.innerHTML = AST.emptyHTML;\n            // Create title (indicator name in the right column)\n            createElement('h3', {\n                className: 'highcharts-indicator-title'\n            }, void 0, rhsColWrapper).appendChild(doc.createTextNode(getNameType(series, seriesType).indicatorFullName));\n            // Input type\n            createElement('input', {\n                type: 'hidden',\n                name: 'highcharts-type-' + seriesType,\n                value: seriesType\n            }, void 0, rhsColWrapper);\n            // List all series with id\n            listAllSeries.call(this, seriesType, 'series', chart, rhsColWrapper, series, series.linkedParent && series.linkedParent.options.id);\n            if (fields.volumeSeriesID) {\n                listAllSeries.call(this, seriesType, 'volume', chart, rhsColWrapper, series, series.linkedParent && fields.volumeSeriesID);\n            }\n            // Add param fields\n            addParamInputs.call(this, chart, 'params', fields, seriesType, rhsColWrapper);\n        }\n        /**\n         * Create HTML list of all indicators (ADD mode) or added indicators\n         * (EDIT mode).\n         *\n         * @private\n         *\n         * @param {Highcharts.AnnotationChart} chart\n         *        The chart object.\n         *\n         * @param {string} [optionName]\n         *        Name of the option into which selection is being added.\n         *\n         * @param {HTMLDOMElement} [parentDiv]\n         *        HTML parent element.\n         *\n         * @param {string} listType\n         *        Type of list depending on the selected bookmark.\n         *        Might be 'add' or 'edit'.\n         *\n         * @param {string|undefined} filter\n         *        Applied filter string from the input.\n         *        For the first iteration, it's an empty string.\n         */\n        function addIndicatorList(chart, parentDiv, listType, filter) {\n            /**\n             *\n             */\n            function selectIndicator(series, indicatorType) {\n                var button = rhsColWrapper.parentNode\n                    .children[1];\n                addFormFields.call(popup, chart, series, indicatorType, rhsColWrapper);\n                if (button) {\n                    button.style.display = 'block';\n                }\n                // Add hidden input with series.id\n                if (isEdit && series.options) {\n                    createElement('input', {\n                        type: 'hidden',\n                        name: 'highcharts-id-' + indicatorType,\n                        value: series.options.id\n                    }, void 0, rhsColWrapper).setAttribute('highcharts-data-series-id', series.options.id);\n                }\n            }\n            var popup = this, lang = popup.lang, lhsCol = parentDiv.querySelectorAll('.highcharts-popup-lhs-col')[0], rhsCol = parentDiv.querySelectorAll('.highcharts-popup-rhs-col')[0], isEdit = listType === 'edit', series = (isEdit ?\n                chart.series : // EDIT mode\n                chart.options.plotOptions || {} // ADD mode\n            );\n            if (!chart && series) {\n                return;\n            }\n            var item, filteredSeriesArray = [];\n            // Filter and sort the series.\n            if (!isEdit && !isArray(series)) {\n                // Apply filters only for the 'add' indicator list.\n                filteredSeriesArray = filterSeries.call(this, series, filter);\n            }\n            else if (isArray(series)) {\n                filteredSeriesArray = filterSeriesArray.call(this, series);\n            }\n            // Sort indicators alphabetically.\n            stableSort(filteredSeriesArray, function (a, b) {\n                var seriesAName = a.indicatorFullName.toLowerCase(), seriesBName = b.indicatorFullName.toLowerCase();\n                return (seriesAName < seriesBName) ?\n                    -1 : (seriesAName > seriesBName) ? 1 : 0;\n            });\n            // If the list exists remove it from the DOM\n            // in order to create a new one with different filters.\n            if (lhsCol.children[1]) {\n                lhsCol.children[1].remove();\n            }\n            // Create wrapper for list.\n            var indicatorList = createElement('ul', {\n                className: 'highcharts-indicator-list'\n            }, void 0, lhsCol);\n            var rhsColWrapper = rhsCol.querySelectorAll('.highcharts-popup-rhs-col-wrapper')[0];\n            filteredSeriesArray.forEach(function (seriesSet) {\n                var indicatorFullName = seriesSet.indicatorFullName, indicatorType = seriesSet.indicatorType, series = seriesSet.series;\n                item = createElement('li', {\n                    className: 'highcharts-indicator-list'\n                }, void 0, indicatorList);\n                var btn = createElement('button', {\n                    className: 'highcharts-indicator-list-item',\n                    textContent: indicatorFullName\n                }, void 0, item);\n                ['click', 'touchstart'].forEach(function (eventName) {\n                    addEvent(btn, eventName, function () {\n                        selectIndicator(series, indicatorType);\n                    });\n                });\n            });\n            // Select first item from the list\n            if (filteredSeriesArray.length > 0) {\n                var _a = filteredSeriesArray[0], series_1 = _a.series, indicatorType = _a.indicatorType;\n                selectIndicator(series_1, indicatorType);\n            }\n            else if (!isEdit) {\n                AST.setElementHTML(rhsColWrapper.parentNode.children[0], lang.noFilterMatch || '');\n                rhsColWrapper.parentNode.children[1]\n                    .style.display = 'none';\n            }\n        }\n        /**\n         * Recurrent function which lists all fields, from params object and\n         * create them as inputs. Each input has unique `data-name` attribute,\n         * which keeps chain of fields i.e params.styles.fontSize.\n         * @private\n         * @param {Highcharts.Chart} chart\n         * Chart\n         * @param {string} parentNode\n         * Name of parent to create chain of names\n         * @param {Highcharts.PopupFieldsDictionary<string>} fields\n         * Params which are based for input create\n         * @param {string} type\n         * Indicator type like: sma, ema, etc.\n         * @param {Highcharts.HTMLDOMElement} parentDiv\n         * Element where created HTML list is added\n         */\n        function addParamInputs(chart, parentNode, fields, type, parentDiv) {\n            var _this = this;\n            if (!chart) {\n                return;\n            }\n            var addInput = this.addInput;\n            objectEach(fields, function (value, fieldName) {\n                // Create name like params.styles.fontSize\n                var parentFullName = parentNode + '.' + fieldName;\n                if (defined(value) && // Skip if field is unnecessary, #15362\n                    parentFullName) {\n                    if (isObject(value)) {\n                        // (15733) 'Periods' has an arrayed value. Label must be\n                        // created here.\n                        addInput.call(_this, parentFullName, type, parentDiv, {});\n                        addParamInputs.call(_this, chart, parentFullName, value, type, parentDiv);\n                    }\n                    // If the option is listed in dropdown enum,\n                    // add the selection box for it.\n                    if (parentFullName in DropdownProperties) {\n                        // Add selection boxes.\n                        var selectBox = addSelection.call(_this, type, parentFullName, parentDiv);\n                        // Add possible dropdown options.\n                        addSelectionOptions.call(_this, chart, parentNode, selectBox, type, fieldName, value);\n                    }\n                    else if (\n                    // Skip volume field which is created by addFormFields.\n                    parentFullName !== 'params.volumeSeriesID' &&\n                        !isArray(value) // Skip params declared in array.\n                    ) {\n                        addInput.call(_this, parentFullName, type, parentDiv, {\n                            value: value,\n                            type: 'number'\n                        } // All inputs are text type\n                        );\n                    }\n                }\n            });\n        }\n        /**\n         * Add searchbox HTML element and its' label.\n         *\n         * @private\n         *\n         * @param {Highcharts.AnnotationChart} chart\n         *        The chart object.\n         *\n         * @param {HTMLDOMElement} parentDiv\n         *        HTML parent element.\n         */\n        function addSearchBox(chart, parentDiv) {\n            var popup = this, lhsCol = parentDiv.querySelectorAll('.highcharts-popup-lhs-col')[0], options = 'searchIndicators', inputAttributes = {\n                value: '',\n                type: 'text',\n                htmlFor: 'search-indicators',\n                labelClassName: 'highcharts-input-search-indicators-label'\n            }, clearFilterText = this.lang.clearFilter, inputWrapper = createElement('div', {\n                className: 'highcharts-input-wrapper'\n            }, void 0, lhsCol);\n            var handleInputChange = function (inputText) {\n                // Apply some filters.\n                addIndicatorList.call(popup, chart, popup.container, 'add', inputText);\n            };\n            // Add input field with the label and button.\n            var input = this.addInput(options, 'input', inputWrapper, inputAttributes), button = createElement('a', {\n                textContent: clearFilterText\n            }, void 0, inputWrapper);\n            input.classList.add('highcharts-input-search-indicators');\n            button.classList.add('clear-filter-button');\n            // Add input change events.\n            addEvent(input, 'input', function () {\n                handleInputChange(this.value);\n                // Show clear filter button.\n                if (this.value.length) {\n                    button.style.display = 'inline-block';\n                }\n                else {\n                    button.style.display = 'none';\n                }\n            });\n            // Add clear filter click event.\n            ['click', 'touchstart'].forEach(function (eventName) {\n                addEvent(button, eventName, function () {\n                    // Clear the input.\n                    input.value = '';\n                    handleInputChange('');\n                    // Hide clear filter button- no longer necessary.\n                    button.style.display = 'none';\n                });\n            });\n        }\n        /**\n         * Add selection HTML element and its' label.\n         *\n         * @private\n         *\n         * @param {string} indicatorType\n         * Type of the indicator i.e. sma, ema...\n         *\n         * @param {string} [optionName]\n         * Name of the option into which selection is being added.\n         *\n         * @param {HTMLDOMElement} [parentDiv]\n         * HTML parent element.\n         */\n        function addSelection(indicatorType, optionName, parentDiv) {\n            var optionParamList = optionName.split('.'), labelText = optionParamList[optionParamList.length - 1], selectName = 'highcharts-' + optionName + '-type-' + indicatorType, lang = this.lang;\n            // Add a label for the selection box.\n            createElement('label', {\n                htmlFor: selectName\n            }, null, parentDiv).appendChild(doc.createTextNode(lang[labelText] || optionName));\n            // Create a selection box.\n            var selectBox = createElement('select', {\n                name: selectName,\n                className: 'highcharts-popup-field',\n                id: 'highcharts-select-' + optionName\n            }, null, parentDiv);\n            selectBox.setAttribute('id', 'highcharts-select-' + optionName);\n            return selectBox;\n        }\n        /**\n         * Get and add selection options.\n         *\n         * @private\n         *\n         * @param {Highcharts.AnnotationChart} chart\n         *        The chart object.\n         *\n         * @param {string} [optionName]\n         *        Name of the option into which selection is being added.\n         *\n         * @param {HTMLSelectElement} [selectBox]\n         *        HTML select box element to which the options are being added.\n         *\n         * @param {string|undefined} indicatorType\n         *        Type of the indicator i.e. sma, ema...\n         *\n         * @param {string|undefined} parameterName\n         *        Name of the parameter which should be applied.\n         *\n         * @param {string|undefined} selectedOption\n         *        Default value in dropdown.\n         */\n        function addSelectionOptions(chart, optionName, selectBox, indicatorType, parameterName, selectedOption, currentSeries) {\n            // Get and apply selection options for the possible series.\n            if (optionName === 'series' || optionName === 'volume') {\n                // List all series which have id - mandatory for indicator.\n                chart.series.forEach(function (series) {\n                    var seriesOptions = series.options, seriesName = seriesOptions.name ||\n                        seriesOptions.params ?\n                        series.name :\n                        seriesOptions.id || '';\n                    if (seriesOptions.id !== 'highcharts-navigator-series' &&\n                        seriesOptions.id !== (currentSeries &&\n                            currentSeries.options &&\n                            currentSeries.options.id)) {\n                        if (!defined(selectedOption) &&\n                            optionName === 'volume' &&\n                            series.type === 'column') {\n                            selectedOption = seriesOptions.id;\n                        }\n                        createElement('option', {\n                            value: seriesOptions.id\n                        }, void 0, selectBox).appendChild(doc.createTextNode(seriesName));\n                    }\n                });\n            }\n            else if (indicatorType && parameterName) {\n                // Get and apply options for the possible parameters.\n                var dropdownKey = parameterName + '-' + indicatorType, parameterOption = dropdownParameters[dropdownKey];\n                parameterOption.forEach(function (element) {\n                    createElement('option', {\n                        value: element\n                    }, void 0, selectBox).appendChild(doc.createTextNode(element));\n                });\n            }\n            // Add the default dropdown value if defined.\n            if (defined(selectedOption)) {\n                selectBox.value = selectedOption;\n            }\n        }\n        /**\n         * Filter object of series which are not indicators.\n         * If the filter string exists, check against it.\n         *\n         * @private\n         *\n         * @param {Highcharts.FilteredSeries} series\n         *        All series are available in the plotOptions.\n         *\n         * @param {string|undefined} filter\n         *        Applied filter string from the input.\n         *        For the first iteration, it's an empty string.\n         *\n         * @return {Array<Highcharts.FilteredSeries>} filteredSeriesArray\n         *         Returns array of filtered series based on filter string.\n         */\n        function filterSeries(series, filter) {\n            var popup = this, lang = popup.chart && popup.chart.options.lang, indicatorAliases = lang &&\n                lang.navigation &&\n                lang.navigation.popup &&\n                lang.navigation.popup.indicatorAliases, filteredSeriesArray = [];\n            var filteredSeries;\n            objectEach(series, function (series, value) {\n                var seriesOptions = series && series.options;\n                // Allow only indicators.\n                if (series.params || seriesOptions &&\n                    seriesOptions.params) {\n                    var _a = getNameType(series, value), indicatorFullName = _a.indicatorFullName, indicatorType = _a.indicatorType;\n                    if (filter) {\n                        // Replace invalid characters.\n                        var validFilter = filter.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n                        var regex = new RegExp(validFilter, 'i'), alias = indicatorAliases &&\n                            indicatorAliases[indicatorType] &&\n                            indicatorAliases[indicatorType].join(' ') || '';\n                        if (indicatorFullName.match(regex) ||\n                            alias.match(regex)) {\n                            filteredSeries = {\n                                indicatorFullName: indicatorFullName,\n                                indicatorType: indicatorType,\n                                series: series\n                            };\n                            filteredSeriesArray.push(filteredSeries);\n                        }\n                    }\n                    else {\n                        filteredSeries = {\n                            indicatorFullName: indicatorFullName,\n                            indicatorType: indicatorType,\n                            series: series\n                        };\n                        filteredSeriesArray.push(filteredSeries);\n                    }\n                }\n            });\n            return filteredSeriesArray;\n        }\n        /**\n         * Filter an array of series and map its names and types.\n         *\n         * @private\n         *\n         * @param {Highcharts.FilteredSeries} series\n         *        All series that are available in the plotOptions.\n         *\n         * @return {Array<Highcharts.FilteredSeries>} filteredSeriesArray\n         *         Returns array of filtered series based on filter string.\n         */\n        function filterSeriesArray(series) {\n            var filteredSeriesArray = [];\n            // Allow only indicators.\n            series.forEach(function (series) {\n                if (series.is('sma')) {\n                    filteredSeriesArray.push({\n                        indicatorFullName: series.name,\n                        indicatorType: series.type,\n                        series: series\n                    });\n                }\n            });\n            return filteredSeriesArray;\n        }\n        /**\n         * Get amount of indicators added to chart.\n         * @private\n         * @return {number} - Amount of indicators\n         */\n        function getAmount() {\n            var counter = 0;\n            this.series.forEach(function (serie) {\n                if (serie.params ||\n                    serie.options.params) {\n                    counter++;\n                }\n            });\n            return counter;\n        }\n        /**\n         * Extract full name and type of requested indicator.\n         *\n         * @private\n         *\n         * @param {Highcharts.Series} series\n         * Series which name is needed(EDITmode - defaultOptions.series,\n         * ADDmode - indicator series).\n         *\n         * @param {string} [indicatorType]\n         * Type of the indicator i.e. sma, ema...\n         *\n         * @return {Highcharts.Dictionary<string>}\n         * Full name and series type.\n         */\n        function getNameType(series, indicatorType) {\n            var options = series.options;\n            // Add mode\n            var seriesName = (seriesTypes[indicatorType] &&\n                seriesTypes[indicatorType].prototype.nameBase) ||\n                indicatorType.toUpperCase(), seriesType = indicatorType;\n            // Edit\n            if (options && options.type) {\n                seriesType = series.options.type;\n                seriesName = series.name;\n            }\n            return {\n                indicatorFullName: seriesName,\n                indicatorType: seriesType\n            };\n        }\n        /**\n         * Create the selection box for the series,\n         * add options and apply the default one.\n         *\n         * @private\n         *\n         * @param {string} indicatorType\n         *        Type of the indicator i.e. sma, ema...\n         *\n         * @param {string} [optionName]\n         *        Name of the option into which selection is being added.\n         *\n         * @param {Highcharts.AnnotationChart} chart\n         *        The chart object.\n         *\n         * @param {HTMLDOMElement} [parentDiv]\n         *        HTML parent element.\n         *\n         * @param {string|undefined} selectedOption\n         *        Default value in dropdown.\n         */\n        function listAllSeries(indicatorType, optionName, chart, parentDiv, currentSeries, selectedOption) {\n            var popup = this;\n            // Won't work without the chart.\n            if (!chart) {\n                return;\n            }\n            // Add selection boxes.\n            var selectBox = addSelection.call(popup, indicatorType, optionName, parentDiv);\n            // Add possible dropdown options.\n            addSelectionOptions.call(popup, chart, optionName, selectBox, void 0, void 0, void 0, currentSeries);\n            // Add the default dropdown value if defined.\n            if (defined(selectedOption)) {\n                selectBox.value = selectedOption;\n            }\n        }\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n        var PopupIndicators = {\n            addForm: addForm,\n            getAmount: getAmount\n        };\n\n        return PopupIndicators;\n    });\n    _registerModule(_modules, 'Extensions/Annotations/Popup/PopupTabs.js', [_modules['Core/Globals.js'], _modules['Core/Utilities.js']], function (H, U) {\n        /* *\n         *\n         *  Popup generator for Stock tools\n         *\n         *  (c) 2009-2024 Sebastian Bochan\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var doc = H.doc;\n        var addEvent = U.addEvent, createElement = U.createElement;\n        /* *\n         *\n         *  Functions\n         *\n         * */\n        /**\n         * Create tab content\n         * @private\n         * @return {HTMLDOMElement} - created HTML tab-content element\n         */\n        function addContentItem() {\n            var popupDiv = this.container;\n            return createElement('div', {\n                // #12100\n                className: 'highcharts-tab-item-content highcharts-no-mousewheel'\n            }, void 0, popupDiv);\n        }\n        /**\n         * Create tab menu item\n         * @private\n         * @param {string} tabName\n         * `add` or `edit`\n         * @param {number} [disableTab]\n         * Disable tab when 0\n         * @return {Highcharts.HTMLDOMElement}\n         * Created HTML tab-menu element\n         */\n        function addMenuItem(tabName, disableTab) {\n            var popupDiv = this.container, lang = this.lang;\n            var className = 'highcharts-tab-item';\n            if (disableTab === 0) {\n                className += ' highcharts-tab-disabled';\n            }\n            // Tab 1\n            var menuItem = createElement('button', {\n                className: className\n            }, void 0, popupDiv);\n            menuItem.appendChild(doc.createTextNode(lang[tabName + 'Button'] || tabName));\n            menuItem.setAttribute('highcharts-data-tab-type', tabName);\n            return menuItem;\n        }\n        /**\n         * Set all tabs as invisible.\n         * @private\n         */\n        function deselectAll() {\n            var popupDiv = this.container, tabs = popupDiv\n                .querySelectorAll('.highcharts-tab-item'), tabsContent = popupDiv\n                .querySelectorAll('.highcharts-tab-item-content');\n            for (var i = 0; i < tabs.length; i++) {\n                tabs[i].classList.remove('highcharts-tab-item-active');\n                tabsContent[i].classList.remove('highcharts-tab-item-show');\n            }\n        }\n        /**\n         * Init tabs. Create tab menu items, tabs containers\n         * @private\n         * @param {Highcharts.Chart} chart\n         * Reference to current chart\n         */\n        function init(chart) {\n            if (!chart) {\n                return;\n            }\n            var indicatorsCount = this.indicators.getAmount.call(chart);\n            // Create menu items\n            var firstTab = addMenuItem.call(this, 'add'); // Run by default\n            addMenuItem.call(this, 'edit', indicatorsCount);\n            // Create tabs containers\n            addContentItem.call(this);\n            addContentItem.call(this);\n            switchTabs.call(this, indicatorsCount);\n            // Activate first tab\n            selectTab.call(this, firstTab, 0);\n        }\n        /**\n         * Set tab as visible\n         * @private\n         * @param {globals.Element} - current tab\n         * @param {number} - Index of tab in menu\n         */\n        function selectTab(tab, index) {\n            var allTabs = this.container\n                .querySelectorAll('.highcharts-tab-item-content');\n            tab.className += ' highcharts-tab-item-active';\n            allTabs[index].className += ' highcharts-tab-item-show';\n        }\n        /**\n         * Add click event to each tab\n         * @private\n         * @param {number} disableTab\n         * Disable tab when 0\n         */\n        function switchTabs(disableTab) {\n            var popup = this, popupDiv = this.container, tabs = popupDiv.querySelectorAll('.highcharts-tab-item');\n            tabs.forEach(function (tab, i) {\n                if (disableTab === 0 &&\n                    tab.getAttribute('highcharts-data-tab-type') === 'edit') {\n                    return;\n                }\n                ['click', 'touchstart'].forEach(function (eventName) {\n                    addEvent(tab, eventName, function () {\n                        // Reset class on other elements\n                        deselectAll.call(popup);\n                        selectTab.call(popup, this, i);\n                    });\n                });\n            });\n        }\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n        var PopupTabs = {\n            init: init\n        };\n\n        return PopupTabs;\n    });\n    _registerModule(_modules, 'Extensions/Annotations/Popup/Popup.js', [_modules['Shared/BaseForm.js'], _modules['Core/Globals.js'], _modules['Core/Defaults.js'], _modules['Extensions/Annotations/Popup/PopupAnnotations.js'], _modules['Extensions/Annotations/Popup/PopupIndicators.js'], _modules['Extensions/Annotations/Popup/PopupTabs.js'], _modules['Core/Utilities.js']], function (BaseForm, H, D, PopupAnnotations, PopupIndicators, PopupTabs, U) {\n        /* *\n         *\n         *  Popup generator for Stock tools\n         *\n         *  (c) 2009-2024 Sebastian Bochan\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        var doc = H.doc;\n        var getOptions = D.getOptions;\n        var addEvent = U.addEvent, createElement = U.createElement, extend = U.extend, fireEvent = U.fireEvent, pick = U.pick;\n        /* *\n         *\n         *  Functions\n         *\n         * */\n        /**\n         * Get values from all inputs and selections then create JSON.\n         *\n         * @private\n         *\n         * @param {Highcharts.HTMLDOMElement} parentDiv\n         * The container where inputs and selections are created.\n         *\n         * @param {string} type\n         * Type of the popup bookmark (add|edit|remove).\n         */\n        function getFields(parentDiv, type) {\n            var inputList = Array.prototype.slice.call(parentDiv.querySelectorAll('input')), selectList = Array.prototype.slice.call(parentDiv.querySelectorAll('select')), optionSeries = '#highcharts-select-series > option:checked', optionVolume = '#highcharts-select-volume > option:checked', linkedTo = parentDiv.querySelectorAll(optionSeries)[0], volumeTo = parentDiv.querySelectorAll(optionVolume)[0];\n            var fieldsOutput = {\n                actionType: type,\n                linkedTo: linkedTo && linkedTo.getAttribute('value') || '',\n                fields: {}\n            };\n            inputList.forEach(function (input) {\n                var param = input.getAttribute('highcharts-data-name'), seriesId = input.getAttribute('highcharts-data-series-id');\n                // Params\n                if (seriesId) {\n                    fieldsOutput.seriesId = input.value;\n                }\n                else if (param) {\n                    fieldsOutput.fields[param] = input.value;\n                }\n                else {\n                    // Type like sma / ema\n                    fieldsOutput.type = input.value;\n                }\n            });\n            selectList.forEach(function (select) {\n                var id = select.id;\n                // Get inputs only for the parameters, not for series and volume.\n                if (id !== 'highcharts-select-series' &&\n                    id !== 'highcharts-select-volume') {\n                    var parameter = id.split('highcharts-select-')[1];\n                    fieldsOutput.fields[parameter] = select.value;\n                }\n            });\n            if (volumeTo) {\n                fieldsOutput.fields['params.volumeSeriesID'] = volumeTo\n                    .getAttribute('value') || '';\n            }\n            return fieldsOutput;\n        }\n        /* *\n         *\n         *  Class\n         *\n         * */\n        var Popup = /** @class */ (function (_super) {\n            __extends(Popup, _super);\n            /* *\n             *\n             *  Constructor\n             *\n             * */\n            function Popup(parentDiv, iconsURL, chart) {\n                var _this = _super.call(this, parentDiv, iconsURL) || this;\n                _this.chart = chart;\n                _this.lang = (getOptions().lang.navigation || {}).popup || {};\n                addEvent(_this.container, 'mousedown', function () {\n                    var activeAnnotation = chart &&\n                        chart.navigationBindings &&\n                        chart.navigationBindings.activeAnnotation;\n                    if (activeAnnotation) {\n                        activeAnnotation.cancelClick = true;\n                        var unbind_1 = addEvent(doc, 'click', function () {\n                            setTimeout(function () {\n                                activeAnnotation.cancelClick = false;\n                            }, 0);\n                            unbind_1();\n                        });\n                    }\n                });\n                return _this;\n            }\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            /**\n             * Create input with label.\n             *\n             * @private\n             *\n             * @param {string} option\n             *        Chain of fields i.e params.styles.fontSize separated by the dot.\n             *\n             * @param {string} indicatorType\n             *        Type of the indicator i.e. sma, ema...\n             *\n             * @param {HTMLDOMElement} parentDiv\n             *        HTML parent element.\n             *\n             * @param {Highcharts.InputAttributes} inputAttributes\n             *        Attributes of the input.\n             *\n             * @return {HTMLInputElement}\n             *         Return created input element.\n             */\n            Popup.prototype.addInput = function (option, indicatorType, parentDiv, inputAttributes) {\n                var optionParamList = option.split('.'), optionName = optionParamList[optionParamList.length - 1], lang = this.lang, inputName = 'highcharts-' + indicatorType + '-' + pick(inputAttributes.htmlFor, optionName);\n                if (!optionName.match(/^\\d+$/)) {\n                    // Add label\n                    createElement('label', {\n                        htmlFor: inputName,\n                        className: inputAttributes.labelClassName\n                    }, void 0, parentDiv).appendChild(doc.createTextNode(lang[optionName] || optionName));\n                }\n                // Add input\n                var input = createElement('input', {\n                    name: inputName,\n                    value: inputAttributes.value,\n                    type: inputAttributes.type,\n                    className: 'highcharts-popup-field'\n                }, void 0, parentDiv);\n                input.setAttribute('highcharts-data-name', option);\n                return input;\n            };\n            Popup.prototype.closeButtonEvents = function () {\n                if (this.chart) {\n                    var navigationBindings = this.chart.navigationBindings;\n                    fireEvent(navigationBindings, 'closePopup');\n                    if (navigationBindings &&\n                        navigationBindings.selectedButtonElement) {\n                        fireEvent(navigationBindings, 'deselectButton', { button: navigationBindings.selectedButtonElement });\n                    }\n                }\n                else {\n                    _super.prototype.closeButtonEvents.call(this);\n                }\n            };\n            /**\n             * Create button.\n             * @private\n             * @param {Highcharts.HTMLDOMElement} parentDiv\n             * Container where elements should be added\n             * @param {string} label\n             * Text placed as button label\n             * @param {string} type\n             * add | edit | remove\n             * @param {Function} callback\n             * On click callback\n             * @param {Highcharts.HTMLDOMElement} fieldsDiv\n             * Container where inputs are generated\n             * @return {Highcharts.HTMLDOMElement}\n             * HTML button\n             */\n            Popup.prototype.addButton = function (parentDiv, label, type, fieldsDiv, callback) {\n                var _this = this;\n                var button = createElement('button', void 0, void 0, parentDiv);\n                button.appendChild(doc.createTextNode(label));\n                if (callback) {\n                    ['click', 'touchstart'].forEach(function (eventName) {\n                        addEvent(button, eventName, function () {\n                            _this.closePopup();\n                            return callback(getFields(fieldsDiv, type));\n                        });\n                    });\n                }\n                return button;\n            };\n            /**\n             * Create content and show popup.\n             * @private\n             * @param {string} - type of popup i.e indicators\n             * @param {Highcharts.Chart} - chart\n             * @param {Highcharts.AnnotationsOptions} - options\n             * @param {Function} - on click callback\n             */\n            Popup.prototype.showForm = function (type, chart, options, callback) {\n                if (!chart) {\n                    return;\n                }\n                // Show blank popup\n                this.showPopup();\n                // Indicator form\n                if (type === 'indicators') {\n                    this.indicators.addForm.call(this, chart, options, callback);\n                }\n                // Annotation small toolbar\n                if (type === 'annotation-toolbar') {\n                    this.annotations.addToolbar.call(this, chart, options, callback);\n                }\n                // Annotation edit form\n                if (type === 'annotation-edit') {\n                    this.annotations.addForm.call(this, chart, options, callback);\n                }\n                // Flags form - add / edit\n                if (type === 'flag') {\n                    this.annotations.addForm.call(this, chart, options, callback, true);\n                }\n                this.type = type;\n                // Explicit height is needed to make inner elements scrollable\n                this.container.style.height = this.container.offsetHeight + 'px';\n            };\n            return Popup;\n        }(BaseForm));\n        extend(Popup.prototype, {\n            annotations: PopupAnnotations,\n            indicators: PopupIndicators,\n            tabs: PopupTabs\n        });\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return Popup;\n    });\n    _registerModule(_modules, 'Extensions/Annotations/Popup/PopupComposition.js', [_modules['Core/Globals.js'], _modules['Extensions/Annotations/Popup/Popup.js'], _modules['Core/Utilities.js']], function (H, Popup, U) {\n        /* *\n         *\n         *  Popup generator for Stock tools\n         *\n         *  (c) 2009-2024 Sebastian Bochan\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var composed = H.composed;\n        var addEvent = U.addEvent, pushUnique = U.pushUnique, wrap = U.wrap;\n        /* *\n         *\n         *  Functions\n         *\n         * */\n        /**\n         * @private\n         */\n        function compose(NagivationBindingsClass, PointerClass) {\n            if (pushUnique(composed, 'Popup')) {\n                addEvent(NagivationBindingsClass, 'closePopup', onNavigationBindingsClosePopup);\n                addEvent(NagivationBindingsClass, 'showPopup', onNavigationBindingsShowPopup);\n                wrap(PointerClass.prototype, 'onContainerMouseDown', wrapPointerOnContainerMouserDown);\n            }\n        }\n        /**\n         * @private\n         */\n        function onNavigationBindingsClosePopup() {\n            if (this.popup) {\n                this.popup.closePopup();\n            }\n        }\n        /**\n         * @private\n         */\n        function onNavigationBindingsShowPopup(config) {\n            if (!this.popup) {\n                // Add popup to main container\n                this.popup = new Popup(this.chart.container, (this.chart.options.navigation.iconsURL ||\n                    (this.chart.options.stockTools &&\n                        this.chart.options.stockTools.gui.iconsURL) ||\n                    'https://code.highcharts.com/11.4.8/gfx/stock-icons/'), this.chart);\n            }\n            this.popup.showForm(config.formType, this.chart, config.options, config.onSubmit);\n        }\n        /**\n         * `onContainerMouseDown` blocks internal popup events, due to e.preventDefault.\n         * Related issue #4606\n         * @private\n         */\n        function wrapPointerOnContainerMouserDown(proceed, e) {\n            // Elements is not in popup\n            if (!this.inClass(e.target, 'highcharts-popup')) {\n                proceed.apply(this, Array.prototype.slice.call(arguments, 1));\n            }\n        }\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n        var PopupComposition = {\n            compose: compose\n        };\n\n        return PopupComposition;\n    });\n    _registerModule(_modules, 'Extensions/Annotations/Annotation.js', [_modules['Core/Animation/AnimationUtilities.js'], _modules['Extensions/Annotations/AnnotationChart.js'], _modules['Extensions/Annotations/AnnotationDefaults.js'], _modules['Extensions/Annotations/Controllables/ControllableRect.js'], _modules['Extensions/Annotations/Controllables/ControllableCircle.js'], _modules['Extensions/Annotations/Controllables/ControllableEllipse.js'], _modules['Extensions/Annotations/Controllables/ControllablePath.js'], _modules['Extensions/Annotations/Controllables/ControllableImage.js'], _modules['Extensions/Annotations/Controllables/ControllableLabel.js'], _modules['Extensions/Annotations/ControlPoint.js'], _modules['Extensions/Annotations/ControlTarget.js'], _modules['Extensions/Annotations/EventEmitter.js'], _modules['Extensions/Annotations/MockPoint.js'], _modules['Extensions/Annotations/Popup/PopupComposition.js'], _modules['Core/Utilities.js']], function (A, AnnotationChart, AnnotationDefaults, ControllableRect, ControllableCircle, ControllableEllipse, ControllablePath, ControllableImage, ControllableLabel, ControlPoint, ControlTarget, EventEmitter, MockPoint, PopupComposition, U) {\n        /* *\n         *\n         *  (c) 2009-2024 Highsoft, Black Label\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        var getDeferredAnimation = A.getDeferredAnimation;\n        var destroyObjectProperties = U.destroyObjectProperties, erase = U.erase, fireEvent = U.fireEvent, merge = U.merge, pick = U.pick, splat = U.splat;\n        /* *\n         *\n         *  Functions\n         *\n         * */\n        /**\n         * Hide or show annotation attached to points.\n         * @private\n         */\n        function adjustVisibility(item) {\n            var label = item.graphic, hasVisiblePoints = item.points.some(function (point) { return (point.series.visible !== false &&\n                point.visible !== false); });\n            if (label) {\n                if (!hasVisiblePoints) {\n                    label.hide();\n                }\n                else if (label.visibility === 'hidden') {\n                    label.show();\n                }\n            }\n        }\n        /**\n         * @private\n         */\n        function getLabelsAndShapesOptions(baseOptions, newOptions) {\n            var mergedOptions = {};\n            ['labels', 'shapes'].forEach(function (name) {\n                var someBaseOptions = baseOptions[name];\n                if (someBaseOptions) {\n                    if (newOptions[name]) {\n                        mergedOptions[name] = splat(newOptions[name]).map(function (basicOptions, i) {\n                            return merge(someBaseOptions[i], basicOptions);\n                        });\n                    }\n                    else {\n                        mergedOptions[name] = baseOptions[name];\n                    }\n                }\n            });\n            return mergedOptions;\n        }\n        /* *\n         *\n         *  Class\n         *\n         * */\n        /**\n         * An annotation class which serves as a container for items like labels or\n         * shapes. Created items are positioned on the chart either by linking them to\n         * existing points or created mock points\n         *\n         * @requires modules/annotations\n         *\n         * @class\n         * @name Highcharts.Annotation\n         *\n         * @param {Highcharts.Chart} chart\n         *        A chart instance\n         * @param {Highcharts.AnnotationsOptions} userOptions\n         *        The annotation options\n         */\n        var Annotation = /** @class */ (function (_super) {\n            __extends(Annotation, _super);\n            /* *\n             *\n             *  Constructors\n             *\n             * */\n            function Annotation(chart, userOptions) {\n                var _this = _super.call(this) || this;\n                _this.coll = 'annotations';\n                /**\n                 * The chart that the annotation belongs to.\n                 *\n                 * @name Highcharts.Annotation#chart\n                 * @type {Highcharts.Chart}\n                 */\n                _this.chart = chart;\n                /**\n                 * The array of points which defines the annotation.\n                 * @private\n                 * @name Highcharts.Annotation#points\n                 * @type {Array<Highcharts.Point>}\n                 */\n                _this.points = [];\n                /**\n                 * The array of control points.\n                 * @private\n                 * @name Highcharts.Annotation#controlPoints\n                 * @type {Array<Annotation.ControlPoint>}\n                 */\n                _this.controlPoints = [];\n                _this.coll = 'annotations';\n                _this.index = -1;\n                /**\n                 * The array of labels which belong to the annotation.\n                 * @private\n                 * @name Highcharts.Annotation#labels\n                 * @type {Array<Highcharts.AnnotationLabelType>}\n                 */\n                _this.labels = [];\n                /**\n                 * The array of shapes which belong to the annotation.\n                 * @private\n                 * @name Highcharts.Annotation#shapes\n                 * @type {Array<Highcharts.AnnotationShapeType>}\n                 */\n                _this.shapes = [];\n                /**\n                 * The options for the annotations.\n                 *\n                 * @name Highcharts.Annotation#options\n                 * @type {Highcharts.AnnotationsOptions}\n                 */\n                _this.options = merge(_this.defaultOptions, userOptions);\n                /**\n                 * The user options for the annotations.\n                 *\n                 * @name Highcharts.Annotation#userOptions\n                 * @type {Highcharts.AnnotationsOptions}\n                 */\n                _this.userOptions = userOptions;\n                // Handle labels and shapes - those are arrays\n                // Merging does not work with arrays (stores reference)\n                var labelsAndShapes = getLabelsAndShapesOptions(_this.options, userOptions);\n                _this.options.labels = labelsAndShapes.labels;\n                _this.options.shapes = labelsAndShapes.shapes;\n                /**\n                 * The callback that reports to the overlapping-labels module which\n                 * labels it should account for.\n                 * @private\n                 * @name Highcharts.Annotation#labelCollector\n                 * @type {Function}\n                 */\n                /**\n                 * The group svg element.\n                 *\n                 * @name Highcharts.Annotation#group\n                 * @type {Highcharts.SVGElement}\n                 */\n                /**\n                 * The group svg element of the annotation's shapes.\n                 *\n                 * @name Highcharts.Annotation#shapesGroup\n                 * @type {Highcharts.SVGElement}\n                 */\n                /**\n                 * The group svg element of the annotation's labels.\n                 *\n                 * @name Highcharts.Annotation#labelsGroup\n                 * @type {Highcharts.SVGElement}\n                 */\n                _this.init(chart, _this.options);\n                return _this;\n            }\n            /* *\n             *\n             *  Static Functions\n             *\n             * */\n            /**\n             * @private\n             */\n            Annotation.compose = function (ChartClass, NavigationBindingsClass, PointerClass, SVGRendererClass) {\n                AnnotationChart.compose(Annotation, ChartClass, PointerClass);\n                ControllableLabel.compose(SVGRendererClass);\n                ControllablePath.compose(ChartClass, SVGRendererClass);\n                NavigationBindingsClass.compose(Annotation, ChartClass);\n                PopupComposition.compose(NavigationBindingsClass, PointerClass);\n            };\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            /**\n             * @private\n             */\n            Annotation.prototype.addClipPaths = function () {\n                this.setClipAxes();\n                if (this.clipXAxis &&\n                    this.clipYAxis &&\n                    this.options.crop // #15399\n                ) {\n                    this.clipRect = this.chart.renderer.clipRect(this.getClipBox());\n                }\n            };\n            /**\n             * @private\n             */\n            Annotation.prototype.addLabels = function () {\n                var _this = this;\n                var labelsOptions = (this.options.labels || []);\n                labelsOptions.forEach(function (labelOptions, i) {\n                    var label = _this.initLabel(labelOptions, i);\n                    merge(true, labelsOptions[i], label.options);\n                });\n            };\n            /**\n             * @private\n             */\n            Annotation.prototype.addShapes = function () {\n                var _this = this;\n                var shapes = this.options.shapes || [];\n                shapes.forEach(function (shapeOptions, i) {\n                    var shape = _this.initShape(shapeOptions, i);\n                    merge(true, shapes[i], shape.options);\n                });\n            };\n            /**\n             * Destroy the annotation. This function does not touch the chart\n             * that the annotation belongs to (all annotations are kept in\n             * the chart.annotations array) - it is recommended to use\n             * {@link Highcharts.Chart#removeAnnotation} instead.\n             * @private\n             */\n            Annotation.prototype.destroy = function () {\n                var chart = this.chart, destroyItem = function (item) {\n                    item.destroy();\n                };\n                this.labels.forEach(destroyItem);\n                this.shapes.forEach(destroyItem);\n                this.clipXAxis = null;\n                this.clipYAxis = null;\n                erase(chart.labelCollectors, this.labelCollector);\n                _super.prototype.destroy.call(this);\n                this.destroyControlTarget();\n                destroyObjectProperties(this, chart);\n            };\n            /**\n             * Destroy a single item.\n             * @private\n             */\n            Annotation.prototype.destroyItem = function (item) {\n                // Erase from shapes or labels array\n                erase(this[item.itemType + 's'], item);\n                item.destroy();\n            };\n            /**\n             * @private\n             */\n            Annotation.prototype.getClipBox = function () {\n                if (this.clipXAxis && this.clipYAxis) {\n                    return {\n                        x: this.clipXAxis.left,\n                        y: this.clipYAxis.top,\n                        width: this.clipXAxis.width,\n                        height: this.clipYAxis.height\n                    };\n                }\n            };\n            /**\n             * Initialize the annotation properties.\n             * @private\n             */\n            Annotation.prototype.initProperties = function (chart, userOptions) {\n                this.setOptions(userOptions);\n                var labelsAndShapes = getLabelsAndShapesOptions(this.options, userOptions);\n                this.options.labels = labelsAndShapes.labels;\n                this.options.shapes = labelsAndShapes.shapes;\n                this.chart = chart;\n                this.points = [];\n                this.controlPoints = [];\n                this.coll = 'annotations';\n                this.userOptions = userOptions;\n                this.labels = [];\n                this.shapes = [];\n            };\n            /**\n             * Initialize the annotation.\n             * @private\n             */\n            Annotation.prototype.init = function (_annotationOrChart, _userOptions, index) {\n                if (index === void 0) { index = this.index; }\n                var chart = this.chart, animOptions = this.options.animation;\n                this.index = index;\n                this.linkPoints();\n                this.addControlPoints();\n                this.addShapes();\n                this.addLabels();\n                this.setLabelCollector();\n                this.animationConfig = getDeferredAnimation(chart, animOptions);\n            };\n            /**\n             * Initialisation of a single label\n             * @private\n             */\n            Annotation.prototype.initLabel = function (labelOptions, index) {\n                var options = merge(this.options.labelOptions, {\n                    controlPointOptions: this.options.controlPointOptions\n                }, labelOptions), label = new ControllableLabel(this, options, index);\n                label.itemType = 'label';\n                this.labels.push(label);\n                return label;\n            };\n            /**\n             * Initialisation of a single shape\n             * @private\n             * @param {Object} shapeOptions\n             * a config object for a single shape\n             * @param {number} index\n             * annotation may have many shapes, this is the shape's index saved in\n             * shapes.index.\n             */\n            Annotation.prototype.initShape = function (shapeOptions, index) {\n                var options = merge(this.options.shapeOptions, {\n                    controlPointOptions: this.options.controlPointOptions\n                }, shapeOptions), shape = new (Annotation.shapesMap[options.type])(this, options, index);\n                shape.itemType = 'shape';\n                this.shapes.push(shape);\n                return shape;\n            };\n            /**\n             * @private\n             */\n            Annotation.prototype.redraw = function (animation) {\n                this.linkPoints();\n                if (!this.graphic) {\n                    this.render();\n                }\n                if (this.clipRect) {\n                    this.clipRect.animate(this.getClipBox());\n                }\n                this.redrawItems(this.shapes, animation);\n                this.redrawItems(this.labels, animation);\n                this.redrawControlPoints(animation);\n            };\n            /**\n             * Redraw a single item.\n             * @private\n             */\n            Annotation.prototype.redrawItem = function (item, animation) {\n                item.linkPoints();\n                if (!item.shouldBeDrawn()) {\n                    this.destroyItem(item);\n                }\n                else {\n                    if (!item.graphic) {\n                        this.renderItem(item);\n                    }\n                    item.redraw(pick(animation, true) && item.graphic.placed);\n                    if (item.points.length) {\n                        adjustVisibility(item);\n                    }\n                }\n            };\n            /**\n             * @private\n             */\n            Annotation.prototype.redrawItems = function (items, animation) {\n                var i = items.length;\n                // Needs a backward loop. Labels/shapes array might be modified due to\n                // destruction of the item\n                while (i--) {\n                    this.redrawItem(items[i], animation);\n                }\n            };\n            /**\n             * See {@link Highcharts.Chart#removeAnnotation}.\n             * @private\n             */\n            Annotation.prototype.remove = function () {\n                // Let chart.update() remove annotations on demand\n                return this.chart.removeAnnotation(this);\n            };\n            /**\n             * @private\n             */\n            Annotation.prototype.render = function () {\n                var renderer = this.chart.renderer;\n                this.graphic = renderer\n                    .g('annotation')\n                    .attr({\n                    opacity: 0,\n                    zIndex: this.options.zIndex,\n                    visibility: this.options.visible ?\n                        'inherit' :\n                        'hidden'\n                })\n                    .add();\n                this.shapesGroup = renderer\n                    .g('annotation-shapes')\n                    .add(this.graphic);\n                if (this.options.crop) { // #15399\n                    this.shapesGroup.clip(this.chart.plotBoxClip);\n                }\n                this.labelsGroup = renderer\n                    .g('annotation-labels')\n                    .attr({\n                    // `hideOverlappingLabels` requires translation\n                    translateX: 0,\n                    translateY: 0\n                })\n                    .add(this.graphic);\n                this.addClipPaths();\n                if (this.clipRect) {\n                    this.graphic.clip(this.clipRect);\n                }\n                // Render shapes and labels before adding events (#13070).\n                this.renderItems(this.shapes);\n                this.renderItems(this.labels);\n                this.addEvents();\n                this.renderControlPoints();\n            };\n            /**\n             * @private\n             */\n            Annotation.prototype.renderItem = function (item) {\n                item.render(item.itemType === 'label' ?\n                    this.labelsGroup :\n                    this.shapesGroup);\n            };\n            /**\n             * @private\n             */\n            Annotation.prototype.renderItems = function (items) {\n                var i = items.length;\n                while (i--) {\n                    this.renderItem(items[i]);\n                }\n            };\n            /**\n             * @private\n             */\n            Annotation.prototype.setClipAxes = function () {\n                var xAxes = this.chart.xAxis, yAxes = this.chart.yAxis, linkedAxes = (this.options.labels || [])\n                    .concat(this.options.shapes || [])\n                    .reduce(function (axes, labelOrShape) {\n                    var point = labelOrShape &&\n                        (labelOrShape.point ||\n                            (labelOrShape.points && labelOrShape.points[0]));\n                    return [\n                        xAxes[point && point.xAxis] || axes[0],\n                        yAxes[point && point.yAxis] || axes[1]\n                    ];\n                }, []);\n                this.clipXAxis = linkedAxes[0];\n                this.clipYAxis = linkedAxes[1];\n            };\n            /**\n             * @private\n             */\n            Annotation.prototype.setControlPointsVisibility = function (visible) {\n                var setItemControlPointsVisibility = function (item) {\n                    item.setControlPointsVisibility(visible);\n                };\n                this.controlPoints.forEach(function (controlPoint) {\n                    controlPoint.setVisibility(visible);\n                });\n                this.shapes.forEach(setItemControlPointsVisibility);\n                this.labels.forEach(setItemControlPointsVisibility);\n            };\n            /**\n             * @private\n             */\n            Annotation.prototype.setLabelCollector = function () {\n                var annotation = this;\n                annotation.labelCollector = function () {\n                    return annotation.labels.reduce(function (labels, label) {\n                        if (!label.options.allowOverlap) {\n                            labels.push(label.graphic);\n                        }\n                        return labels;\n                    }, []);\n                };\n                annotation.chart.labelCollectors.push(annotation.labelCollector);\n            };\n            /**\n             * Set an annotation options.\n             * @private\n             * @param {Highcharts.AnnotationsOptions} userOptions\n             *        User options for an annotation\n             */\n            Annotation.prototype.setOptions = function (userOptions) {\n                this.options = merge(this.defaultOptions, userOptions);\n            };\n            /**\n             * Set the annotation's visibility.\n             * @private\n             * @param {boolean} [visible]\n             * Whether to show or hide an annotation. If the param is omitted, the\n             * annotation's visibility is toggled.\n             */\n            Annotation.prototype.setVisibility = function (visible) {\n                var options = this.options, navigation = this.chart.navigationBindings, visibility = pick(visible, !options.visible);\n                this.graphic.attr('visibility', visibility ? 'inherit' : 'hidden');\n                if (!visibility) {\n                    var setItemControlPointsVisibility = function (item) {\n                        item.setControlPointsVisibility(visibility);\n                    };\n                    this.shapes.forEach(setItemControlPointsVisibility);\n                    this.labels.forEach(setItemControlPointsVisibility);\n                    if (navigation.activeAnnotation === this &&\n                        navigation.popup &&\n                        navigation.popup.type === 'annotation-toolbar') {\n                        fireEvent(navigation, 'closePopup');\n                    }\n                }\n                options.visible = visibility;\n            };\n            /**\n             * Updates an annotation.\n             *\n             * @function Highcharts.Annotation#update\n             *\n             * @param {Partial<Highcharts.AnnotationsOptions>} userOptions\n             *        New user options for the annotation.\n             *\n             */\n            Annotation.prototype.update = function (userOptions, redraw) {\n                var chart = this.chart, labelsAndShapes = getLabelsAndShapesOptions(this.userOptions, userOptions), userOptionsIndex = chart.annotations.indexOf(this), options = merge(true, this.userOptions, userOptions);\n                options.labels = labelsAndShapes.labels;\n                options.shapes = labelsAndShapes.shapes;\n                this.destroy();\n                this.initProperties(chart, options);\n                this.init(chart, options);\n                // Update options in chart options, used in exporting (#9767, #21507):\n                chart.options.annotations[userOptionsIndex] = this.options;\n                this.isUpdating = true;\n                if (pick(redraw, true)) {\n                    chart.drawAnnotations();\n                }\n                fireEvent(this, 'afterUpdate');\n                this.isUpdating = false;\n            };\n            /* *\n             *\n             *  Static Properties\n             *\n             * */\n            /**\n             * @private\n             */\n            Annotation.ControlPoint = ControlPoint;\n            /**\n             * @private\n             */\n            Annotation.MockPoint = MockPoint;\n            /**\n             * An object uses for mapping between a shape type and a constructor.\n             * To add a new shape type extend this object with type name as a key\n             * and a constructor as its value.\n             *\n             * @private\n             */\n            Annotation.shapesMap = {\n                'rect': ControllableRect,\n                'circle': ControllableCircle,\n                'ellipse': ControllableEllipse,\n                'path': ControllablePath,\n                'image': ControllableImage\n            };\n            /**\n             * @private\n             */\n            Annotation.types = {};\n            return Annotation;\n        }(EventEmitter));\n        Annotation.prototype.defaultOptions = AnnotationDefaults;\n        /**\n         * List of events for `annotation.options.events` that should not be\n         * added to `annotation.graphic` but to the `annotation`.\n         *\n         * @private\n         * @type {Array<string>}\n         */\n        Annotation.prototype.nonDOMEvents = ['add', 'afterUpdate', 'drag', 'remove'];\n        ControlTarget.compose(Annotation);\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n        /* *\n         *\n         *  API Declarations\n         *\n         * */\n        /**\n         * Possible directions for draggable annotations. An empty string (`''`)\n         * makes the annotation undraggable.\n         *\n         * @typedef {''|'x'|'xy'|'y'} Highcharts.AnnotationDraggableValue\n         * @requires modules/annotations\n         */\n        /**\n         * @private\n         * @typedef {\n         *          Highcharts.AnnotationControllableCircle|\n         *          Highcharts.AnnotationControllableImage|\n         *          Highcharts.AnnotationControllablePath|\n         *          Highcharts.AnnotationControllableRect\n         *     } Highcharts.AnnotationShapeType\n         * @requires modules/annotations\n         */\n        /**\n         * @private\n         * @typedef {\n         *          Highcharts.AnnotationControllableLabel\n         *     } Highcharts.AnnotationLabelType\n         * @requires modules/annotations\n         */\n        /**\n         * A point-like object, a mock point or a point used in series.\n         * @private\n         * @typedef {\n         *          Highcharts.AnnotationMockPoint|\n         *          Highcharts.Point\n         *     } Highcharts.AnnotationPointType\n         * @requires modules/annotations\n         */\n        /**\n         * Shape point as string, object or function.\n         *\n         * @typedef {\n         *          string|\n         *          Highcharts.AnnotationMockPointOptionsObject|\n         *          Highcharts.AnnotationMockPointFunction\n         *     } Highcharts.AnnotationShapePointOptions\n         */\n        (''); // Keeps doclets above in JS file\n\n        return Annotation;\n    });\n    _registerModule(_modules, 'Core/Chart/ChartNavigationComposition.js', [], function () {\n        /**\n         *\n         *  (c) 2010-2024 Paweł Fus\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        /* *\n         *\n         *  Composition\n         *\n         * */\n        var ChartNavigationComposition;\n        (function (ChartNavigationComposition) {\n            /* *\n             *\n             *  Declarations\n             *\n             * */\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            /* eslint-disable valid-jsdoc */\n            /**\n             * @private\n             */\n            function compose(chart) {\n                if (!chart.navigation) {\n                    chart.navigation = new Additions(chart);\n                }\n                return chart;\n            }\n            ChartNavigationComposition.compose = compose;\n            /* *\n             *\n             *  Class\n             *\n             * */\n            /**\n             * Initializes `chart.navigation` object which delegates `update()` methods\n             * to all other common classes (used in exporting and navigationBindings).\n             * @private\n             */\n            var Additions = /** @class */ (function () {\n                /* *\n                 *\n                 *  Constructor\n                 *\n                 * */\n                function Additions(chart) {\n                    this.updates = [];\n                    this.chart = chart;\n                }\n                /* *\n                 *\n                 *  Functions\n                 *\n                 * */\n                /**\n                 * Registers an `update()` method in the `chart.navigation` object.\n                 *\n                 * @private\n                 * @param {UpdateFunction} updateFn\n                 * The `update()` method that will be called in `chart.update()`.\n                 */\n                Additions.prototype.addUpdate = function (updateFn) {\n                    this.chart.navigation.updates.push(updateFn);\n                };\n                /**\n                 * @private\n                 */\n                Additions.prototype.update = function (options, redraw) {\n                    var _this = this;\n                    this.updates.forEach(function (updateFn) {\n                        updateFn.call(_this.chart, options, redraw);\n                    });\n                };\n                return Additions;\n            }());\n            ChartNavigationComposition.Additions = Additions;\n        })(ChartNavigationComposition || (ChartNavigationComposition = {}));\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return ChartNavigationComposition;\n    });\n    _registerModule(_modules, 'Extensions/Annotations/NavigationBindingsUtilities.js', [_modules['Core/Utilities.js']], function (U) {\n        /* *\n         *\n         *  (c) 2009-2024 Highsoft, Black Label\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var defined = U.defined, isNumber = U.isNumber, pick = U.pick;\n        /* *\n         *\n         *  Constants\n         *\n         * */\n        /**\n         * Define types for editable fields per annotation. There is no need to define\n         * numbers, because they won't change their type to string.\n         * @private\n         */\n        var annotationsFieldsTypes = {\n            backgroundColor: 'string',\n            borderColor: 'string',\n            borderRadius: 'string',\n            color: 'string',\n            fill: 'string',\n            fontSize: 'string',\n            labels: 'string',\n            name: 'string',\n            stroke: 'string',\n            title: 'string'\n        };\n        /* *\n         *\n         *  Functions\n         *\n         * */\n        /**\n         * Returns the first xAxis or yAxis that was clicked with its value.\n         *\n         * @private\n         *\n         * @param {Array<Highcharts.PointerAxisCoordinateObject>} coords\n         *        All the chart's x or y axes with a current pointer's axis value.\n         *\n         * @return {Highcharts.PointerAxisCoordinateObject}\n         *         Object with a first found axis and its value that pointer\n         *         is currently pointing.\n         */\n        function getAssignedAxis(coords) {\n            return coords.filter(function (coord) {\n                var extremes = coord.axis.getExtremes(), axisMin = extremes.min, axisMax = extremes.max, \n                // Correct axis edges when axis has series\n                // with pointRange (like column)\n                minPointOffset = pick(coord.axis.minPointOffset, 0);\n                return isNumber(axisMin) && isNumber(axisMax) &&\n                    coord.value >= (axisMin - minPointOffset) &&\n                    coord.value <= (axisMax + minPointOffset) &&\n                    // Don't count navigator axis\n                    !coord.axis.options.isInternal;\n            })[0]; // If the axes overlap, return the first axis that was found.\n        }\n        /**\n         * Get field type according to value\n         *\n         * @private\n         *\n         * @param {'boolean'|'number'|'string'} value\n         * Atomic type (one of: string, number, boolean)\n         *\n         * @return {'checkbox'|'number'|'text'}\n         * Field type (one of: text, number, checkbox)\n         */\n        function getFieldType(key, value) {\n            var predefinedType = annotationsFieldsTypes[key];\n            var fieldType = typeof value;\n            if (defined(predefinedType)) {\n                fieldType = predefinedType;\n            }\n            return {\n                'string': 'text',\n                'number': 'number',\n                'boolean': 'checkbox'\n            }[fieldType];\n        }\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n        var NavigationBindingUtilities = {\n            annotationsFieldsTypes: annotationsFieldsTypes,\n            getAssignedAxis: getAssignedAxis,\n            getFieldType: getFieldType\n        };\n\n        return NavigationBindingUtilities;\n    });\n    _registerModule(_modules, 'Extensions/Annotations/NavigationBindingsDefaults.js', [_modules['Extensions/Annotations/NavigationBindingsUtilities.js'], _modules['Core/Utilities.js']], function (NBU, U) {\n        /* *\n         *\n         *  (c) 2009-2024 Highsoft, Black Label\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var getAssignedAxis = NBU.getAssignedAxis;\n        var isNumber = U.isNumber, merge = U.merge;\n        /* *\n         *\n         *  Constants\n         *\n         * */\n        /**\n         * @optionparent lang\n         */\n        var lang = {\n            /**\n             * Configure the Popup strings in the chart. Requires the\n             * `annotations.js` or `annotations-advanced.src.js` module to be\n             * loaded.\n             * @since   7.0.0\n             * @product highcharts highstock\n             */\n            navigation: {\n                /**\n                 * Translations for all field names used in popup.\n                 *\n                 * @product highcharts highstock\n                 */\n                popup: {\n                    simpleShapes: 'Simple shapes',\n                    lines: 'Lines',\n                    circle: 'Circle',\n                    ellipse: 'Ellipse',\n                    rectangle: 'Rectangle',\n                    label: 'Label',\n                    shapeOptions: 'Shape options',\n                    typeOptions: 'Details',\n                    fill: 'Fill',\n                    format: 'Text',\n                    strokeWidth: 'Line width',\n                    stroke: 'Line color',\n                    title: 'Title',\n                    name: 'Name',\n                    labelOptions: 'Label options',\n                    labels: 'Labels',\n                    backgroundColor: 'Background color',\n                    backgroundColors: 'Background colors',\n                    borderColor: 'Border color',\n                    borderRadius: 'Border radius',\n                    borderWidth: 'Border width',\n                    style: 'Style',\n                    padding: 'Padding',\n                    fontSize: 'Font size',\n                    color: 'Color',\n                    height: 'Height',\n                    shapes: 'Shape options'\n                }\n            }\n        };\n        /**\n         * @optionparent navigation\n         * @product      highcharts highstock\n         */\n        var navigation = {\n            /**\n             * A CSS class name where all bindings will be attached to. Multiple\n             * charts on the same page should have separate class names to prevent\n             * duplicating events.\n             *\n             * Default value of versions < 7.0.4 `highcharts-bindings-wrapper`\n             *\n             * @since     7.0.0\n             * @type      {string}\n             */\n            bindingsClassName: 'highcharts-bindings-container',\n            /**\n             * Bindings definitions for custom HTML buttons. Each binding implements\n             * simple event-driven interface:\n             *\n             * - `className`: classname used to bind event to\n             *\n             * - `init`: initial event, fired on button click\n             *\n             * - `start`: fired on first click on a chart\n             *\n             * - `steps`: array of sequential events fired one after another on each\n             *   of users clicks\n             *\n             * - `end`: last event to be called after last step event\n             *\n             * @type         {Highcharts.Dictionary<Highcharts.NavigationBindingsOptionsObject>|*}\n             *\n             * @sample {highstock} stock/stocktools/stocktools-thresholds\n             *               Custom bindings\n             * @sample {highcharts} highcharts/annotations/bindings/\n             *               Simple binding\n             * @sample {highcharts} highcharts/annotations/bindings-custom-annotation/\n             *               Custom annotation binding\n             *\n             * @since        7.0.0\n             * @requires     modules/annotations\n             * @product      highcharts highstock\n             */\n            bindings: {\n                /**\n                 * A circle annotation bindings. Includes `start` and one event in\n                 * `steps` array.\n                 *\n                 * @type    {Highcharts.NavigationBindingsOptionsObject}\n                 * @default {\"className\": \"highcharts-circle-annotation\", \"start\": function() {}, \"steps\": [function() {}], \"annotationsOptions\": {}}\n                 */\n                circleAnnotation: {\n                    /** @ignore-option */\n                    className: 'highcharts-circle-annotation',\n                    /** @ignore-option */\n                    start: function (e) {\n                        var _a;\n                        var coords = (_a = this.chart.pointer) === null || _a === void 0 ? void 0 : _a.getCoordinates(e), coordsX = coords && getAssignedAxis(coords.xAxis), coordsY = coords && getAssignedAxis(coords.yAxis), navigation = this.chart.options.navigation;\n                        // Exit if clicked out of axes area\n                        if (!coordsX || !coordsY) {\n                            return;\n                        }\n                        return this.chart.addAnnotation(merge({\n                            langKey: 'circle',\n                            type: 'basicAnnotation',\n                            shapes: [{\n                                    type: 'circle',\n                                    point: {\n                                        x: coordsX.value,\n                                        y: coordsY.value,\n                                        xAxis: coordsX.axis.index,\n                                        yAxis: coordsY.axis.index\n                                    },\n                                    r: 5\n                                }]\n                        }, navigation.annotationsOptions, navigation.bindings.circleAnnotation\n                            .annotationsOptions));\n                    },\n                    /** @ignore-option */\n                    steps: [\n                        function (e, annotation) {\n                            var shapes = annotation.options.shapes, mockPointOpts = ((shapes && shapes[0] && shapes[0].point) ||\n                                {});\n                            var distance;\n                            if (isNumber(mockPointOpts.xAxis) &&\n                                isNumber(mockPointOpts.yAxis)) {\n                                var inverted = this.chart.inverted, x = this.chart.xAxis[mockPointOpts.xAxis]\n                                    .toPixels(mockPointOpts.x), y = this.chart.yAxis[mockPointOpts.yAxis]\n                                    .toPixels(mockPointOpts.y);\n                                distance = Math.max(Math.sqrt(Math.pow(inverted ? y - e.chartX : x - e.chartX, 2) +\n                                    Math.pow(inverted ? x - e.chartY : y - e.chartY, 2)), 5);\n                            }\n                            annotation.update({\n                                shapes: [{\n                                        r: distance\n                                    }]\n                            });\n                        }\n                    ]\n                },\n                /**\n                 * A ellipse annotation bindings. Includes `start` and two events in\n                 * `steps` array. First updates the second point, responsible for a\n                 * rx width, and second updates the ry width.\n                 *\n                 * @type    {Highcharts.NavigationBindingsOptionsObject}\n                 * @default {\"className\": \"highcharts-ellipse-annotation\", \"start\": function() {}, \"steps\": [function() {}], \"annotationsOptions\": {}}\n                 */\n                ellipseAnnotation: {\n                    className: 'highcharts-ellipse-annotation',\n                    start: function (e) {\n                        var _a;\n                        var coords = (_a = this.chart.pointer) === null || _a === void 0 ? void 0 : _a.getCoordinates(e), coordsX = coords && getAssignedAxis(coords.xAxis), coordsY = coords && getAssignedAxis(coords.yAxis), navigation = this.chart.options.navigation;\n                        if (!coordsX || !coordsY) {\n                            return;\n                        }\n                        return this.chart.addAnnotation(merge({\n                            langKey: 'ellipse',\n                            type: 'basicAnnotation',\n                            shapes: [\n                                {\n                                    type: 'ellipse',\n                                    xAxis: coordsX.axis.index,\n                                    yAxis: coordsY.axis.index,\n                                    points: [{\n                                            x: coordsX.value,\n                                            y: coordsY.value\n                                        }, {\n                                            x: coordsX.value,\n                                            y: coordsY.value\n                                        }],\n                                    ry: 1\n                                }\n                            ]\n                        }, navigation.annotationsOptions, navigation.bindings.ellipseAnnotation\n                            .annotationOptions));\n                    },\n                    steps: [\n                        function (e, annotation) {\n                            var target = annotation.shapes[0], position = target.getAbsolutePosition(target.points[1]);\n                            target.translatePoint(e.chartX - position.x, e.chartY - position.y, 1);\n                            target.redraw(false);\n                        },\n                        function (e, annotation) {\n                            var target = annotation.shapes[0], position = target.getAbsolutePosition(target.points[0]), position2 = target.getAbsolutePosition(target.points[1]), newR = target.getDistanceFromLine(position, position2, e.chartX, e.chartY), yAxis = target.getYAxis(), newRY = Math.abs(yAxis.toValue(0) - yAxis.toValue(newR));\n                            target.setYRadius(newRY);\n                            target.redraw(false);\n                        }\n                    ]\n                },\n                /**\n                 * A rectangle annotation bindings. Includes `start` and one event\n                 * in `steps` array.\n                 *\n                 * @type    {Highcharts.NavigationBindingsOptionsObject}\n                 * @default {\"className\": \"highcharts-rectangle-annotation\", \"start\": function() {}, \"steps\": [function() {}], \"annotationsOptions\": {}}\n                 */\n                rectangleAnnotation: {\n                    /** @ignore-option */\n                    className: 'highcharts-rectangle-annotation',\n                    /** @ignore-option */\n                    start: function (e) {\n                        var _a;\n                        var coords = (_a = this.chart.pointer) === null || _a === void 0 ? void 0 : _a.getCoordinates(e), coordsX = coords && getAssignedAxis(coords.xAxis), coordsY = coords && getAssignedAxis(coords.yAxis);\n                        // Exit if clicked out of axes area\n                        if (!coordsX || !coordsY) {\n                            return;\n                        }\n                        var x = coordsX.value, y = coordsY.value, xAxis = coordsX.axis.index, yAxis = coordsY.axis.index, navigation = this.chart.options.navigation;\n                        return this.chart.addAnnotation(merge({\n                            langKey: 'rectangle',\n                            type: 'basicAnnotation',\n                            shapes: [{\n                                    type: 'path',\n                                    points: [\n                                        { xAxis: xAxis, yAxis: yAxis, x: x, y: y },\n                                        { xAxis: xAxis, yAxis: yAxis, x: x, y: y },\n                                        { xAxis: xAxis, yAxis: yAxis, x: x, y: y },\n                                        { xAxis: xAxis, yAxis: yAxis, x: x, y: y },\n                                        { command: 'Z' }\n                                    ]\n                                }]\n                        }, navigation\n                            .annotationsOptions, navigation\n                            .bindings\n                            .rectangleAnnotation\n                            .annotationsOptions));\n                    },\n                    /** @ignore-option */\n                    steps: [\n                        function (e, annotation) {\n                            var _a;\n                            var shapes = annotation.options.shapes, points = ((shapes && shapes[0] && shapes[0].points) ||\n                                []), coords = (_a = this.chart.pointer) === null || _a === void 0 ? void 0 : _a.getCoordinates(e), coordsX = coords && getAssignedAxis(coords.xAxis), coordsY = coords && getAssignedAxis(coords.yAxis);\n                            if (coordsX && coordsY) {\n                                var x = coordsX.value, y = coordsY.value;\n                                // Top right point\n                                points[1].x = x;\n                                // Bottom right point (cursor position)\n                                points[2].x = x;\n                                points[2].y = y;\n                                // Bottom left\n                                points[3].y = y;\n                                annotation.update({\n                                    shapes: [{\n                                            points: points\n                                        }]\n                                });\n                            }\n                        }\n                    ]\n                },\n                /**\n                 * A label annotation bindings. Includes `start` event only.\n                 *\n                 * @type    {Highcharts.NavigationBindingsOptionsObject}\n                 * @default {\"className\": \"highcharts-label-annotation\", \"start\": function() {}, \"steps\": [function() {}], \"annotationsOptions\": {}}\n                 */\n                labelAnnotation: {\n                    /** @ignore-option */\n                    className: 'highcharts-label-annotation',\n                    /** @ignore-option */\n                    start: function (e) {\n                        var _a;\n                        var coords = (_a = this.chart.pointer) === null || _a === void 0 ? void 0 : _a.getCoordinates(e), coordsX = coords && getAssignedAxis(coords.xAxis), coordsY = coords && getAssignedAxis(coords.yAxis), navigation = this.chart.options.navigation;\n                        // Exit if clicked out of axes area\n                        if (!coordsX || !coordsY) {\n                            return;\n                        }\n                        return this.chart.addAnnotation(merge({\n                            langKey: 'label',\n                            type: 'basicAnnotation',\n                            labelOptions: {\n                                format: '{y:.2f}',\n                                overflow: 'none',\n                                crop: true\n                            },\n                            labels: [{\n                                    point: {\n                                        xAxis: coordsX.axis.index,\n                                        yAxis: coordsY.axis.index,\n                                        x: coordsX.value,\n                                        y: coordsY.value\n                                    }\n                                }]\n                        }, navigation\n                            .annotationsOptions, navigation\n                            .bindings\n                            .labelAnnotation\n                            .annotationsOptions));\n                    }\n                }\n            },\n            /**\n             * Path where Highcharts will look for icons. Change this to use icons\n             * from a different server.\n             *\n             * @type      {string}\n             * @default   https://code.highcharts.com/11.4.8/gfx/stock-icons/\n             * @since     7.1.3\n             * @apioption navigation.iconsURL\n             */\n            /**\n             * A `showPopup` event. Fired when selecting for example an annotation.\n             *\n             * @type      {Function}\n             * @apioption navigation.events.showPopup\n             */\n            /**\n             * A `closePopup` event. Fired when Popup should be hidden, for example\n             * when clicking on an annotation again.\n             *\n             * @type      {Function}\n             * @apioption navigation.events.closePopup\n             */\n            /**\n             * Event fired on a button click.\n             *\n             * @type      {Function}\n             * @sample    highcharts/annotations/gui/\n             *            Change icon in a dropddown on event\n             * @sample    highcharts/annotations/gui-buttons/\n             *            Change button class on event\n             * @apioption navigation.events.selectButton\n             */\n            /**\n             * Event fired when button state should change, for example after\n             * adding an annotation.\n             *\n             * @type      {Function}\n             * @sample    highcharts/annotations/gui/\n             *            Change icon in a dropddown on event\n             * @sample    highcharts/annotations/gui-buttons/\n             *            Change button class on event\n             * @apioption navigation.events.deselectButton\n             */\n            /**\n             * Events to communicate between Stock Tools and custom GUI.\n             *\n             * @since        7.0.0\n             * @product      highcharts highstock\n             * @optionparent navigation.events\n             */\n            events: {},\n            /**\n             * Additional options to be merged into all annotations.\n             *\n             * @sample stock/stocktools/navigation-annotation-options\n             *         Set red color of all line annotations\n             *\n             * @type      {Highcharts.AnnotationsOptions}\n             * @extends   annotations\n             * @exclude   crookedLine, elliottWave, fibonacci, infinityLine,\n             *            measure, pitchfork, tunnel, verticalLine, basicAnnotation\n             * @requires     modules/annotations\n             * @apioption navigation.annotationsOptions\n             */\n            annotationsOptions: {\n                animation: {\n                    defer: 0\n                }\n            }\n        };\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n        var NavigationBindingDefaults = {\n            lang: lang,\n            navigation: navigation\n        };\n\n        return NavigationBindingDefaults;\n    });\n    _registerModule(_modules, 'Extensions/Annotations/NavigationBindings.js', [_modules['Core/Chart/ChartNavigationComposition.js'], _modules['Core/Defaults.js'], _modules['Core/Templating.js'], _modules['Core/Globals.js'], _modules['Extensions/Annotations/NavigationBindingsDefaults.js'], _modules['Extensions/Annotations/NavigationBindingsUtilities.js'], _modules['Core/Utilities.js']], function (ChartNavigationComposition, D, F, H, NavigationBindingDefaults, NBU, U) {\n        /* *\n         *\n         *  (c) 2009-2024 Highsoft, Black Label\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var setOptions = D.setOptions;\n        var format = F.format;\n        var composed = H.composed, doc = H.doc, win = H.win;\n        var getAssignedAxis = NBU.getAssignedAxis, getFieldType = NBU.getFieldType;\n        var addEvent = U.addEvent, attr = U.attr, defined = U.defined, fireEvent = U.fireEvent, isArray = U.isArray, isFunction = U.isFunction, isNumber = U.isNumber, isObject = U.isObject, merge = U.merge, objectEach = U.objectEach, pick = U.pick, pushUnique = U.pushUnique;\n        /* *\n         *\n         *  Functions\n         *\n         * */\n        /**\n         * IE 9-11 polyfill for Element.closest():\n         * @private\n         */\n        function closestPolyfill(el, s) {\n            var ElementProto = win.Element.prototype, elementMatches = ElementProto.matches ||\n                ElementProto.msMatchesSelector ||\n                ElementProto.webkitMatchesSelector;\n            var ret = null;\n            if (ElementProto.closest) {\n                ret = ElementProto.closest.call(el, s);\n            }\n            else {\n                do {\n                    if (elementMatches.call(el, s)) {\n                        return el;\n                    }\n                    el = el.parentElement || el.parentNode;\n                } while (el !== null && el.nodeType === 1);\n            }\n            return ret;\n        }\n        /**\n         * @private\n         */\n        function onAnnotationRemove() {\n            if (this.chart.navigationBindings) {\n                this.chart.navigationBindings.deselectAnnotation();\n            }\n        }\n        /**\n         * @private\n         */\n        function onChartDestroy() {\n            if (this.navigationBindings) {\n                this.navigationBindings.destroy();\n            }\n        }\n        /**\n         * @private\n         */\n        function onChartLoad() {\n            var options = this.options;\n            if (options && options.navigation && options.navigation.bindings) {\n                this.navigationBindings = new NavigationBindings(this, options.navigation);\n                this.navigationBindings.initEvents();\n                this.navigationBindings.initUpdate();\n            }\n        }\n        /**\n         * @private\n         */\n        function onChartRender() {\n            var navigationBindings = this.navigationBindings, disabledClassName = 'highcharts-disabled-btn';\n            if (this && navigationBindings) {\n                // Check if the buttons should be enabled/disabled based on\n                // visible series.\n                var buttonsEnabled_1 = false;\n                this.series.forEach(function (series) {\n                    if (!series.options.isInternal && series.visible) {\n                        buttonsEnabled_1 = true;\n                    }\n                });\n                if (this.navigationBindings &&\n                    this.navigationBindings.container &&\n                    this.navigationBindings.container[0]) {\n                    var container_1 = this.navigationBindings.container[0];\n                    objectEach(navigationBindings.boundClassNames, function (value, key) {\n                        // Get the HTML element corresponding to the className taken\n                        // from StockToolsBindings.\n                        var buttonNode = container_1.querySelectorAll('.' + key);\n                        if (buttonNode) {\n                            for (var i = 0; i < buttonNode.length; i++) {\n                                var button = buttonNode[i], cls = button.className;\n                                if (value.noDataState === 'normal') {\n                                    // If button has noDataState: 'normal', and has\n                                    // disabledClassName, remove this className.\n                                    if (cls.indexOf(disabledClassName) !== -1) {\n                                        button.classList.remove(disabledClassName);\n                                    }\n                                }\n                                else if (!buttonsEnabled_1) {\n                                    if (cls.indexOf(disabledClassName) === -1) {\n                                        button.className += ' ' + disabledClassName;\n                                    }\n                                }\n                                else {\n                                    // Enable all buttons by deleting the className.\n                                    if (cls.indexOf(disabledClassName) !== -1) {\n                                        button.classList.remove(disabledClassName);\n                                    }\n                                }\n                            }\n                        }\n                    });\n                }\n            }\n        }\n        /**\n         * @private\n         */\n        function onNavigationBindingsClosePopup() {\n            this.deselectAnnotation();\n        }\n        /**\n         * @private\n         */\n        function onNavigationBindingsDeselectButton() {\n            this.selectedButtonElement = null;\n        }\n        /**\n         * Show edit-annotation form:\n         * @private\n         */\n        function selectableAnnotation(annotationType) {\n            var originalClick = annotationType.prototype.defaultOptions.events &&\n                annotationType.prototype.defaultOptions.events.click;\n            /**\n             * Select and show popup\n             * @private\n             */\n            function selectAndShowPopup(eventArguments) {\n                var annotation = this, navigation = annotation.chart.navigationBindings, prevAnnotation = navigation.activeAnnotation;\n                if (originalClick) {\n                    originalClick.call(annotation, eventArguments);\n                }\n                if (prevAnnotation !== annotation) {\n                    // Select current:\n                    navigation.deselectAnnotation();\n                    navigation.activeAnnotation = annotation;\n                    annotation.setControlPointsVisibility(true);\n                    fireEvent(navigation, 'showPopup', {\n                        annotation: annotation,\n                        formType: 'annotation-toolbar',\n                        options: navigation.annotationToFields(annotation),\n                        onSubmit: function (data) {\n                            if (data.actionType === 'remove') {\n                                navigation.activeAnnotation = false;\n                                navigation.chart.removeAnnotation(annotation);\n                            }\n                            else {\n                                var config = {};\n                                navigation.fieldsToOptions(data.fields, config);\n                                navigation.deselectAnnotation();\n                                var typeOptions = config.typeOptions;\n                                if (annotation.options.type === 'measure') {\n                                    // Manually disable crooshars according to\n                                    // stroke width of the shape:\n                                    typeOptions.crosshairY.enabled = (typeOptions.crosshairY\n                                        .strokeWidth !== 0);\n                                    typeOptions.crosshairX.enabled = (typeOptions.crosshairX\n                                        .strokeWidth !== 0);\n                                }\n                                annotation.update(config);\n                            }\n                        }\n                    });\n                }\n                else {\n                    // Deselect current:\n                    fireEvent(navigation, 'closePopup');\n                }\n                // Let bubble event to chart.click:\n                eventArguments.activeAnnotation = true;\n            }\n            // #18276, show popup on touchend, but not on touchmove\n            var touchStartX, touchStartY;\n            /**\n             *\n             */\n            function saveCoords(e) {\n                touchStartX = e.touches[0].clientX;\n                touchStartY = e.touches[0].clientY;\n            }\n            /**\n             *\n             */\n            function checkForTouchmove(e) {\n                var hasMoved = touchStartX ? Math.sqrt(Math.pow(touchStartX - e.changedTouches[0].clientX, 2) +\n                    Math.pow(touchStartY - e.changedTouches[0].clientY, 2)) >= 4 : false;\n                if (!hasMoved) {\n                    selectAndShowPopup.call(this, e);\n                }\n            }\n            merge(true, annotationType.prototype.defaultOptions.events, {\n                click: selectAndShowPopup,\n                touchstart: saveCoords,\n                touchend: checkForTouchmove\n            });\n        }\n        /* *\n         *\n         *  Class\n         *\n         * */\n        /**\n         * @private\n         */\n        var NavigationBindings = /** @class */ (function () {\n            /* *\n             *\n             *  Constructor\n             *\n             * */\n            function NavigationBindings(chart, options) {\n                this.boundClassNames = void 0;\n                this.chart = chart;\n                this.options = options;\n                this.eventsToUnbind = [];\n                this.container =\n                    this.chart.container.getElementsByClassName(this.options.bindingsClassName || '');\n                if (!this.container.length) {\n                    this.container = doc.getElementsByClassName(this.options.bindingsClassName || '');\n                }\n            }\n            /* *\n             *\n             *  Static Functions\n             *\n             * */\n            NavigationBindings.compose = function (AnnotationClass, ChartClass) {\n                if (pushUnique(composed, 'NavigationBindings')) {\n                    addEvent(AnnotationClass, 'remove', onAnnotationRemove);\n                    // Basic shapes:\n                    selectableAnnotation(AnnotationClass);\n                    // Advanced annotations:\n                    objectEach(AnnotationClass.types, function (annotationType) {\n                        selectableAnnotation(annotationType);\n                    });\n                    addEvent(ChartClass, 'destroy', onChartDestroy);\n                    addEvent(ChartClass, 'load', onChartLoad);\n                    addEvent(ChartClass, 'render', onChartRender);\n                    addEvent(NavigationBindings, 'closePopup', onNavigationBindingsClosePopup);\n                    addEvent(NavigationBindings, 'deselectButton', onNavigationBindingsDeselectButton);\n                    setOptions(NavigationBindingDefaults);\n                }\n            };\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            NavigationBindings.prototype.getCoords = function (e) {\n                var _a;\n                var coords = (_a = this.chart.pointer) === null || _a === void 0 ? void 0 : _a.getCoordinates(e);\n                return [\n                    coords && getAssignedAxis(coords.xAxis),\n                    coords && getAssignedAxis(coords.yAxis)\n                ];\n            };\n            /**\n             * Init all events connected to NavigationBindings.\n             *\n             * @private\n             * @function Highcharts.NavigationBindings#initEvents\n             */\n            NavigationBindings.prototype.initEvents = function () {\n                var navigation = this, chart = navigation.chart, bindingsContainer = navigation.container, options = navigation.options;\n                // Shorthand object for getting events for buttons:\n                navigation.boundClassNames = {};\n                objectEach((options.bindings || {}), function (value) {\n                    navigation.boundClassNames[value.className] = value;\n                });\n                // Handle multiple containers with the same class names:\n                [].forEach.call(bindingsContainer, function (subContainer) {\n                    navigation.eventsToUnbind.push(addEvent(subContainer, 'click', function (event) {\n                        var bindings = navigation.getButtonEvents(subContainer, event);\n                        if (bindings &&\n                            (!bindings.button.classList\n                                .contains('highcharts-disabled-btn'))) {\n                            navigation.bindingsButtonClick(bindings.button, bindings.events, event);\n                        }\n                    }));\n                });\n                objectEach((options.events || {}), function (callback, eventName) {\n                    if (isFunction(callback)) {\n                        navigation.eventsToUnbind.push(addEvent(navigation, eventName, callback, { passive: false }));\n                    }\n                });\n                navigation.eventsToUnbind.push(addEvent(chart.container, 'click', function (e) {\n                    if (!chart.cancelClick &&\n                        chart.isInsidePlot(e.chartX - chart.plotLeft, e.chartY - chart.plotTop, {\n                            visiblePlotOnly: true\n                        })) {\n                        navigation.bindingsChartClick(this, e);\n                    }\n                }));\n                navigation.eventsToUnbind.push(addEvent(chart.container, H.isTouchDevice ? 'touchmove' : 'mousemove', function (e) {\n                    navigation.bindingsContainerMouseMove(this, e);\n                }, H.isTouchDevice ? { passive: false } : void 0));\n            };\n            /**\n             * Common chart.update() delegation, shared between bindings and exporting.\n             *\n             * @private\n             * @function Highcharts.NavigationBindings#initUpdate\n             */\n            NavigationBindings.prototype.initUpdate = function () {\n                var navigation = this;\n                ChartNavigationComposition\n                    .compose(this.chart).navigation\n                    .addUpdate(function (options) {\n                    navigation.update(options);\n                });\n            };\n            /**\n             * Hook for click on a button, method selects/unselects buttons,\n             * then calls `bindings.init` callback.\n             *\n             * @private\n             * @function Highcharts.NavigationBindings#bindingsButtonClick\n             *\n             * @param {Highcharts.HTMLDOMElement} [button]\n             *        Clicked button\n             *\n             * @param {Object} events\n             *        Events passed down from bindings (`init`, `start`, `step`, `end`)\n             *\n             * @param {Highcharts.PointerEventObject} clickEvent\n             *        Browser's click event\n             */\n            NavigationBindings.prototype.bindingsButtonClick = function (button, events, clickEvent) {\n                var navigation = this, chart = navigation.chart, svgContainer = chart.renderer.boxWrapper;\n                var shouldEventBeFired = true;\n                if (navigation.selectedButtonElement) {\n                    if (navigation.selectedButtonElement.classList === button.classList) {\n                        shouldEventBeFired = false;\n                    }\n                    fireEvent(navigation, 'deselectButton', { button: navigation.selectedButtonElement });\n                    if (navigation.nextEvent) {\n                        // Remove in-progress annotations adders:\n                        if (navigation.currentUserDetails &&\n                            navigation.currentUserDetails.coll === 'annotations') {\n                            chart.removeAnnotation(navigation.currentUserDetails);\n                        }\n                        navigation.mouseMoveEvent = navigation.nextEvent = false;\n                    }\n                }\n                if (shouldEventBeFired) {\n                    navigation.selectedButton = events;\n                    navigation.selectedButtonElement = button;\n                    fireEvent(navigation, 'selectButton', { button: button });\n                    // Call \"init\" event, for example to open modal window\n                    if (events.init) {\n                        events.init.call(navigation, button, clickEvent);\n                    }\n                    if (events.start || events.steps) {\n                        chart.renderer.boxWrapper.addClass('highcharts-draw-mode');\n                    }\n                }\n                else {\n                    chart.stockTools && button.classList.remove('highcharts-active');\n                    svgContainer.removeClass('highcharts-draw-mode');\n                    navigation.nextEvent = false;\n                    navigation.mouseMoveEvent = false;\n                    navigation.selectedButton = null;\n                }\n            };\n            /**\n             * Hook for click on a chart, first click on a chart calls `start` event,\n             * then on all subsequent clicks iterate over `steps` array.\n             * When finished, calls `end` event.\n             *\n             * @private\n             * @function Highcharts.NavigationBindings#bindingsChartClick\n             *\n             * @param {Highcharts.Chart} chart\n             *        Chart that click was performed on.\n             *\n             * @param {Highcharts.PointerEventObject} clickEvent\n             *        Browser's click event.\n             */\n            NavigationBindings.prototype.bindingsChartClick = function (chart, clickEvent) {\n                chart = this.chart;\n                var navigation = this, activeAnnotation = navigation.activeAnnotation, selectedButton = navigation.selectedButton, svgContainer = chart.renderer.boxWrapper;\n                if (activeAnnotation) {\n                    // Click outside popups, should close them and deselect the\n                    // annotation\n                    if (!activeAnnotation.cancelClick && // #15729\n                        !clickEvent.activeAnnotation &&\n                        // Element could be removed in the child action, e.g. button\n                        clickEvent.target.parentNode &&\n                        // TO DO: Polyfill for IE11?\n                        !closestPolyfill(clickEvent.target, '.highcharts-popup')) {\n                        fireEvent(navigation, 'closePopup');\n                    }\n                    else if (activeAnnotation.cancelClick) {\n                        // Reset cancelClick after the other event handlers have run\n                        setTimeout(function () {\n                            activeAnnotation.cancelClick = false;\n                        }, 0);\n                    }\n                }\n                if (!selectedButton || !selectedButton.start) {\n                    return;\n                }\n                if (!navigation.nextEvent) {\n                    // Call init method:\n                    navigation.currentUserDetails = selectedButton.start.call(navigation, clickEvent);\n                    // If steps exists (e.g. Annotations), bind them:\n                    if (navigation.currentUserDetails && selectedButton.steps) {\n                        navigation.stepIndex = 0;\n                        navigation.steps = true;\n                        navigation.mouseMoveEvent = navigation.nextEvent =\n                            selectedButton.steps[navigation.stepIndex];\n                    }\n                    else {\n                        fireEvent(navigation, 'deselectButton', { button: navigation.selectedButtonElement });\n                        svgContainer.removeClass('highcharts-draw-mode');\n                        navigation.steps = false;\n                        navigation.selectedButton = null;\n                        // First click is also the last one:\n                        if (selectedButton.end) {\n                            selectedButton.end.call(navigation, clickEvent, navigation.currentUserDetails);\n                        }\n                    }\n                }\n                else {\n                    navigation.nextEvent(clickEvent, navigation.currentUserDetails);\n                    if (navigation.steps) {\n                        navigation.stepIndex++;\n                        if (selectedButton.steps[navigation.stepIndex]) {\n                            // If we have more steps, bind them one by one:\n                            navigation.mouseMoveEvent = navigation.nextEvent = selectedButton.steps[navigation.stepIndex];\n                        }\n                        else {\n                            fireEvent(navigation, 'deselectButton', { button: navigation.selectedButtonElement });\n                            svgContainer.removeClass('highcharts-draw-mode');\n                            // That was the last step, call end():\n                            if (selectedButton.end) {\n                                selectedButton.end.call(navigation, clickEvent, navigation.currentUserDetails);\n                            }\n                            navigation.nextEvent = false;\n                            navigation.mouseMoveEvent = false;\n                            navigation.selectedButton = null;\n                        }\n                    }\n                }\n            };\n            /**\n             * Hook for mouse move on a chart's container. It calls current step.\n             *\n             * @private\n             * @function Highcharts.NavigationBindings#bindingsContainerMouseMove\n             *\n             * @param {Highcharts.HTMLDOMElement} container\n             *        Chart's container.\n             *\n             * @param {global.Event} moveEvent\n             *        Browser's move event.\n             */\n            NavigationBindings.prototype.bindingsContainerMouseMove = function (_container, moveEvent) {\n                if (this.mouseMoveEvent) {\n                    this.mouseMoveEvent(moveEvent, this.currentUserDetails);\n                }\n            };\n            /**\n             * Translate fields (e.g. `params.period` or `marker.styles.color`) to\n             * Highcharts options object (e.g. `{ params: { period } }`).\n             *\n             * @private\n             * @function Highcharts.NavigationBindings#fieldsToOptions<T>\n             *\n             * @param {Highcharts.Dictionary<string>} fields\n             *        Fields from popup form.\n             *\n             * @param {T} config\n             *        Default config to be modified.\n             *\n             * @return {T}\n             *         Modified config\n             */\n            NavigationBindings.prototype.fieldsToOptions = function (fields, config) {\n                objectEach(fields, function (value, field) {\n                    var parsedValue = parseFloat(value), path = field.split('.'), pathLength = path.length - 1;\n                    // If it's a number (not \"format\" options), parse it:\n                    if (isNumber(parsedValue) &&\n                        !value.match(/px|em/g) &&\n                        !field.match(/format/g)) {\n                        value = parsedValue;\n                    }\n                    // Remove values like 0\n                    if (value !== 'undefined') {\n                        var parent_1 = config;\n                        path.forEach(function (name, index) {\n                            if (name !== '__proto__' && name !== 'constructor') {\n                                var nextName = pick(path[index + 1], '');\n                                if (pathLength === index) {\n                                    // Last index, put value:\n                                    parent_1[name] = value;\n                                }\n                                else if (!parent_1[name]) {\n                                    // Create middle property:\n                                    parent_1[name] = nextName.match(/\\d/g) ?\n                                        [] :\n                                        {};\n                                    parent_1 = parent_1[name];\n                                }\n                                else {\n                                    // Jump into next property\n                                    parent_1 = parent_1[name];\n                                }\n                            }\n                        });\n                    }\n                });\n                return config;\n            };\n            /**\n             * Shorthand method to deselect an annotation.\n             *\n             * @function Highcharts.NavigationBindings#deselectAnnotation\n             */\n            NavigationBindings.prototype.deselectAnnotation = function () {\n                if (this.activeAnnotation) {\n                    this.activeAnnotation.setControlPointsVisibility(false);\n                    this.activeAnnotation = false;\n                }\n            };\n            /**\n             * Generates API config for popup in the same format as options for\n             * Annotation object.\n             *\n             * @function Highcharts.NavigationBindings#annotationToFields\n             *\n             * @param {Highcharts.Annotation} annotation\n             *        Annotations object\n             *\n             * @return {Highcharts.Dictionary<string>}\n             *         Annotation options to be displayed in popup box\n             */\n            NavigationBindings.prototype.annotationToFields = function (annotation) {\n                var options = annotation.options, editables = NavigationBindings.annotationsEditable, nestedEditables = editables.nestedOptions, type = pick(options.type, options.shapes && options.shapes[0] &&\n                    options.shapes[0].type, options.labels && options.labels[0] &&\n                    options.labels[0].type, 'label'), nonEditables = NavigationBindings.annotationsNonEditable[options.langKey] || [], visualOptions = {\n                    langKey: options.langKey,\n                    type: type\n                };\n                /**\n                 * Nested options traversing. Method goes down to the options and copies\n                 * allowed options (with values) to new object, which is last parameter:\n                 * \"parent\".\n                 *\n                 * @private\n                 *\n                 * @param {*} option\n                 *        Atomic type or object/array\n                 *\n                 * @param {string} key\n                 *        Option name, for example \"visible\" or \"x\", \"y\"\n                 *\n                 * @param {Object} parentEditables\n                 *        Editables from NavigationBindings.annotationsEditable\n                 *\n                 * @param {Object} parent\n                 *        Where new options will be assigned\n                 */\n                function traverse(option, key, parentEditables, parent, parentKey) {\n                    var nextParent;\n                    if (parentEditables &&\n                        defined(option) &&\n                        nonEditables.indexOf(key) === -1 &&\n                        ((parentEditables.indexOf &&\n                            parentEditables.indexOf(key)) >= 0 ||\n                            parentEditables[key] || // Nested array\n                            parentEditables === true // Simple array\n                        )) {\n                        // Roots:\n                        if (isArray(option)) {\n                            parent[key] = [];\n                            option.forEach(function (arrayOption, i) {\n                                if (!isObject(arrayOption)) {\n                                    // Simple arrays, e.g. [String, Number, Boolean]\n                                    traverse(arrayOption, 0, nestedEditables[key], parent[key], key);\n                                }\n                                else {\n                                    // Advanced arrays, e.g. [Object, Object]\n                                    parent[key][i] = {};\n                                    objectEach(arrayOption, function (nestedOption, nestedKey) {\n                                        traverse(nestedOption, nestedKey, nestedEditables[key], parent[key][i], key);\n                                    });\n                                }\n                            });\n                        }\n                        else if (isObject(option)) {\n                            nextParent = {};\n                            if (isArray(parent)) {\n                                parent.push(nextParent);\n                                nextParent[key] = {};\n                                nextParent = nextParent[key];\n                            }\n                            else {\n                                parent[key] = nextParent;\n                            }\n                            objectEach(option, function (nestedOption, nestedKey) {\n                                traverse(nestedOption, nestedKey, key === 0 ?\n                                    parentEditables :\n                                    nestedEditables[key], nextParent, key);\n                            });\n                        }\n                        else {\n                            // Leaf:\n                            if (key === 'format') {\n                                parent[key] = [\n                                    format(option, annotation.labels[0].points[0]).toString(),\n                                    'text'\n                                ];\n                            }\n                            else if (isArray(parent)) {\n                                parent.push([option, getFieldType(parentKey, option)]);\n                            }\n                            else {\n                                parent[key] = [option, getFieldType(key, option)];\n                            }\n                        }\n                    }\n                }\n                objectEach(options, function (option, key) {\n                    if (key === 'typeOptions') {\n                        visualOptions[key] = {};\n                        objectEach(options[key], function (typeOption, typeKey) {\n                            traverse(typeOption, typeKey, nestedEditables, visualOptions[key], typeKey);\n                        });\n                    }\n                    else {\n                        traverse(option, key, editables[type], visualOptions, key);\n                    }\n                });\n                return visualOptions;\n            };\n            /**\n             * Get all class names for all parents in the element. Iterates until finds\n             * main container.\n             *\n             * @private\n             * @function Highcharts.NavigationBindings#getClickedClassNames\n             *\n             * @param {Highcharts.HTMLDOMElement} container\n             * Container that event is bound to.\n             *\n             * @param {global.Event} event\n             * Browser's event.\n             *\n             * @return {Array<Array<string, Highcharts.HTMLDOMElement>>}\n             * Array of class names with corresponding elements\n             */\n            NavigationBindings.prototype.getClickedClassNames = function (container, event) {\n                var element = event.target, classNames = [], elemClassName;\n                while (element && element.tagName) {\n                    elemClassName = attr(element, 'class');\n                    if (elemClassName) {\n                        classNames = classNames.concat(elemClassName\n                            .split(' ')\n                            // eslint-disable-next-line no-loop-func\n                            .map(function (name) { return ([name, element]); }));\n                    }\n                    element = element.parentNode;\n                    if (element === container) {\n                        return classNames;\n                    }\n                }\n                return classNames;\n            };\n            /**\n             * Get events bound to a button. It's a custom event delegation to find all\n             * events connected to the element.\n             *\n             * @private\n             * @function Highcharts.NavigationBindings#getButtonEvents\n             *\n             * @param {Highcharts.HTMLDOMElement} container\n             *        Container that event is bound to.\n             *\n             * @param {global.Event} event\n             *        Browser's event.\n             *\n             * @return {Object}\n             *         Object with events (init, start, steps, and end)\n             */\n            NavigationBindings.prototype.getButtonEvents = function (container, event) {\n                var navigation = this, classNames = this.getClickedClassNames(container, event);\n                var bindings;\n                classNames.forEach(function (className) {\n                    if (navigation.boundClassNames[className[0]] && !bindings) {\n                        bindings = {\n                            events: navigation.boundClassNames[className[0]],\n                            button: className[1]\n                        };\n                    }\n                });\n                return bindings;\n            };\n            /**\n             * Bindings are just events, so the whole update process is simply\n             * removing old events and adding new ones.\n             *\n             * @private\n             * @function Highcharts.NavigationBindings#update\n             */\n            NavigationBindings.prototype.update = function (options) {\n                this.options = merge(true, this.options, options);\n                this.removeEvents();\n                this.initEvents();\n            };\n            /**\n             * Remove all events created in the navigation.\n             *\n             * @private\n             * @function Highcharts.NavigationBindings#removeEvents\n             */\n            NavigationBindings.prototype.removeEvents = function () {\n                this.eventsToUnbind.forEach(function (unbinder) { return unbinder(); });\n            };\n            /**\n             * @private\n             * @function Highcharts.NavigationBindings#destroy\n             */\n            NavigationBindings.prototype.destroy = function () {\n                this.removeEvents();\n            };\n            /* *\n             *\n             *  Static Properties\n             *\n             * */\n            // Define which options from annotations should show up in edit box:\n            NavigationBindings.annotationsEditable = {\n                // `typeOptions` are always available\n                // Nested and shared options:\n                nestedOptions: {\n                    labelOptions: ['style', 'format', 'backgroundColor'],\n                    labels: ['style'],\n                    label: ['style'],\n                    style: ['fontSize', 'color'],\n                    background: ['fill', 'strokeWidth', 'stroke'],\n                    innerBackground: ['fill', 'strokeWidth', 'stroke'],\n                    outerBackground: ['fill', 'strokeWidth', 'stroke'],\n                    shapeOptions: ['fill', 'strokeWidth', 'stroke'],\n                    shapes: ['fill', 'strokeWidth', 'stroke'],\n                    line: ['strokeWidth', 'stroke'],\n                    backgroundColors: [true],\n                    connector: ['fill', 'strokeWidth', 'stroke'],\n                    crosshairX: ['strokeWidth', 'stroke'],\n                    crosshairY: ['strokeWidth', 'stroke']\n                },\n                // Simple shapes:\n                circle: ['shapes'],\n                ellipse: ['shapes'],\n                verticalLine: [],\n                label: ['labelOptions'],\n                // Measure\n                measure: ['background', 'crosshairY', 'crosshairX'],\n                // Others:\n                fibonacci: [],\n                tunnel: ['background', 'line', 'height'],\n                pitchfork: ['innerBackground', 'outerBackground'],\n                rect: ['shapes'],\n                // Crooked lines, elliots, arrows etc:\n                crookedLine: [],\n                basicAnnotation: ['shapes', 'labelOptions']\n            };\n            // Define non editable fields per annotation, for example Rectangle inherits\n            // options from Measure, but crosshairs are not available\n            NavigationBindings.annotationsNonEditable = {\n                rectangle: ['crosshairX', 'crosshairY', 'labelOptions'],\n                ellipse: ['labelOptions'],\n                circle: ['labelOptions']\n            };\n            return NavigationBindings;\n        }());\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n        /* *\n         *\n         *  API Declarations\n         *\n         * */\n        /**\n         * A config object for navigation bindings in annotations.\n         *\n         * @interface Highcharts.NavigationBindingsOptionsObject\n         */ /**\n        * ClassName of the element for a binding.\n        * @name Highcharts.NavigationBindingsOptionsObject#className\n        * @type {string|undefined}\n        */ /**\n        * Last event to be fired after last step event.\n        * @name Highcharts.NavigationBindingsOptionsObject#end\n        * @type {Function|undefined}\n        */ /**\n        * Initial event, fired on a button click.\n        * @name Highcharts.NavigationBindingsOptionsObject#init\n        * @type {Function|undefined}\n        */ /**\n        * Event fired on first click on a chart.\n        * @name Highcharts.NavigationBindingsOptionsObject#start\n        * @type {Function|undefined}\n        */ /**\n        * Last event to be fired after last step event. Array of step events to be\n        * called sequentially after each user click.\n        * @name Highcharts.NavigationBindingsOptionsObject#steps\n        * @type {Array<Function>|undefined}\n        */\n        (''); // Keeps doclets above in JS file\n\n        return NavigationBindings;\n    });\n    _registerModule(_modules, 'masters/modules/annotations.src.js', [_modules['Core/Globals.js'], _modules['Extensions/Annotations/Annotation.js'], _modules['Extensions/Annotations/NavigationBindings.js']], function (Highcharts, Annotation, NavigationBindings) {\n\n        var G = Highcharts;\n        G.Annotation = G.Annotation || Annotation;\n        G.NavigationBindings = G.NavigationBindings || NavigationBindings;\n        G.Annotation.compose(G.Chart, G.NavigationBindings, G.Pointer, G.SVGRenderer);\n\n        return Highcharts;\n    });\n    _registerModule(_modules, 'Extensions/Annotations/Types/BasicAnnotation.js', [_modules['Extensions/Annotations/Annotation.js'], _modules['Extensions/Annotations/MockPoint.js'], _modules['Core/Utilities.js']], function (Annotation, MockPoint, U) {\n        /* *\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        var merge = U.merge;\n        /* *\n         *\n         *  Class\n         *\n         * */\n        var BasicAnnotation = /** @class */ (function (_super) {\n            __extends(BasicAnnotation, _super);\n            function BasicAnnotation() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            BasicAnnotation.prototype.addControlPoints = function () {\n                var options = this.options, controlPoints = BasicAnnotation.basicControlPoints, annotationType = this.basicType, optionsGroup = (options.labels ||\n                    options.shapes ||\n                    []);\n                optionsGroup.forEach(function (group) {\n                    group.controlPoints = controlPoints[annotationType];\n                });\n            };\n            BasicAnnotation.prototype.init = function () {\n                var options = this.options;\n                if (options.shapes) {\n                    delete options.labelOptions;\n                    var type = options.shapes[0].type;\n                    options.shapes[0].className =\n                        (options.shapes[0].className || '') + ' highcharts-basic-shape';\n                    // The rectangle is rendered as a path, whereas other basic shapes\n                    // are rendered as their respective SVG shapes.\n                    if (type && type !== 'path') {\n                        this.basicType = type;\n                    }\n                    else {\n                        this.basicType = 'rectangle';\n                    }\n                }\n                else {\n                    delete options.shapes;\n                    this.basicType = 'label';\n                }\n                _super.prototype.init.apply(this, arguments);\n            };\n            /* *\n             *\n             *  Static Properties\n             *\n             * */\n            BasicAnnotation.basicControlPoints = {\n                label: [{\n                        symbol: 'triangle-down',\n                        positioner: function (target) {\n                            if (!target.graphic.placed) {\n                                return {\n                                    x: 0,\n                                    y: -9e7\n                                };\n                            }\n                            var xy = MockPoint\n                                .pointToPixels(target.points[0]);\n                            return {\n                                x: xy.x - (this.graphic.width || 0) / 2,\n                                y: xy.y - (this.graphic.height || 0) / 2\n                            };\n                        },\n                        // TRANSLATE POINT/ANCHOR\n                        events: {\n                            drag: function (e, target) {\n                                var xy = this.mouseMoveToTranslation(e);\n                                target.translatePoint(xy.x, xy.y);\n                                target.annotation.userOptions.labels[0].point =\n                                    target.options.point;\n                                target.redraw(false);\n                            }\n                        }\n                    }, {\n                        symbol: 'square',\n                        positioner: function (target) {\n                            if (!target.graphic.placed) {\n                                return {\n                                    x: 0,\n                                    y: -9e7\n                                };\n                            }\n                            return {\n                                x: target.graphic.alignAttr.x -\n                                    (this.graphic.width || 0) / 2,\n                                y: target.graphic.alignAttr.y -\n                                    (this.graphic.height || 0) / 2\n                            };\n                        },\n                        // TRANSLATE POSITION WITHOUT CHANGING THE\n                        // ANCHOR\n                        events: {\n                            drag: function (e, target) {\n                                var xy = this.mouseMoveToTranslation(e);\n                                target.translate(xy.x, xy.y);\n                                target.annotation.userOptions.labels[0].point =\n                                    target.options.point;\n                                target.redraw(false);\n                            }\n                        }\n                    }],\n                rectangle: [{\n                        positioner: function (annotation) {\n                            var xy = MockPoint\n                                .pointToPixels(annotation.points[2]);\n                            return {\n                                x: xy.x - 4,\n                                y: xy.y - 4\n                            };\n                        },\n                        events: {\n                            drag: function (e, target) {\n                                var _a, _b, _c;\n                                var annotation = target.annotation, coords = (_a = this.chart.pointer) === null || _a === void 0 ? void 0 : _a.getCoordinates(e), points = target.options.points, shapes = annotation.userOptions.shapes, xAxisIndex = ((_b = annotation.clipXAxis) === null || _b === void 0 ? void 0 : _b.index) || 0, yAxisIndex = ((_c = annotation.clipYAxis) === null || _c === void 0 ? void 0 : _c.index) || 0;\n                                if (coords) {\n                                    var x = coords.xAxis[xAxisIndex].value, y = coords.yAxis[yAxisIndex].value;\n                                    // Top right point\n                                    points[1].x = x;\n                                    // Bottom right point (cursor position)\n                                    points[2].x = x;\n                                    points[2].y = y;\n                                    // Bottom left\n                                    points[3].y = y;\n                                    if (shapes && shapes[0]) {\n                                        shapes[0].points = target.options.points;\n                                    }\n                                }\n                                annotation.redraw(false);\n                            }\n                        }\n                    }],\n                circle: [{\n                        positioner: function (target) {\n                            var xy = MockPoint.pointToPixels(target.points[0]), r = target.options.r;\n                            return {\n                                x: xy.x + r * Math.cos(Math.PI / 4) -\n                                    (this.graphic.width || 0) / 2,\n                                y: xy.y + r * Math.sin(Math.PI / 4) -\n                                    (this.graphic.height || 0) / 2\n                            };\n                        },\n                        events: {\n                            // TRANSFORM RADIUS ACCORDING TO Y\n                            // TRANSLATION\n                            drag: function (e, target) {\n                                var annotation = target.annotation, position = this.mouseMoveToTranslation(e), shapes = annotation.userOptions.shapes;\n                                target.setRadius(Math.max(target.options.r +\n                                    position.y /\n                                        Math.sin(Math.PI / 4), 5));\n                                if (shapes && shapes[0]) {\n                                    shapes[0].r = target.options.r;\n                                    shapes[0].point = target.options.point;\n                                }\n                                target.redraw(false);\n                            }\n                        }\n                    }],\n                ellipse: [{\n                        positioner: function (target) {\n                            var position = target.getAbsolutePosition(target.points[0]);\n                            return {\n                                x: position.x - (this.graphic.width || 0) / 2,\n                                y: position.y - (this.graphic.height || 0) / 2\n                            };\n                        },\n                        events: {\n                            drag: function (e, target) {\n                                var position = target.getAbsolutePosition(target.points[0]);\n                                target.translatePoint(e.chartX - position.x, e.chartY - position.y, 0);\n                                target.redraw(false);\n                            }\n                        }\n                    }, {\n                        positioner: function (target) {\n                            var position = target.getAbsolutePosition(target.points[1]);\n                            return {\n                                x: position.x - (this.graphic.width || 0) / 2,\n                                y: position.y - (this.graphic.height || 0) / 2\n                            };\n                        },\n                        events: {\n                            drag: function (e, target) {\n                                var position = target.getAbsolutePosition(target.points[1]);\n                                target.translatePoint(e.chartX - position.x, e.chartY - position.y, 1);\n                                target.redraw(false);\n                            }\n                        }\n                    }, {\n                        positioner: function (target) {\n                            var position = target.getAbsolutePosition(target.points[0]), position2 = target.getAbsolutePosition(target.points[1]), attrs = target.getAttrs(position, position2);\n                            return {\n                                x: attrs.cx - (this.graphic.width || 0) / 2 +\n                                    attrs.ry * Math.sin((attrs.angle * Math.PI) / 180),\n                                y: attrs.cy - (this.graphic.height || 0) / 2 -\n                                    attrs.ry * Math.cos((attrs.angle * Math.PI) / 180)\n                            };\n                        },\n                        events: {\n                            drag: function (e, target) {\n                                var position = target.getAbsolutePosition(target.points[0]), position2 = target.getAbsolutePosition(target.points[1]), newR = target.getDistanceFromLine(position, position2, e.chartX, e.chartY), yAxis = target.getYAxis(), newRY = Math.abs(yAxis.toValue(0) - yAxis.toValue(newR));\n                                target.setYRadius(newRY);\n                                target.redraw(false);\n                            }\n                        }\n                    }]\n            };\n            return BasicAnnotation;\n        }(Annotation));\n        BasicAnnotation.prototype.defaultOptions = merge(Annotation.prototype.defaultOptions, {});\n        Annotation.types.basicAnnotation = BasicAnnotation;\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return BasicAnnotation;\n    });\n    _registerModule(_modules, 'Extensions/Annotations/Types/CrookedLine.js', [_modules['Extensions/Annotations/Annotation.js'], _modules['Extensions/Annotations/ControlPoint.js'], _modules['Extensions/Annotations/MockPoint.js'], _modules['Core/Utilities.js']], function (Annotation, ControlPoint, MockPoint, U) {\n        /* *\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        var merge = U.merge;\n        /* *\n         *\n         *  Class\n         *\n         * */\n        var CrookedLine = /** @class */ (function (_super) {\n            __extends(CrookedLine, _super);\n            function CrookedLine() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            /**\n             * Overrides default setter to get axes from typeOptions.\n             * @private\n             */\n            CrookedLine.prototype.setClipAxes = function () {\n                this.clipXAxis = this.chart.xAxis[this.options.typeOptions.xAxis];\n                this.clipYAxis = this.chart.yAxis[this.options.typeOptions.yAxis];\n            };\n            CrookedLine.prototype.getPointsOptions = function () {\n                var typeOptions = this.options.typeOptions;\n                return (typeOptions.points || []).map(function (pointOptions) {\n                    pointOptions.xAxis = typeOptions.xAxis;\n                    pointOptions.yAxis = typeOptions.yAxis;\n                    return pointOptions;\n                });\n            };\n            CrookedLine.prototype.getControlPointsOptions = function () {\n                return this.getPointsOptions();\n            };\n            CrookedLine.prototype.addControlPoints = function () {\n                this.getControlPointsOptions().forEach(function (pointOptions, i) {\n                    var controlPoint = new ControlPoint(this.chart, this, merge(this.options.controlPointOptions, pointOptions.controlPoint), i);\n                    this.controlPoints.push(controlPoint);\n                    pointOptions.controlPoint = controlPoint.options;\n                }, this);\n            };\n            CrookedLine.prototype.addShapes = function () {\n                var typeOptions = this.options.typeOptions, shape = this.initShape(merge(typeOptions.line, {\n                    type: 'path',\n                    className: 'highcharts-crooked-lines',\n                    points: this.points.map(function (_point, i) { return (function (target) {\n                        return target.annotation.points[i];\n                    }); })\n                }), 0);\n                typeOptions.line = shape.options;\n            };\n            return CrookedLine;\n        }(Annotation));\n        CrookedLine.prototype.defaultOptions = merge(Annotation.prototype.defaultOptions, \n        /**\n         * A crooked line annotation.\n         *\n         * @sample highcharts/annotations-advanced/crooked-line/\n         *         Crooked line\n         *\n         * @product      highstock\n         * @optionparent annotations.crookedLine\n         */\n        {\n            /**\n             * @extends   annotations.labelOptions\n             * @apioption annotations.crookedLine.labelOptions\n             */\n            /**\n             * @extends   annotations.shapeOptions\n             * @apioption annotations.crookedLine.shapeOptions\n             */\n            /**\n             * Additional options for an annotation with the type.\n             */\n            typeOptions: {\n                /**\n                 * This number defines which xAxis the point is connected to.\n                 * It refers to either the axis id or the index of the axis\n                 * in the xAxis array.\n                 */\n                xAxis: 0,\n                /**\n                 * This number defines which yAxis the point is connected to.\n                 * It refers to either the axis id or the index of the axis\n                 * in the xAxis array.\n                 */\n                yAxis: 0,\n                /**\n                 * @type      {Array<*>}\n                 * @apioption annotations.crookedLine.typeOptions.points\n                 */\n                /**\n                 * The x position of the point.\n                 *\n                 * @type      {number}\n                 * @apioption annotations.crookedLine.typeOptions.points.x\n                 */\n                /**\n                 * The y position of the point.\n                 *\n                 * @type      {number}\n                 * @apioption annotations.crookedLine.typeOptions.points.y\n                 */\n                /**\n                 * @type      {number}\n                 * @excluding positioner, events\n                 * @apioption annotations.crookedLine.typeOptions.points.controlPoint\n                 */\n                /**\n                 * Line options.\n                 *\n                 * @excluding height, point, points, r, type, width\n                 */\n                line: {\n                    fill: 'none'\n                }\n            },\n            /**\n             * @excluding positioner, events\n             */\n            controlPointOptions: {\n                positioner: function (target) {\n                    var graphic = this.graphic, xy = MockPoint.pointToPixels(target.points[this.index]);\n                    return {\n                        x: xy.x - (graphic.width || 0) / 2,\n                        y: xy.y - (graphic.height || 0) / 2\n                    };\n                },\n                events: {\n                    drag: function (e, target) {\n                        if (target.chart.isInsidePlot(e.chartX - target.chart.plotLeft, e.chartY - target.chart.plotTop, {\n                            visiblePlotOnly: true\n                        })) {\n                            var translation = this.mouseMoveToTranslation(e), typeOptions = target.options.typeOptions;\n                            target.translatePoint(translation.x, translation.y, this.index);\n                            // Update options:\n                            typeOptions.points[this.index].x =\n                                target.points[this.index].x;\n                            typeOptions.points[this.index].y =\n                                target.points[this.index].y;\n                            target.redraw(false);\n                        }\n                    }\n                }\n            }\n        });\n        Annotation.types.crookedLine = CrookedLine;\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return CrookedLine;\n    });\n    _registerModule(_modules, 'Extensions/Annotations/Types/ElliottWave.js', [_modules['Extensions/Annotations/Annotation.js'], _modules['Extensions/Annotations/Types/CrookedLine.js'], _modules['Core/Utilities.js']], function (Annotation, CrookedLine, U) {\n        /* *\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        var merge = U.merge;\n        /* *\n         *\n         *  Class\n         *\n         * */\n        var ElliottWave = /** @class */ (function (_super) {\n            __extends(ElliottWave, _super);\n            function ElliottWave() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            /* *\n             *\n             * Functions\n             *\n             * */\n            ElliottWave.prototype.addLabels = function () {\n                var _this = this;\n                this.getPointsOptions().forEach(function (point, i) {\n                    var typeOptions = _this.options.typeOptions, label = _this.initLabel(merge(point.label, {\n                        text: typeOptions.labels[i],\n                        point: function (target) {\n                            return target.annotation.points[i];\n                        }\n                    }), false);\n                    point.label = label.options;\n                });\n            };\n            return ElliottWave;\n        }(CrookedLine));\n        ElliottWave.prototype.defaultOptions = merge(CrookedLine.prototype.defaultOptions, \n        /**\n         * An elliott wave annotation.\n         *\n         * @sample highcharts/annotations-advanced/elliott-wave/\n         *         Elliott wave\n         *\n         * @extends      annotations.crookedLine\n         * @product      highstock\n         * @optionparent annotations.elliottWave\n         */\n        {\n            typeOptions: {\n                /**\n                 * @extends   annotations.crookedLine.labelOptions\n                 * @apioption annotations.elliottWave.typeOptions.points.label\n                 */\n                /**\n                 * @ignore-option\n                 */\n                labels: ['(0)', '(A)', '(B)', '(C)', '(D)', '(E)'],\n                line: {\n                    strokeWidth: 1\n                }\n            },\n            labelOptions: {\n                align: 'center',\n                allowOverlap: true,\n                crop: true,\n                overflow: 'none',\n                type: 'rect',\n                backgroundColor: 'none',\n                borderWidth: 0,\n                y: -5\n            }\n        });\n        Annotation.types.elliottWave = ElliottWave;\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return ElliottWave;\n    });\n    _registerModule(_modules, 'Extensions/Annotations/Types/Tunnel.js', [_modules['Extensions/Annotations/Annotation.js'], _modules['Extensions/Annotations/ControlPoint.js'], _modules['Extensions/Annotations/Types/CrookedLine.js'], _modules['Extensions/Annotations/MockPoint.js'], _modules['Core/Utilities.js']], function (Annotation, ControlPoint, CrookedLine, MockPoint, U) {\n        /* *\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        var merge = U.merge;\n        /* *\n         *\n         *  Functions\n         *\n         * */\n        /**\n         * @private\n         */\n        function getSecondCoordinate(p1, p2, x) {\n            return (p2.y - p1.y) / (p2.x - p1.x) * (x - p1.x) + p1.y;\n        }\n        /* *\n         *\n         *  Class\n         *\n         * */\n        var Tunnel = /** @class */ (function (_super) {\n            __extends(Tunnel, _super);\n            function Tunnel() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            /* *\n             *\n             * Functions\n             *\n             * */\n            Tunnel.prototype.getPointsOptions = function () {\n                var pointsOptions = CrookedLine.prototype.getPointsOptions.call(this), yAxisIndex = this.options.typeOptions.yAxis || 0, yAxis = this.chart.yAxis[yAxisIndex];\n                pointsOptions[2] = this.heightPointOptions(pointsOptions[1]);\n                pointsOptions[3] = this.heightPointOptions(pointsOptions[0]);\n                // In case of log axis, translate the bottom left point again, #16769\n                if (yAxis && yAxis.logarithmic) {\n                    // Get the height in pixels\n                    var h = yAxis.toPixels(pointsOptions[2].y) -\n                        yAxis.toPixels(pointsOptions[1].y), \n                    // Get the pixel position of the last point\n                    y3 = yAxis.toPixels(pointsOptions[0].y) + h;\n                    // Set the new value\n                    pointsOptions[3].y = yAxis.toValue(y3);\n                }\n                return pointsOptions;\n            };\n            Tunnel.prototype.getControlPointsOptions = function () {\n                return this.getPointsOptions().slice(0, 2);\n            };\n            Tunnel.prototype.heightPointOptions = function (pointOptions) {\n                var heightPointOptions = merge(pointOptions), typeOptions = this.options.typeOptions;\n                heightPointOptions.y += typeOptions.height;\n                return heightPointOptions;\n            };\n            Tunnel.prototype.addControlPoints = function () {\n                CrookedLine.prototype.addControlPoints.call(this);\n                var options = this.options, typeOptions = options.typeOptions, controlPoint = new ControlPoint(this.chart, this, merge(options.controlPointOptions, typeOptions.heightControlPoint), 2);\n                this.controlPoints.push(controlPoint);\n                typeOptions.heightControlPoint = controlPoint.options;\n            };\n            Tunnel.prototype.addShapes = function () {\n                this.addLine();\n                this.addBackground();\n            };\n            Tunnel.prototype.addLine = function () {\n                var line = this.initShape(merge(this.options.typeOptions.line, {\n                    type: 'path',\n                    points: [\n                        this.points[0],\n                        this.points[1],\n                        function (target) {\n                            var pointOptions = MockPoint.pointToOptions(target.annotation.points[2]);\n                            pointOptions.command = 'M';\n                            return pointOptions;\n                        },\n                        this.points[3]\n                    ],\n                    className: 'highcharts-tunnel-lines'\n                }), 0);\n                this.options.typeOptions.line = line.options;\n            };\n            Tunnel.prototype.addBackground = function () {\n                var background = this.initShape(merge(this.options.typeOptions.background, {\n                    type: 'path',\n                    points: this.points.slice(),\n                    className: 'highcharts-tunnel-background'\n                }), 1);\n                this.options.typeOptions.background = background.options;\n            };\n            /**\n             * Translate start or end (\"left\" or \"right\") side of the tunnel.\n             * @private\n             * @param {number} dx\n             * the amount of x translation\n             * @param {number} dy\n             * the amount of y translation\n             * @param {boolean} [end]\n             * whether to translate start or end side\n             */\n            Tunnel.prototype.translateSide = function (dx, dy, end) {\n                var topIndex = Number(end), bottomIndex = topIndex === 0 ? 3 : 2;\n                this.translatePoint(dx, dy, topIndex);\n                this.translatePoint(dx, dy, bottomIndex);\n            };\n            /**\n             * Translate height of the tunnel.\n             * @private\n             * @param {number} dh\n             * the amount of height translation\n             */\n            Tunnel.prototype.translateHeight = function (dh) {\n                this.translatePoint(0, dh, 2);\n                this.translatePoint(0, dh, 3);\n                this.options.typeOptions.height = this.points[3].y -\n                    this.points[0].y;\n                this.userOptions.typeOptions.height = this.options.typeOptions.height;\n            };\n            return Tunnel;\n        }(CrookedLine));\n        Tunnel.prototype.defaultOptions = merge(CrookedLine.prototype.defaultOptions, \n        /**\n         * A tunnel annotation.\n         *\n         * @extends annotations.crookedLine\n         * @sample highcharts/annotations-advanced/tunnel/\n         *         Tunnel\n         * @product highstock\n         * @optionparent annotations.tunnel\n         */\n        {\n            typeOptions: {\n                /**\n                 * Background options.\n                 *\n                 * @type {Object}\n                 * @excluding height, point, points, r, type, width, markerEnd,\n                 *            markerStart\n                 */\n                background: {\n                    fill: 'rgba(130, 170, 255, 0.4)',\n                    strokeWidth: 0\n                },\n                line: {\n                    strokeWidth: 1\n                },\n                /**\n                 * The height of the annotation in terms of yAxis.\n                 */\n                height: -2,\n                /**\n                 * Options for the control point which controls\n                 * the annotation's height.\n                 *\n                 * @extends annotations.crookedLine.controlPointOptions\n                 * @excluding positioner, events\n                 */\n                heightControlPoint: {\n                    positioner: function (target) {\n                        var startXY = MockPoint.pointToPixels(target.points[2]), endXY = MockPoint.pointToPixels(target.points[3]), x = (startXY.x + endXY.x) / 2;\n                        return {\n                            x: x - (this.graphic.width || 0) / 2,\n                            y: getSecondCoordinate(startXY, endXY, x) -\n                                (this.graphic.height || 0) / 2\n                        };\n                    },\n                    events: {\n                        drag: function (e, target) {\n                            if (target.chart.isInsidePlot(e.chartX - target.chart.plotLeft, e.chartY - target.chart.plotTop, {\n                                visiblePlotOnly: true\n                            })) {\n                                target.translateHeight(this.mouseMoveToTranslation(e).y);\n                                target.redraw(false);\n                            }\n                        }\n                    }\n                }\n            },\n            /**\n             * @extends annotations.crookedLine.controlPointOptions\n             * @excluding positioner, events\n             */\n            controlPointOptions: {\n                events: {\n                    drag: function (e, target) {\n                        if (target.chart.isInsidePlot(e.chartX - target.chart.plotLeft, e.chartY - target.chart.plotTop, {\n                            visiblePlotOnly: true\n                        })) {\n                            var translation = this.mouseMoveToTranslation(e);\n                            target.translateSide(translation.x, translation.y, !!this.index);\n                            target.redraw(false);\n                        }\n                    }\n                }\n            }\n        });\n        Annotation.types.tunnel = Tunnel;\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return Tunnel;\n    });\n    _registerModule(_modules, 'Extensions/Annotations/Types/InfinityLine.js', [_modules['Extensions/Annotations/Annotation.js'], _modules['Extensions/Annotations/Types/CrookedLine.js'], _modules['Extensions/Annotations/MockPoint.js'], _modules['Core/Utilities.js']], function (Annotation, CrookedLine, MockPoint, U) {\n        /* *\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        var merge = U.merge;\n        /* *\n         *\n         *  Class\n         *\n         * */\n        var InfinityLine = /** @class */ (function (_super) {\n            __extends(InfinityLine, _super);\n            function InfinityLine() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            /* *\n             *\n             *  Static Functions\n             *\n             * */\n            InfinityLine.edgePoint = function (startIndex, endIndex) {\n                return function (target) {\n                    var annotation = target.annotation, type = annotation.options.typeOptions.type;\n                    var points = annotation.points;\n                    if (type === 'horizontalLine' || type === 'verticalLine') {\n                        // Horizontal and vertical lines have only one point,\n                        // make a copy of it:\n                        points = [\n                            points[0],\n                            new MockPoint(annotation.chart, points[0].target, {\n                                // Add 0 or 1 to x or y depending on type\n                                x: points[0].x + +(type === 'horizontalLine'),\n                                y: points[0].y + +(type === 'verticalLine'),\n                                xAxis: points[0].options.xAxis,\n                                yAxis: points[0].options.yAxis\n                            })\n                        ];\n                    }\n                    return InfinityLine.findEdgePoint(points[startIndex], points[endIndex]);\n                };\n            };\n            InfinityLine.findEdgeCoordinate = function (firstPoint, secondPoint, xOrY, edgePointFirstCoordinate) {\n                var xOrYOpposite = xOrY === 'x' ? 'y' : 'x';\n                // Solves equation for x or y\n                // y - y1 = (y2 - y1) / (x2 - x1) * (x - x1)\n                return ((secondPoint[xOrY] - firstPoint[xOrY]) *\n                    (edgePointFirstCoordinate - firstPoint[xOrYOpposite]) /\n                    (secondPoint[xOrYOpposite] - firstPoint[xOrYOpposite]) +\n                    firstPoint[xOrY]);\n            };\n            InfinityLine.findEdgePoint = function (firstPoint, secondPoint) {\n                var chart = firstPoint.series.chart, xAxis = firstPoint.series.xAxis, yAxis = secondPoint.series.yAxis, firstPointPixels = MockPoint.pointToPixels(firstPoint), secondPointPixels = MockPoint.pointToPixels(secondPoint), deltaX = secondPointPixels.x - firstPointPixels.x, deltaY = secondPointPixels.y - firstPointPixels.y, xAxisMin = xAxis.left, xAxisMax = xAxisMin + xAxis.width, yAxisMin = yAxis.top, yAxisMax = yAxisMin + yAxis.height, xLimit = deltaX < 0 ? xAxisMin : xAxisMax, yLimit = deltaY < 0 ? yAxisMin : yAxisMax, edgePoint = {\n                    x: deltaX === 0 ? firstPointPixels.x : xLimit,\n                    y: deltaY === 0 ? firstPointPixels.y : yLimit\n                };\n                var edgePointX, edgePointY, swap;\n                if (deltaX !== 0 && deltaY !== 0) {\n                    edgePointY = InfinityLine.findEdgeCoordinate(firstPointPixels, secondPointPixels, 'y', xLimit);\n                    edgePointX = InfinityLine.findEdgeCoordinate(firstPointPixels, secondPointPixels, 'x', yLimit);\n                    if (edgePointY >= yAxisMin && edgePointY <= yAxisMax) {\n                        edgePoint.x = xLimit;\n                        edgePoint.y = edgePointY;\n                    }\n                    else {\n                        edgePoint.x = edgePointX;\n                        edgePoint.y = yLimit;\n                    }\n                }\n                edgePoint.x -= chart.plotLeft;\n                edgePoint.y -= chart.plotTop;\n                if (firstPoint.series.chart.inverted) {\n                    swap = edgePoint.x;\n                    edgePoint.x = edgePoint.y;\n                    edgePoint.y = swap;\n                }\n                return edgePoint;\n            };\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            InfinityLine.prototype.addShapes = function () {\n                var typeOptions = this.options.typeOptions, points = [\n                    this.points[0],\n                    InfinityLine.endEdgePoint\n                ];\n                // Be case-insensitive (#15155) e.g.:\n                // - line\n                // - horizontalLine\n                // - verticalLine\n                if (typeOptions.type.match(/line/gi)) {\n                    points[0] = InfinityLine.startEdgePoint;\n                }\n                var line = this.initShape(merge(typeOptions.line, {\n                    type: 'path',\n                    points: points,\n                    className: 'highcharts-infinity-lines'\n                }), 0);\n                typeOptions.line = line.options;\n            };\n            /* *\n             *\n             *  Static Properties\n             *\n             * */\n            InfinityLine.endEdgePoint = InfinityLine.edgePoint(0, 1);\n            InfinityLine.startEdgePoint = InfinityLine.edgePoint(1, 0);\n            return InfinityLine;\n        }(CrookedLine));\n        InfinityLine.prototype.defaultOptions = merge(CrookedLine.prototype.defaultOptions, {});\n        Annotation.types.infinityLine = InfinityLine;\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n        /* *\n         *\n         *  API Declarations\n         *\n         * */\n        /**\n         * An infinity line annotation.\n         *\n         * @sample highcharts/annotations-advanced/infinity-line/\n         *         Infinity Line\n         *\n         * @extends   annotations.crookedLine\n         * @product   highstock\n         * @apioption annotations.infinityLine\n         */\n        (''); // Keeps doclets above in transpiled file\n\n        return InfinityLine;\n    });\n    _registerModule(_modules, 'Extensions/Annotations/Types/TimeCycles.js', [_modules['Extensions/Annotations/Annotation.js'], _modules['Extensions/Annotations/Types/CrookedLine.js'], _modules['Extensions/Annotations/ControlPoint.js'], _modules['Core/Utilities.js']], function (Annotation, CrookedLine, ControlPoint, U) {\n        /* *\n         *\n         *  Authors: Rafal Sebestjanski and Pawel Lysy\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        var merge = U.merge, isNumber = U.isNumber, defined = U.defined;\n        /* *\n         *\n         *  Functions\n         *\n         * */\n        /**\n         * Function to create start of the path.\n         * @param {number} x x position of the TimeCycles\n         * @param {number} y y position of the TimeCycles\n         * @return {string} path\n         */\n        function getStartingPath(x, y) {\n            return ['M', x, y];\n        }\n        /**\n         * Function which generates the path of the halfcircle.\n         *\n         * @param {number} pixelInterval diameter of the circle in pixels\n         * @param {number} numberOfCircles number of cricles\n         * @param {number} startX x position of the first circle\n         * @param {number} y y position of the bottom of the timeCycles\n         * @return {string} path\n         *\n         */\n        function getCirclePath(pixelInterval, numberOfCircles, startX, y) {\n            var path = [];\n            for (var i = 1; i <= numberOfCircles; i++) {\n                path.push([\n                    'A',\n                    pixelInterval / 2,\n                    pixelInterval / 2,\n                    0,\n                    1,\n                    1,\n                    startX + i * pixelInterval,\n                    y\n                ]);\n            }\n            return path;\n        }\n        /* *\n         *\n         *  Class\n         *\n         * */\n        var TimeCycles = /** @class */ (function (_super) {\n            __extends(TimeCycles, _super);\n            function TimeCycles() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            TimeCycles.prototype.init = function (annotation, userOptions, index) {\n                if (defined(userOptions.yAxis)) {\n                    userOptions.points.forEach(function (point) {\n                        point.yAxis = userOptions.yAxis;\n                    });\n                }\n                if (defined(userOptions.xAxis)) {\n                    userOptions.points.forEach(function (point) {\n                        point.xAxis = userOptions.xAxis;\n                    });\n                }\n                _super.prototype.init.call(this, annotation, userOptions, index);\n            };\n            TimeCycles.prototype.setPath = function () {\n                this.shapes[0].options.d = this.getPath();\n            };\n            TimeCycles.prototype.getPath = function () {\n                return [getStartingPath(this.startX, this.y)].concat(getCirclePath(this.pixelInterval, this.numberOfCircles, this.startX, this.y));\n            };\n            TimeCycles.prototype.addShapes = function () {\n                var typeOptions = this.options.typeOptions;\n                this.setPathProperties();\n                var shape = this.initShape(merge(typeOptions.line, {\n                    type: 'path',\n                    d: this.getPath(),\n                    points: this.options.points,\n                    className: 'highcharts-timecycles-lines'\n                }), 0);\n                typeOptions.line = shape.options;\n            };\n            TimeCycles.prototype.addControlPoints = function () {\n                var _this = this;\n                var options = this.options, typeOptions = options.typeOptions;\n                options.controlPointOptions.style.cursor = this.chart.inverted ?\n                    'ns-resize' :\n                    'ew-resize';\n                typeOptions.controlPointOptions.forEach(function (option) {\n                    var controlPointsOptions = merge(options.controlPointOptions, option);\n                    var controlPoint = new ControlPoint(_this.chart, _this, controlPointsOptions, 0);\n                    _this.controlPoints.push(controlPoint);\n                });\n            };\n            TimeCycles.prototype.setPathProperties = function () {\n                var options = this.options.typeOptions, points = options.points;\n                if (!points) {\n                    return;\n                }\n                var point1 = points[0], point2 = points[1], xAxisNumber = options.xAxis || 0, yAxisNumber = options.yAxis || 0, xAxis = this.chart.xAxis[xAxisNumber], yAxis = this.chart.yAxis[yAxisNumber], xValue1 = point1.x, yValue = point1.y, xValue2 = point2.x;\n                if (!xValue1 || !xValue2) {\n                    return;\n                }\n                var y = isNumber(yValue) ?\n                    yAxis.toPixels(yValue) :\n                    yAxis.top + yAxis.height, x = isNumber(xValue1) ? xAxis.toPixels(xValue1) : xAxis.left, x2 = isNumber(xValue2) ? xAxis.toPixels(xValue2) : xAxis.left + 30, xAxisLength = xAxis.len, pixelInterval = Math.round(Math.max(Math.abs(x2 - x), 2)), \n                // There can be 2 not full circles on the chart, so add 2.\n                numberOfCircles = Math.floor(xAxisLength / pixelInterval) + 2, \n                // Calculate where the annotation should start drawing relative to\n                // first point.\n                pixelShift = (Math.floor((x - xAxis.left) / pixelInterval) + 1) * pixelInterval;\n                this.startX = x - pixelShift;\n                this.y = y;\n                this.pixelInterval = pixelInterval;\n                this.numberOfCircles = numberOfCircles;\n            };\n            TimeCycles.prototype.redraw = function (animation) {\n                this.setPathProperties();\n                this.setPath();\n                _super.prototype.redraw.call(this, animation);\n            };\n            return TimeCycles;\n        }(CrookedLine));\n        TimeCycles.prototype.defaultOptions = merge(CrookedLine.prototype.defaultOptions, \n        /**\n         * The TimeCycles Annotation\n         *\n         * @sample highcharts/annotations-advanced/time-cycles/\n         *         Time Cycles annotation\n         *\n         * @extends      annotations.crookedLine\n         * @product      highstock\n         * @exclude      labelOptions\n         * @optionparent annotations.timeCycles\n         */\n        {\n            typeOptions: {\n                /**\n                 * @exclude   y\n                 * @product   highstock\n                 * @apioption annotations.timeCycles.typeOptions.points\n                 */\n                controlPointOptions: [{\n                        positioner: function (target) {\n                            var point = target.points[0], position = target.anchor(point).absolutePosition;\n                            return {\n                                x: position.x - (this.graphic.width || 0) / 2,\n                                y: target.y - (this.graphic.height || 0)\n                            };\n                        },\n                        events: {\n                            drag: function (e, target) {\n                                var position = target.anchor(target.points[0]).absolutePosition;\n                                target.translatePoint(e.chartX - position.x, 0, 0);\n                                target.redraw(false);\n                            }\n                        }\n                    }, {\n                        positioner: function (target) {\n                            var point = target.points[1], position = target.anchor(point).absolutePosition;\n                            return {\n                                x: position.x - (this.graphic.width || 0) / 2,\n                                y: target.y - (this.graphic.height || 0)\n                            };\n                        },\n                        events: {\n                            drag: function (e, target) {\n                                var position = target.anchor(target.points[1]).absolutePosition;\n                                target.translatePoint(e.chartX - position.x, 0, 1);\n                                target.redraw(false);\n                            }\n                        }\n                    }]\n            }\n        });\n        Annotation.types.timeCycles = TimeCycles;\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return TimeCycles;\n    });\n    _registerModule(_modules, 'Extensions/Annotations/Types/Fibonacci.js', [_modules['Extensions/Annotations/Annotation.js'], _modules['Extensions/Annotations/MockPoint.js'], _modules['Extensions/Annotations/Types/Tunnel.js'], _modules['Core/Utilities.js']], function (Annotation, MockPoint, Tunnel, U) {\n        /* *\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        var merge = U.merge;\n        /* *\n         *\n         *  Functions\n         *\n         * */\n        /**\n         * @private\n         */\n        function createPathDGenerator(retracementIndex, isBackground) {\n            return function () {\n                var annotation = this.annotation;\n                if (!annotation.startRetracements || !annotation.endRetracements) {\n                    return [];\n                }\n                var leftTop = this.anchor(annotation.startRetracements[retracementIndex]).absolutePosition, rightTop = this.anchor(annotation.endRetracements[retracementIndex]).absolutePosition, d = [\n                    ['M', Math.round(leftTop.x), Math.round(leftTop.y)],\n                    ['L', Math.round(rightTop.x), Math.round(rightTop.y)]\n                ];\n                if (isBackground) {\n                    var rightBottom = this.anchor(annotation.endRetracements[retracementIndex - 1]).absolutePosition;\n                    var leftBottom = this.anchor(annotation.startRetracements[retracementIndex - 1]).absolutePosition;\n                    d.push(['L', Math.round(rightBottom.x), Math.round(rightBottom.y)], ['L', Math.round(leftBottom.x), Math.round(leftBottom.y)]);\n                }\n                return d;\n            };\n        }\n        /* *\n         *\n         *  Class\n         *\n         * */\n        var Fibonacci = /** @class */ (function (_super) {\n            __extends(Fibonacci, _super);\n            function Fibonacci() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            Fibonacci.prototype.linkPoints = function () {\n                _super.prototype.linkPoints.call(this);\n                this.linkRetracementsPoints();\n                return;\n            };\n            Fibonacci.prototype.linkRetracementsPoints = function () {\n                var _this = this;\n                var points = this.points, startDiff = points[0].y - points[3].y, endDiff = points[1].y - points[2].y, startX = points[0].x, endX = points[1].x;\n                Fibonacci.levels.forEach(function (level, i) {\n                    var startRetracement = points[0].y - startDiff * level, endRetracement = points[1].y - endDiff * level, index = _this.options.typeOptions.reversed ?\n                        (Fibonacci.levels.length - i - 1) : i;\n                    _this.startRetracements = _this.startRetracements || [];\n                    _this.endRetracements = _this.endRetracements || [];\n                    _this.linkRetracementPoint(index, startX, startRetracement, _this.startRetracements);\n                    _this.linkRetracementPoint(index, endX, endRetracement, _this.endRetracements);\n                });\n            };\n            Fibonacci.prototype.linkRetracementPoint = function (pointIndex, x, y, retracements) {\n                var point = retracements[pointIndex], typeOptions = this.options.typeOptions;\n                if (!point) {\n                    retracements[pointIndex] = new MockPoint(this.chart, this, {\n                        x: x,\n                        y: y,\n                        xAxis: typeOptions.xAxis,\n                        yAxis: typeOptions.yAxis\n                    });\n                }\n                else {\n                    point.options.x = x;\n                    point.options.y = y;\n                    point.refresh();\n                }\n            };\n            Fibonacci.prototype.addShapes = function () {\n                Fibonacci.levels.forEach(function (_level, i) {\n                    var _a = this.options.typeOptions, backgroundColors = _a.backgroundColors, lineColor = _a.lineColor, lineColors = _a.lineColors;\n                    this.initShape({\n                        type: 'path',\n                        d: createPathDGenerator(i),\n                        stroke: lineColors[i] || lineColor,\n                        className: 'highcharts-fibonacci-line'\n                    }, i);\n                    if (i > 0) {\n                        this.initShape({\n                            type: 'path',\n                            fill: backgroundColors[i - 1],\n                            strokeWidth: 0,\n                            d: createPathDGenerator(i, true),\n                            className: 'highcharts-fibonacci-background-' + (i - 1)\n                        });\n                    }\n                }, this);\n            };\n            Fibonacci.prototype.addLabels = function () {\n                Fibonacci.levels.forEach(function (level, i) {\n                    var options = this.options.typeOptions, label = this.initLabel(merge(options.labels[i], {\n                        point: function (target) {\n                            var point = MockPoint.pointToOptions(target.annotation.startRetracements[i]);\n                            return point;\n                        },\n                        text: level.toString()\n                    }));\n                    options.labels[i] = label.options;\n                }, this);\n            };\n            /* *\n             *\n             *  Static Properties\n             *\n             * */\n            Fibonacci.levels = [0, 0.236, 0.382, 0.5, 0.618, 0.786, 1];\n            return Fibonacci;\n        }(Tunnel));\n        Fibonacci.prototype.defaultOptions = merge(Tunnel.prototype.defaultOptions, \n        /**\n         * A fibonacci annotation.\n         *\n         * @sample highcharts/annotations-advanced/fibonacci/\n         *         Fibonacci\n         *\n         * @extends      annotations.crookedLine\n         * @product      highstock\n         * @optionparent annotations.fibonacci\n         */\n        {\n            typeOptions: {\n                /**\n                 * Whether the annotation levels should be reversed. By default they\n                 * start from 0 and go to 1.\n                 *\n                 * @sample highcharts/annotations-advanced/fibonacci-reversed/\n                 *         Fibonacci annotation reversed\n                 *\n                 * @type {boolean}\n                 * @apioption annotations.fibonacci.typeOptions.reversed\n                 */\n                reversed: false,\n                /**\n                 * The height of the fibonacci in terms of yAxis.\n                 */\n                height: 2,\n                /**\n                 * An array of background colors:\n                 * Default to:\n                 * ```\n                 * [\n                 * 'rgba(130, 170, 255, 0.4)',\n                 * 'rgba(139, 191, 216, 0.4)',\n                 * 'rgba(150, 216, 192, 0.4)',\n                 * 'rgba(156, 229, 161, 0.4)',\n                 * 'rgba(162, 241, 130, 0.4)',\n                 * 'rgba(169, 255, 101, 0.4)'\n                 * ]\n                 * ```\n                 */\n                backgroundColors: [\n                    'rgba(130, 170, 255, 0.4)',\n                    'rgba(139, 191, 216, 0.4)',\n                    'rgba(150, 216, 192, 0.4)',\n                    'rgba(156, 229, 161, 0.4)',\n                    'rgba(162, 241, 130, 0.4)',\n                    'rgba(169, 255, 101, 0.4)'\n                ],\n                /**\n                 * The color of line.\n                 */\n                lineColor: \"#999999\" /* Palette.neutralColor40 */,\n                /**\n                 * An array of colors for the lines.\n                 */\n                lineColors: [],\n                /**\n                 * An array with options for the labels.\n                 *\n                 * @type      {Array<*>}\n                 * @extends   annotations.crookedLine.labelOptions\n                 * @apioption annotations.fibonacci.typeOptions.labels\n                 */\n                labels: []\n            },\n            labelOptions: {\n                allowOverlap: true,\n                align: 'right',\n                backgroundColor: 'none',\n                borderWidth: 0,\n                crop: false,\n                overflow: 'none',\n                shape: 'rect',\n                style: {\n                    color: 'grey'\n                },\n                verticalAlign: 'middle',\n                y: 0\n            }\n        });\n        Annotation.types.fibonacci = Fibonacci;\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return Fibonacci;\n    });\n    _registerModule(_modules, 'Extensions/Annotations/Types/FibonacciTimeZones.js', [_modules['Extensions/Annotations/Annotation.js'], _modules['Extensions/Annotations/ControlPoint.js'], _modules['Extensions/Annotations/Types/CrookedLine.js'], _modules['Extensions/Annotations/Types/InfinityLine.js'], _modules['Extensions/Annotations/MockPoint.js'], _modules['Core/Utilities.js']], function (Annotation, ControlPoint, CrookedLine, InfinityLine, MockPoint, U) {\n        /* *\n         *\n         *  Author: Rafal Sebestjanski\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        var merge = U.merge;\n        /* *\n         *\n         *  Functions\n         *\n         * */\n        /**\n        Method taken (and slightly changed) from the InfinityLine annotation.\n\n        It uses x coordinate to create two mock points on the same x. Then,\n        it uses some logic from InfinityLine to find equation of the line passing\n        through our two points and, using that equation, it finds and returns\n        the coordinates of where the line intersects the plot area edges.\n\n        This is being done for each fibonacci time zone line.\n\n\n                this point here is found\n                    |\n                    v\n            |---------*--------------------------------------------------------|\n            |                                                                  |\n            |                                                                  |\n            |                                                                  |\n            |                                                                  |\n            |         *   copy of the primary point                            |\n            |                                                                  |\n            |         *   primary point (e.g. the one given in options)        |\n            |                                                                  |\n            |---------*--------------------------------------------------------|\n                and this point here is found (intersection with the plot area edge)\n\n        * @private\n        */\n        function edgePoint(startIndex, endIndex, fibonacciIndex) {\n            return function (target) {\n                var chart = target.annotation.chart, plotLeftOrTop = chart.inverted ? chart.plotTop : chart.plotLeft;\n                var points = target.annotation.points;\n                var xAxis = points[0].series.xAxis, \n                // Distance between the two first lines in pixels\n                deltaX = points.length > 1 ?\n                    points[1].plotX - points[0].plotX : 0, \n                // `firstLine.x + fibb * offset`\n                x = xAxis.toValue(points[0].plotX + plotLeftOrTop + fibonacciIndex * deltaX);\n                // We need 2 mock points with the same x coordinate, different y\n                points = [\n                    new MockPoint(chart, points[0].target, {\n                        x: x,\n                        y: 0,\n                        xAxis: points[0].options.xAxis,\n                        yAxis: points[0].options.yAxis\n                    }),\n                    new MockPoint(chart, points[0].target, {\n                        x: x,\n                        y: 1,\n                        xAxis: points[0].options.xAxis,\n                        yAxis: points[0].options.yAxis\n                    })\n                ];\n                return InfinityLine.findEdgePoint(points[startIndex], points[endIndex]);\n            };\n        }\n        /* *\n         *\n         *  Class\n         *\n         * */\n        var FibonacciTimeZones = /** @class */ (function (_super) {\n            __extends(FibonacciTimeZones, _super);\n            function FibonacciTimeZones() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            FibonacciTimeZones.prototype.addShapes = function () {\n                var numberOfLines = 11;\n                var fibb = 1, nextFibb = 1;\n                for (var i = 0; i < numberOfLines; i++) {\n                    // The fibb variable equals to 1 twice - correct it in the first\n                    // iteration so the lines don't overlap\n                    var correctedFibb = !i ? 0 : fibb, points = [\n                        edgePoint(1, 0, correctedFibb),\n                        edgePoint(0, 1, correctedFibb)\n                    ];\n                    // Calculate fibonacci\n                    nextFibb = fibb + nextFibb;\n                    fibb = nextFibb - fibb;\n                    // Save the second line for the control point\n                    if (i === 1) {\n                        this.secondLineEdgePoints = [points[0], points[1]];\n                    }\n                    this.initShape(merge(this.options.typeOptions.line, {\n                        type: 'path',\n                        points: points,\n                        className: 'highcharts-fibonacci-timezones-lines'\n                    }), i // Shape's index. Can be found in annotation.shapes[i].index\n                    );\n                }\n            };\n            FibonacciTimeZones.prototype.addControlPoints = function () {\n                var options = this.options, typeOptions = options.typeOptions, controlPoint = new ControlPoint(this.chart, this, merge(options.controlPointOptions, typeOptions.controlPointOptions), 0);\n                this.controlPoints.push(controlPoint);\n                typeOptions.controlPointOptions = controlPoint.options;\n            };\n            return FibonacciTimeZones;\n        }(CrookedLine));\n        FibonacciTimeZones.prototype.defaultOptions = merge(CrookedLine.prototype.defaultOptions, \n        /**\n         * The Fibonacci Time Zones annotation.\n         *\n         * @sample highcharts/annotations-advanced/fibonacci-time-zones/\n         *         Fibonacci Time Zones\n         *\n         * @extends      annotations.crookedLine\n         * @since        9.3.0\n         * @product      highstock\n         * @optionparent annotations.fibonacciTimeZones\n         */\n        {\n            typeOptions: {\n                /**\n                 * @exclude   y\n                 * @since     9.3.0\n                 * @product   highstock\n                 * @apioption annotations.fibonacciTimeZones.typeOptions.points\n                 */\n                // Options for showing in popup edit\n                line: {\n                    /**\n                     * The color of the lines.\n                     *\n                     * @type      {string}\n                     * @since     9.3.0\n                     * @default   'rgba(0, 0, 0, 0.75)'\n                     * @apioption annotations.fibonacciTimeZones.typeOptions.line.stroke\n                     */\n                    stroke: 'rgba(0, 0, 0, 0.75)',\n                    /**\n                     * The width of the lines.\n                     *\n                     * @type      {number}\n                     * @since     9.3.0\n                     * @default   1\n                     * @apioption annotations.fibonacciTimeZones.typeOptions.line.strokeWidth\n                     */\n                    strokeWidth: 1,\n                    // Don't inherit fill (don't display in popup edit)\n                    fill: void 0\n                },\n                controlPointOptions: {\n                    positioner: function () {\n                        var _a;\n                        // The control point is in the middle of the second line\n                        var target = this.target, graphic = this.graphic, edgePoints = target.secondLineEdgePoints, args = { annotation: target }, firstEdgePointY = edgePoints[0](args).y, secondEdgePointY = edgePoints[1](args).y, plotLeft = this.chart.plotLeft, plotTop = this.chart.plotTop;\n                        var x = edgePoints[0](args).x, y = (firstEdgePointY + secondEdgePointY) / 2;\n                        if (this.chart.inverted) {\n                            _a = [y, x], x = _a[0], y = _a[1];\n                        }\n                        return {\n                            x: plotLeft + x - (graphic.width || 0) / 2,\n                            y: plotTop + y - (graphic.height || 0) / 2\n                        };\n                    },\n                    events: {\n                        drag: function (e, target) {\n                            var isInsidePlot = target.chart.isInsidePlot(e.chartX - target.chart.plotLeft, e.chartY - target.chart.plotTop, {\n                                visiblePlotOnly: true\n                            });\n                            if (isInsidePlot) {\n                                var translation = this.mouseMoveToTranslation(e);\n                                target.translatePoint(translation.x, 0, 1);\n                                target.redraw(false);\n                            }\n                        }\n                    }\n                }\n            }\n        });\n        Annotation.types.fibonacciTimeZones = FibonacciTimeZones;\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return FibonacciTimeZones;\n    });\n    _registerModule(_modules, 'Extensions/Annotations/Types/Pitchfork.js', [_modules['Extensions/Annotations/Annotation.js'], _modules['Extensions/Annotations/Types/InfinityLine.js'], _modules['Extensions/Annotations/MockPoint.js'], _modules['Core/Utilities.js']], function (Annotation, InfinityLine, MockPoint, U) {\n        /* *\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        var merge = U.merge;\n        /* *\n         *\n         *  Class\n         *\n         * */\n        var Pitchfork = /** @class */ (function (_super) {\n            __extends(Pitchfork, _super);\n            function Pitchfork() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            /* *\n             *\n             *  Static Functions\n             *\n             * */\n            Pitchfork.outerLineEdgePoint = function (firstPointIndex) {\n                return function (target) {\n                    var annotation = target.annotation, points = annotation.points;\n                    return Pitchfork.findEdgePoint(points[firstPointIndex], points[0], new MockPoint(annotation.chart, target, annotation.midPointOptions()));\n                };\n            };\n            Pitchfork.findEdgePoint = function (point, firstAnglePoint, secondAnglePoint) {\n                var angle = Math.atan2((secondAnglePoint.plotY -\n                    firstAnglePoint.plotY), secondAnglePoint.plotX - firstAnglePoint.plotX), distance = 1e7;\n                return {\n                    x: point.plotX + distance * Math.cos(angle),\n                    y: point.plotY + distance * Math.sin(angle)\n                };\n            };\n            Pitchfork.middleLineEdgePoint = function (target) {\n                var annotation = target.annotation, points = annotation.points;\n                return InfinityLine.findEdgePoint(points[0], new MockPoint(annotation.chart, target, annotation.midPointOptions()));\n            };\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            Pitchfork.prototype.midPointOptions = function () {\n                var points = this.points;\n                return {\n                    x: (points[1].x + points[2].x) / 2,\n                    y: (points[1].y + points[2].y) / 2,\n                    xAxis: points[0].series.xAxis,\n                    yAxis: points[0].series.yAxis\n                };\n            };\n            Pitchfork.prototype.addShapes = function () {\n                this.addLines();\n                this.addBackgrounds();\n            };\n            Pitchfork.prototype.addLines = function () {\n                var className = 'highcharts-pitchfork-lines';\n                this.initShape({\n                    type: 'path',\n                    points: [\n                        this.points[0],\n                        Pitchfork.middleLineEdgePoint\n                    ],\n                    className: className\n                }, 0);\n                this.initShape({\n                    type: 'path',\n                    points: [\n                        this.points[1],\n                        Pitchfork.topLineEdgePoint\n                    ],\n                    className: className\n                }, 1);\n                this.initShape({\n                    type: 'path',\n                    points: [\n                        this.points[2],\n                        Pitchfork.bottomLineEdgePoint\n                    ],\n                    className: className\n                }, 2);\n            };\n            Pitchfork.prototype.addBackgrounds = function () {\n                var shapes = this.shapes, typeOptions = this.options.typeOptions;\n                var innerBackground = this.initShape(merge(typeOptions.innerBackground, {\n                    type: 'path',\n                    points: [\n                        function (target) {\n                            var annotation = target.annotation, points = annotation.points, midPointOptions = annotation.midPointOptions();\n                            return {\n                                x: (points[1].x + midPointOptions.x) / 2,\n                                y: (points[1].y + midPointOptions.y) / 2,\n                                xAxis: midPointOptions.xAxis,\n                                yAxis: midPointOptions.yAxis\n                            };\n                        },\n                        shapes[1].points[1],\n                        shapes[2].points[1],\n                        function (target) {\n                            var annotation = target.annotation, points = annotation.points, midPointOptions = annotation.midPointOptions();\n                            return {\n                                x: (midPointOptions.x + points[2].x) / 2,\n                                y: (midPointOptions.y + points[2].y) / 2,\n                                xAxis: midPointOptions.xAxis,\n                                yAxis: midPointOptions.yAxis\n                            };\n                        }\n                    ],\n                    className: 'highcharts-pitchfork-inner-background'\n                }), 3);\n                var outerBackground = this.initShape(merge(typeOptions.outerBackground, {\n                    type: 'path',\n                    points: [\n                        this.points[1],\n                        shapes[1].points[1],\n                        shapes[2].points[1],\n                        this.points[2]\n                    ],\n                    className: 'highcharts-pitchfork-outer-background'\n                }), 4);\n                typeOptions.innerBackground = innerBackground.options;\n                typeOptions.outerBackground = outerBackground.options;\n            };\n            /* *\n             *\n             *  Static Properties\n             *\n             * */\n            Pitchfork.topLineEdgePoint = Pitchfork.outerLineEdgePoint(1);\n            Pitchfork.bottomLineEdgePoint = Pitchfork.outerLineEdgePoint(0);\n            return Pitchfork;\n        }(InfinityLine));\n        Pitchfork.prototype.defaultOptions = merge(InfinityLine.prototype.defaultOptions, \n        /**\n         * A pitchfork annotation.\n         *\n         * @sample highcharts/annotations-advanced/pitchfork/\n         *         Pitchfork\n         *\n         * @extends      annotations.infinityLine\n         * @product      highstock\n         * @optionparent annotations.pitchfork\n         */\n        {\n            typeOptions: {\n                /**\n                 * Inner background options.\n                 *\n                 * @extends   annotations.crookedLine.shapeOptions\n                 * @excluding height, r, type, width\n                 */\n                innerBackground: {\n                    fill: 'rgba(130, 170, 255, 0.4)',\n                    strokeWidth: 0\n                },\n                /**\n                 * Outer background options.\n                 *\n                 * @extends   annotations.crookedLine.shapeOptions\n                 * @excluding height, r, type, width\n                 */\n                outerBackground: {\n                    fill: 'rgba(156, 229, 161, 0.4)',\n                    strokeWidth: 0\n                }\n            }\n        });\n        Annotation.types.pitchfork = Pitchfork;\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return Pitchfork;\n    });\n    _registerModule(_modules, 'Extensions/Annotations/Types/VerticalLine.js', [_modules['Extensions/Annotations/Annotation.js'], _modules['Extensions/Annotations/MockPoint.js'], _modules['Core/Utilities.js']], function (Annotation, MockPoint, U) {\n        /* *\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        var merge = U.merge, pick = U.pick;\n        /* *\n         *\n         *  Class\n         *\n         * */\n        var VerticalLine = /** @class */ (function (_super) {\n            __extends(VerticalLine, _super);\n            function VerticalLine() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            /* *\n             *\n             *  Static Functions\n             *\n             * */\n            VerticalLine.connectorFirstPoint = function (target) {\n                var annotation = target.annotation, chart = annotation.chart, inverted = chart.inverted, point = annotation.points[0], left = pick(point.series.yAxis && point.series.yAxis.left, 0), top = pick(point.series.yAxis && point.series.yAxis.top, 0), offset = annotation.options.typeOptions.label.offset, y = MockPoint.pointToPixels(point, true)[inverted ? 'x' : 'y'];\n                return {\n                    x: point.x,\n                    xAxis: point.series.xAxis,\n                    y: y + offset +\n                        (inverted ? (left - chart.plotLeft) : (top - chart.plotTop))\n                };\n            };\n            VerticalLine.connectorSecondPoint = function (target) {\n                var annotation = target.annotation, chart = annotation.chart, inverted = chart.inverted, typeOptions = annotation.options.typeOptions, point = annotation.points[0], left = pick(point.series.yAxis && point.series.yAxis.left, 0), top = pick(point.series.yAxis && point.series.yAxis.top, 0), y = MockPoint.pointToPixels(point, true)[inverted ? 'x' : 'y'];\n                var yOffset = typeOptions.yOffset;\n                if (typeOptions.label.offset < 0) {\n                    yOffset *= -1;\n                }\n                return {\n                    x: point.x,\n                    xAxis: point.series.xAxis,\n                    y: y + yOffset +\n                        (inverted ? (left - chart.plotLeft) : (top - chart.plotTop))\n                };\n            };\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            VerticalLine.prototype.getPointsOptions = function () {\n                return [this.options.typeOptions.point];\n            };\n            VerticalLine.prototype.addShapes = function () {\n                var typeOptions = this.options.typeOptions, connector = this.initShape(merge(typeOptions.connector, {\n                    type: 'path',\n                    points: [\n                        VerticalLine.connectorFirstPoint,\n                        VerticalLine.connectorSecondPoint\n                    ],\n                    className: 'highcharts-vertical-line'\n                }), 0);\n                typeOptions.connector = connector.options;\n                this.userOptions.typeOptions.point = typeOptions.point;\n            };\n            VerticalLine.prototype.addLabels = function () {\n                var typeOptions = this.options.typeOptions, labelOptions = typeOptions.label;\n                var x = 0, y = labelOptions.offset, verticalAlign = labelOptions.offset < 0 ? 'bottom' : 'top', align = 'center';\n                if (this.chart.inverted) {\n                    x = labelOptions.offset;\n                    y = 0;\n                    verticalAlign = 'middle';\n                    align = labelOptions.offset < 0 ? 'right' : 'left';\n                }\n                var label = this.initLabel(merge(labelOptions, {\n                    verticalAlign: verticalAlign,\n                    align: align,\n                    x: x,\n                    y: y\n                }));\n                typeOptions.label = label.options;\n            };\n            return VerticalLine;\n        }(Annotation));\n        VerticalLine.prototype.defaultOptions = merge(Annotation.prototype.defaultOptions, \n        /**\n         * A vertical line annotation.\n         *\n         * @sample highcharts/annotations-advanced/vertical-line/\n         *         Vertical line\n         *\n         * @extends      annotations.crookedLine\n         * @excluding    labels, shapes, controlPointOptions\n         * @product      highstock\n         * @optionparent annotations.verticalLine\n         */\n        {\n            typeOptions: {\n                /**\n                 * @ignore\n                 */\n                yOffset: 10,\n                /**\n                 * Label options.\n                 *\n                 * @extends annotations.crookedLine.labelOptions\n                 */\n                label: {\n                    offset: -40,\n                    point: function (target) {\n                        return target.annotation.points[0];\n                    },\n                    allowOverlap: true,\n                    backgroundColor: 'none',\n                    borderWidth: 0,\n                    crop: true,\n                    overflow: 'none',\n                    shape: 'rect',\n                    text: '{y:.2f}'\n                },\n                /**\n                 * Connector options.\n                 *\n                 * @extends   annotations.crookedLine.shapeOptions\n                 * @excluding height, r, type, width\n                 */\n                connector: {\n                    strokeWidth: 1,\n                    markerEnd: 'arrow'\n                }\n            }\n        });\n        Annotation.types.verticalLine = VerticalLine;\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return VerticalLine;\n    });\n    _registerModule(_modules, 'Extensions/Annotations/Types/Measure.js', [_modules['Extensions/Annotations/Annotation.js'], _modules['Extensions/Annotations/ControlPoint.js'], _modules['Core/Utilities.js']], function (Annotation, ControlPoint, U) {\n        /* *\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        var defined = U.defined, extend = U.extend, isNumber = U.isNumber, merge = U.merge, pick = U.pick;\n        /* *\n         *\n         *\n         *  Functions\n         *\n         * */\n        /**\n         * @private\n         */\n        function average() {\n            var average = '';\n            if (this.max !== '' && this.min !== '') {\n                average = (this.max + this.min) / 2;\n            }\n            return average;\n        }\n        /**\n         * @private\n         */\n        function bins() {\n            var series = this.chart.series, ext = getExtremes(this.xAxisMin, this.xAxisMax, this.yAxisMin, this.yAxisMax);\n            var bins = 0, isCalculated = false; // To avoid Infinity in formatter\n            series.forEach(function (serie) {\n                if (serie.visible &&\n                    serie.options.id !== 'highcharts-navigator-series') {\n                    serie.points.forEach(function (point) {\n                        if (!point.isNull &&\n                            point.x > ext.xAxisMin &&\n                            point.x <= ext.xAxisMax &&\n                            point.y > ext.yAxisMin &&\n                            point.y <= ext.yAxisMax) {\n                            bins++;\n                            isCalculated = true;\n                        }\n                    });\n                }\n            });\n            if (!isCalculated) {\n                bins = '';\n            }\n            return bins;\n        }\n        /**\n         * Default formatter of label's content\n         * @private\n         */\n        function defaultFormatter() {\n            return 'Min: ' + this.min +\n                '<br>Max: ' + this.max +\n                '<br>Average: ' + this.average +\n                '<br>Bins: ' + this.bins;\n        }\n        /**\n         * Set values for xAxisMin, xAxisMax, yAxisMin, yAxisMax, also\n         * when chart is inverted\n         * @private\n         */\n        function getExtremes(xAxisMin, xAxisMax, yAxisMin, yAxisMax) {\n            return {\n                xAxisMin: Math.min(xAxisMax, xAxisMin),\n                xAxisMax: Math.max(xAxisMax, xAxisMin),\n                yAxisMin: Math.min(yAxisMax, yAxisMin),\n                yAxisMax: Math.max(yAxisMax, yAxisMin)\n            };\n        }\n        /**\n         * Set current xAxisMin, xAxisMax, yAxisMin, yAxisMax.\n         * Calculations of measure values (min, max, average, bins).\n         * @private\n         * @param {Highcharts.Axis} axis\n         *        X or y axis reference\n         * @param {number} value\n         *        Point's value (x or y)\n         * @param {number} offset\n         *        Amount of pixels\n         */\n        function getPointPos(axis, value, offset) {\n            return axis.toValue(axis.toPixels(value) + offset);\n        }\n        /**\n         * Set starting points\n         * @private\n         */\n        function init() {\n            var options = this.options.typeOptions, chart = this.chart, inverted = chart.inverted, xAxis = chart.xAxis[options.xAxis], yAxis = chart.yAxis[options.yAxis], bck = options.background, width = inverted ? bck.height : bck.width, height = inverted ? bck.width : bck.height, selectType = options.selectType, top = inverted ? xAxis.left : yAxis.top, // #13664\n            left = inverted ? yAxis.top : xAxis.left; // #13664\n            this.startXMin = options.point.x;\n            this.startYMin = options.point.y;\n            if (isNumber(width)) {\n                this.startXMax = this.startXMin + width;\n            }\n            else {\n                this.startXMax = getPointPos(xAxis, this.startXMin, parseFloat(width));\n            }\n            if (isNumber(height)) {\n                this.startYMax = this.startYMin - height;\n            }\n            else {\n                this.startYMax = getPointPos(yAxis, this.startYMin, parseFloat(height));\n            }\n            // X / y selection type\n            if (selectType === 'x') {\n                this.startYMin = yAxis.toValue(top);\n                this.startYMax = yAxis.toValue(top + yAxis.len);\n            }\n            else if (selectType === 'y') {\n                this.startXMin = xAxis.toValue(left);\n                this.startXMax = xAxis.toValue(left + xAxis.len);\n            }\n        }\n        /**\n         * @private\n         */\n        function max() {\n            var series = this.chart.series, ext = getExtremes(this.xAxisMin, this.xAxisMax, this.yAxisMin, this.yAxisMax);\n            var max = -Infinity, isCalculated = false; // To avoid Infinity in formatter\n            series.forEach(function (serie) {\n                if (serie.visible &&\n                    serie.options.id !== 'highcharts-navigator-series') {\n                    serie.points.forEach(function (point) {\n                        if (!point.isNull &&\n                            point.y > max &&\n                            point.x > ext.xAxisMin &&\n                            point.x <= ext.xAxisMax &&\n                            point.y > ext.yAxisMin &&\n                            point.y <= ext.yAxisMax) {\n                            max = point.y;\n                            isCalculated = true;\n                        }\n                    });\n                }\n            });\n            if (!isCalculated) {\n                max = '';\n            }\n            return max;\n        }\n        /**\n         * Definitions of calculations (min, max, average, bins)\n         * @private\n         */\n        function min() {\n            var series = this.chart.series, ext = getExtremes(this.xAxisMin, this.xAxisMax, this.yAxisMin, this.yAxisMax);\n            var min = Infinity, isCalculated = false; // To avoid Infinity in formatter\n            series.forEach(function (serie) {\n                if (serie.visible &&\n                    serie.options.id !== 'highcharts-navigator-series') {\n                    serie.points.forEach(function (point) {\n                        if (!point.isNull &&\n                            point.y < min &&\n                            point.x > ext.xAxisMin &&\n                            point.x <= ext.xAxisMax &&\n                            point.y > ext.yAxisMin &&\n                            point.y <= ext.yAxisMax) {\n                            min = point.y;\n                            isCalculated = true;\n                        }\n                    });\n                }\n            });\n            if (!isCalculated) {\n                min = '';\n            }\n            return min;\n        }\n        /**\n         * Set current xAxisMin, xAxisMax, yAxisMin, yAxisMax.\n         * Calculations of measure values (min, max, average, bins).\n         * @private\n         * @param {boolean} [resize]\n         *        Flag if shape is resized.\n         */\n        function recalculate(resize) {\n            var options = this.options.typeOptions, xAxis = this.chart.xAxis[options.xAxis], yAxis = this.chart.yAxis[options.yAxis], offsetX = this.offsetX, offsetY = this.offsetY;\n            this.xAxisMin = getPointPos(xAxis, this.startXMin, offsetX);\n            this.xAxisMax = getPointPos(xAxis, this.startXMax, offsetX);\n            this.yAxisMin = getPointPos(yAxis, this.startYMin, offsetY);\n            this.yAxisMax = getPointPos(yAxis, this.startYMax, offsetY);\n            this.min = min.call(this);\n            this.max = max.call(this);\n            this.average = average.call(this);\n            this.bins = bins.call(this);\n            if (resize) {\n                this.resize(0, 0);\n            }\n        }\n        /**\n         * Update position of start points\n         * (startXMin, startXMax, startYMin, startYMax)\n         * @private\n         * @param {boolean} redraw\n         *        Flag if shape is redraw\n         * @param {boolean} resize\n         *        Flag if shape is resized\n         * @param {number} cpIndex\n         *        Index of controlPoint\n         */\n        function updateStartPoints(redraw, resize, cpIndex, dx, dy) {\n            var options = this.options.typeOptions, selectType = options.selectType, xAxis = this.chart.xAxis[options.xAxis], yAxis = this.chart.yAxis[options.yAxis], startXMin = this.startXMin, startXMax = this.startXMax, startYMin = this.startYMin, startYMax = this.startYMax, offsetX = this.offsetX, offsetY = this.offsetY;\n            if (resize) {\n                if (selectType === 'x') {\n                    if (cpIndex === 0) {\n                        this.startXMin = getPointPos(xAxis, startXMin, dx);\n                    }\n                    else {\n                        this.startXMax = getPointPos(xAxis, startXMax, dx);\n                    }\n                }\n                else if (selectType === 'y') {\n                    if (cpIndex === 0) {\n                        this.startYMin = getPointPos(yAxis, startYMin, dy);\n                    }\n                    else {\n                        this.startYMax = getPointPos(yAxis, startYMax, dy);\n                    }\n                }\n                else {\n                    this.startXMax = getPointPos(xAxis, startXMax, dx);\n                    this.startYMax = getPointPos(yAxis, startYMax, dy);\n                }\n            }\n            if (redraw) {\n                this.startXMin = getPointPos(xAxis, startXMin, offsetX);\n                this.startXMax = getPointPos(xAxis, startXMax, offsetX);\n                this.startYMin = getPointPos(yAxis, startYMin, offsetY);\n                this.startYMax = getPointPos(yAxis, startYMax, offsetY);\n                this.offsetX = 0;\n                this.offsetY = 0;\n            }\n            this.options.typeOptions.point = {\n                x: this.startXMin,\n                y: this.startYMin\n            };\n            // We need to update userOptions as well as they are used in\n            // the Annotation.update() method to initialize the annotation, #19121.\n            this.userOptions.typeOptions.point = {\n                x: this.startXMin,\n                y: this.startYMin\n            };\n        }\n        /* *\n         *\n         *  Class\n         *\n         * */\n        var Measure = /** @class */ (function (_super) {\n            __extends(Measure, _super);\n            function Measure() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            /**\n             * Init annotation object.\n             * @private\n             */\n            Measure.prototype.init = function (annotationOrChart, userOptions, index) {\n                _super.prototype.init.call(this, annotationOrChart, userOptions, index);\n                this.offsetX = 0;\n                this.offsetY = 0;\n                this.resizeX = 0;\n                this.resizeY = 0;\n                init.call(this);\n                this.addValues();\n                this.addShapes();\n            };\n            /**\n             * Overrides default setter to get axes from typeOptions.\n             * @private\n             */\n            Measure.prototype.setClipAxes = function () {\n                this.clipXAxis = this.chart.xAxis[this.options.typeOptions.xAxis];\n                this.clipYAxis = this.chart.yAxis[this.options.typeOptions.yAxis];\n            };\n            /**\n             * Get measure points configuration objects.\n             * @private\n             */\n            Measure.prototype.pointsOptions = function () {\n                return this.options.points;\n            };\n            /**\n             * Get points configuration objects for shapes.\n             * @private\n             */\n            Measure.prototype.shapePointsOptions = function () {\n                var options = this.options.typeOptions, xAxis = options.xAxis, yAxis = options.yAxis;\n                return [\n                    {\n                        x: this.xAxisMin,\n                        y: this.yAxisMin,\n                        xAxis: xAxis,\n                        yAxis: yAxis\n                    },\n                    {\n                        x: this.xAxisMax,\n                        y: this.yAxisMin,\n                        xAxis: xAxis,\n                        yAxis: yAxis\n                    },\n                    {\n                        x: this.xAxisMax,\n                        y: this.yAxisMax,\n                        xAxis: xAxis,\n                        yAxis: yAxis\n                    },\n                    {\n                        x: this.xAxisMin,\n                        y: this.yAxisMax,\n                        xAxis: xAxis,\n                        yAxis: yAxis\n                    }\n                ];\n            };\n            Measure.prototype.addControlPoints = function () {\n                var inverted = this.chart.inverted, options = this.options.controlPointOptions, selectType = this.options.typeOptions.selectType;\n                if (!defined(this.userOptions.controlPointOptions &&\n                    this.userOptions.controlPointOptions.style.cursor)) {\n                    if (selectType === 'x') {\n                        options.style.cursor = inverted ? 'ns-resize' : 'ew-resize';\n                    }\n                    else if (selectType === 'y') {\n                        options.style.cursor = inverted ? 'ew-resize' : 'ns-resize';\n                    }\n                }\n                var controlPoint = new ControlPoint(this.chart, this, this.options.controlPointOptions, 0);\n                this.controlPoints.push(controlPoint);\n                // Add extra controlPoint for horizontal and vertical range\n                if (selectType !== 'xy') {\n                    controlPoint = new ControlPoint(this.chart, this, this.options.controlPointOptions, 1);\n                    this.controlPoints.push(controlPoint);\n                }\n            };\n            /**\n             * Add label with calculated values (min, max, average, bins).\n             * @private\n             * @param {boolean} [resize]\n             * The flag for resize shape\n             */\n            Measure.prototype.addValues = function (resize) {\n                var typeOptions = this.options.typeOptions, formatter = typeOptions.label.formatter;\n                // Set xAxisMin, xAxisMax, yAxisMin, yAxisMax\n                recalculate.call(this, resize);\n                if (!typeOptions.label.enabled) {\n                    return;\n                }\n                if (this.labels.length > 0) {\n                    this.labels[0].text = ((formatter && formatter.call(this)) ||\n                        defaultFormatter.call(this));\n                }\n                else {\n                    this.initLabel(extend({\n                        shape: 'rect',\n                        backgroundColor: 'none',\n                        color: 'black',\n                        borderWidth: 0,\n                        dashStyle: 'Dash',\n                        overflow: 'allow',\n                        align: 'left',\n                        y: 0,\n                        x: 0,\n                        verticalAlign: 'top',\n                        crop: true,\n                        xAxis: 0,\n                        yAxis: 0,\n                        point: function (target) {\n                            var annotation = target.annotation, options = target.options;\n                            return {\n                                x: annotation.xAxisMin,\n                                y: annotation.yAxisMin,\n                                xAxis: pick(typeOptions.xAxis, options.xAxis),\n                                yAxis: pick(typeOptions.yAxis, options.yAxis)\n                            };\n                        },\n                        text: ((formatter && formatter.call(this)) ||\n                            defaultFormatter.call(this))\n                    }, typeOptions.label), void 0);\n                }\n            };\n            /**\n             * Crosshair, background (rect).\n             * @private\n             */\n            Measure.prototype.addShapes = function () {\n                this.addCrosshairs();\n                this.addBackground();\n            };\n            /**\n             * Add background shape.\n             * @private\n             */\n            Measure.prototype.addBackground = function () {\n                var shapePoints = this.shapePointsOptions();\n                if (typeof shapePoints[0].x === 'undefined') {\n                    return;\n                }\n                this.initShape(extend({\n                    type: 'path',\n                    points: this.shapePointsOptions(),\n                    className: 'highcharts-measure-background'\n                }, this.options.typeOptions.background), 2);\n            };\n            /**\n             * Add internal crosshair shapes (on top and bottom).\n             * @private\n             */\n            Measure.prototype.addCrosshairs = function () {\n                var chart = this.chart, options = this.options.typeOptions, point = this.options.typeOptions.point, xAxis = chart.xAxis[options.xAxis], yAxis = chart.yAxis[options.yAxis], inverted = chart.inverted, defaultOptions = {\n                    point: point,\n                    type: 'path'\n                };\n                var xAxisMin = xAxis.toPixels(this.xAxisMin), xAxisMax = xAxis.toPixels(this.xAxisMax), yAxisMin = yAxis.toPixels(this.yAxisMin), yAxisMax = yAxis.toPixels(this.yAxisMax), pathH = [], pathV = [], crosshairOptionsX, crosshairOptionsY, temp;\n                if (inverted) {\n                    temp = xAxisMin;\n                    xAxisMin = yAxisMin;\n                    yAxisMin = temp;\n                    temp = xAxisMax;\n                    xAxisMax = yAxisMax;\n                    yAxisMax = temp;\n                }\n                // Horizontal line\n                if (options.crosshairX.enabled) {\n                    pathH = [[\n                            'M',\n                            xAxisMin,\n                            yAxisMin + ((yAxisMax - yAxisMin) / 2)\n                        ], [\n                            'L',\n                            xAxisMax,\n                            yAxisMin + ((yAxisMax - yAxisMin) / 2)\n                        ]];\n                }\n                // Vertical line\n                if (options.crosshairY.enabled) {\n                    pathV = [[\n                            'M',\n                            xAxisMin + ((xAxisMax - xAxisMin) / 2),\n                            yAxisMin\n                        ], [\n                            'L',\n                            xAxisMin + ((xAxisMax - xAxisMin) / 2),\n                            yAxisMax\n                        ]];\n                }\n                // Update existed crosshair\n                if (this.shapes.length > 0) {\n                    this.shapes[0].options.d = pathH;\n                    this.shapes[1].options.d = pathV;\n                }\n                else {\n                    // Add new crosshairs\n                    crosshairOptionsX = merge(defaultOptions, { className: 'highcharts-measure-crosshair-x' }, options.crosshairX);\n                    crosshairOptionsY = merge(defaultOptions, { className: 'highcharts-measure-crosshair-y' }, options.crosshairY);\n                    this.initShape(extend({ d: pathH }, crosshairOptionsX), 0);\n                    this.initShape(extend({ d: pathV }, crosshairOptionsY), 1);\n                }\n            };\n            Measure.prototype.onDrag = function (e) {\n                var translation = this.mouseMoveToTranslation(e), selectType = this.options.typeOptions.selectType, x = selectType === 'y' ? 0 : translation.x, y = selectType === 'x' ? 0 : translation.y;\n                this.translate(x, y);\n                this.offsetX += x;\n                this.offsetY += y;\n                // Animation, resize, setStartPoints\n                this.redraw(false, false, true);\n            };\n            /**\n             * Translate start or end (\"left\" or \"right\") side of the measure.\n             * Update start points (startXMin, startXMax, startYMin, startYMax)\n             * @private\n             * @param {number} dx\n             * the amount of x translation\n             * @param {number} dy\n             * the amount of y translation\n             * @param {number} cpIndex\n             * index of control point\n             * @param {Highcharts.AnnotationDraggableValue} selectType\n             * x / y / xy\n             */\n            Measure.prototype.resize = function (dx, dy, cpIndex, selectType) {\n                // Background shape\n                var bckShape = this.shapes[2];\n                if (selectType === 'x') {\n                    if (cpIndex === 0) {\n                        bckShape.translatePoint(dx, 0, 0);\n                        bckShape.translatePoint(dx, dy, 3);\n                    }\n                    else {\n                        bckShape.translatePoint(dx, 0, 1);\n                        bckShape.translatePoint(dx, dy, 2);\n                    }\n                }\n                else if (selectType === 'y') {\n                    if (cpIndex === 0) {\n                        bckShape.translatePoint(0, dy, 0);\n                        bckShape.translatePoint(0, dy, 1);\n                    }\n                    else {\n                        bckShape.translatePoint(0, dy, 2);\n                        bckShape.translatePoint(0, dy, 3);\n                    }\n                }\n                else {\n                    bckShape.translatePoint(dx, 0, 1);\n                    bckShape.translatePoint(dx, dy, 2);\n                    bckShape.translatePoint(0, dy, 3);\n                }\n                updateStartPoints.call(this, false, true, cpIndex, dx, dy);\n                this.options.typeOptions.background.height = Math.abs(this.startYMax - this.startYMin);\n                this.options.typeOptions.background.width = Math.abs(this.startXMax - this.startXMin);\n            };\n            /**\n             * Redraw event which render elements and update start points if needed.\n             * @private\n             * @param {boolean} animation\n             * @param {boolean} [resize]\n             * flag if resized\n             * @param {boolean} [setStartPoints]\n             * update position of start points\n             */\n            Measure.prototype.redraw = function (animation, resize, setStartPoints) {\n                this.linkPoints();\n                if (!this.graphic) {\n                    this.render();\n                }\n                if (setStartPoints) {\n                    updateStartPoints.call(this, true, false);\n                }\n                // #11174 - clipBox was not recalculate during resize / redraw\n                if (this.clipRect) {\n                    this.clipRect.animate(this.getClipBox());\n                }\n                this.addValues(resize);\n                this.addCrosshairs();\n                this.redrawItems(this.shapes, animation);\n                this.redrawItems(this.labels, animation);\n                // Redraw control point to run positioner\n                this.controlPoints.forEach(function (controlPoint) {\n                    return controlPoint.redraw();\n                });\n            };\n            Measure.prototype.translate = function (dx, dy) {\n                this.shapes.forEach(function (item) {\n                    return item.translate(dx, dy);\n                });\n            };\n            return Measure;\n        }(Annotation));\n        Measure.prototype.defaultOptions = merge(Annotation.prototype.defaultOptions, \n        /**\n         * A measure annotation.\n         *\n         * @extends annotations.crookedLine\n         * @excluding labels, labelOptions, shapes, shapeOptions\n         * @sample highcharts/annotations-advanced/measure/\n         *         Measure\n         * @product highstock\n         * @optionparent annotations.measure\n         */\n        {\n            typeOptions: {\n                /**\n                 * Decides in what dimensions the user can resize by dragging the\n                 * mouse. Can be one of x, y or xy.\n                 */\n                selectType: 'xy',\n                /**\n                 * This number defines which xAxis the point is connected to.\n                 * It refers to either the axis id or the index of the axis\n                 * in the xAxis array.\n                 */\n                xAxis: 0,\n                /**\n                 * This number defines which yAxis the point is connected to.\n                 * It refers to either the axis id or the index of the axis\n                 * in the yAxis array.\n                 */\n                yAxis: 0,\n                background: {\n                    /**\n                     * The color of the rectangle.\n                     */\n                    fill: 'rgba(130, 170, 255, 0.4)',\n                    /**\n                     * The width of border.\n                     */\n                    strokeWidth: 0,\n                    /**\n                     * The color of border.\n                     */\n                    stroke: void 0\n                },\n                /**\n                 * Configure a crosshair that is horizontally placed in middle of\n                 * rectangle.\n                 *\n                 */\n                crosshairX: {\n                    /**\n                     * Enable or disable the horizontal crosshair.\n                     *\n                     */\n                    enabled: true,\n                    /**\n                     * The Z index of the crosshair in annotation.\n                     */\n                    zIndex: 6,\n                    /**\n                     * The dash or dot style of the crosshair's line. For possible\n                     * values, see\n                     * [this demonstration](https://jsfiddle.net/gh/get/library/pure/highcharts/highcharts/tree/master/samples/highcharts/plotoptions/series-dashstyle-all/).\n                     *\n                     * @type    {Highcharts.DashStyleValue}\n                     * @default Dash\n                     */\n                    dashStyle: 'Dash',\n                    /**\n                     * The marker-end defines the arrowhead that will be drawn\n                     * at the final vertex of the given crosshair's path.\n                     *\n                     * @type       {string}\n                     * @default    arrow\n                     */\n                    markerEnd: 'arrow'\n                },\n                /**\n                 * Configure a crosshair that is vertically placed in middle of\n                 * rectangle.\n                 */\n                crosshairY: {\n                    /**\n                     * Enable or disable the vertical crosshair.\n                     *\n                     */\n                    enabled: true,\n                    /**\n                     * The Z index of the crosshair in annotation.\n                     */\n                    zIndex: 6,\n                    /**\n                     * The dash or dot style of the crosshair's line. For possible\n                     * values, see\n                     * [this demonstration](https://jsfiddle.net/gh/get/library/pure/highcharts/highcharts/tree/master/samples/highcharts/plotoptions/series-dashstyle-all/).\n                     *\n                     * @type      {Highcharts.DashStyleValue}\n                     * @default   Dash\n                     * @apioption annotations.measure.typeOptions.crosshairY.dashStyle\n                     *\n                     */\n                    dashStyle: 'Dash',\n                    /**\n                     * The marker-end defines the arrowhead that will be drawn\n                     * at the final vertex of the given crosshair's path.\n                     *\n                     * @type       {string}\n                     * @default    arrow\n                     * @validvalue [\"none\", \"arrow\"]\n                     *\n                     */\n                    markerEnd: 'arrow'\n                },\n                label: {\n                    /**\n                     * Enable or disable the label text (min, max, average,\n                     * bins values).\n                     *\n                     * Defaults to true.\n                     */\n                    enabled: true,\n                    /**\n                     * CSS styles for the measure label.\n                     *\n                     * @type    {Highcharts.CSSObject}\n                     * @default {\"color\": \"#666666\", \"fontSize\": \"11px\"}\n                     */\n                    style: {\n                        fontSize: '0.7em',\n                        color: \"#666666\" /* Palette.neutralColor60 */\n                    },\n                    /**\n                     * Formatter function for the label text.\n                     *\n                     * Available data are:\n                     *\n                     * <table>\n                     *\n                     * <tbody>\n                     *\n                     * <tr>\n                     *\n                     * <td>`this.min`</td>\n                     *\n                     * <td>The minimum value of the points in the selected\n                     * range.</td>\n                     *\n                     * </tr>\n                     *\n                     * <tr>\n                     *\n                     * <td>`this.max`</td>\n                     *\n                     * <td>The maximum value of the points in the selected\n                     * range.</td>\n                     *\n                     * </tr>\n                     *\n                     * <tr>\n                     *\n                     * <td>`this.average`</td>\n                     *\n                     * <td>The average value of the points in the selected\n                     * range.</td>\n                     *\n                     * </tr>\n                     *\n                     * <tr>\n                     *\n                     * <td>`this.bins`</td>\n                     *\n                     * <td>The amount of the points in the selected range.</td>\n                     *\n                     * </tr>\n                     *\n                     * </table>\n                     *\n                     * @type {Function}\n                     *\n                     */\n                    formatter: void 0\n                }\n            },\n            controlPointOptions: {\n                positioner: function (target) {\n                    var cpIndex = this.index, chart = target.chart, options = target.options, typeOptions = options.typeOptions, selectType = typeOptions.selectType, controlPointOptions = options.controlPointOptions, inverted = chart.inverted, xAxis = chart.xAxis[typeOptions.xAxis], yAxis = chart.yAxis[typeOptions.yAxis], ext = getExtremes(target.xAxisMin, target.xAxisMax, target.yAxisMin, target.yAxisMax);\n                    var targetX = target.xAxisMax, targetY = target.yAxisMax, x, y;\n                    if (selectType === 'x') {\n                        targetY = (ext.yAxisMax + ext.yAxisMin) / 2;\n                        // First control point\n                        if (cpIndex === 0) {\n                            targetX = target.xAxisMin;\n                        }\n                    }\n                    if (selectType === 'y') {\n                        targetX = ext.xAxisMin +\n                            ((ext.xAxisMax - ext.xAxisMin) / 2);\n                        // First control point\n                        if (cpIndex === 0) {\n                            targetY = target.yAxisMin;\n                        }\n                    }\n                    if (inverted) {\n                        x = yAxis.toPixels(targetY);\n                        y = xAxis.toPixels(targetX);\n                    }\n                    else {\n                        x = xAxis.toPixels(targetX);\n                        y = yAxis.toPixels(targetY);\n                    }\n                    return {\n                        x: x - (controlPointOptions.width / 2),\n                        y: y - (controlPointOptions.height / 2)\n                    };\n                },\n                events: {\n                    drag: function (e, target) {\n                        var translation = this.mouseMoveToTranslation(e), selectType = target.options.typeOptions.selectType, index = this.index, x = selectType === 'y' ? 0 : translation.x, y = selectType === 'x' ? 0 : translation.y;\n                        target.resize(x, y, index, selectType);\n                        target.resizeX += x;\n                        target.resizeY += y;\n                        target.redraw(false, true);\n                    }\n                }\n            }\n        });\n        Annotation.types.measure = Measure;\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return Measure;\n    });\n    _registerModule(_modules, 'masters/modules/annotations-advanced.src.js', [_modules['Core/Globals.js']], function (Highcharts) {\n\n\n        return Highcharts;\n    });\n}));\n"],"names":["factory","module","exports","define","amd","Highcharts","undefined","_modules","_registerModule","obj","path","args","fn","hasOwnProperty","apply","CustomEvent","win","dispatchEvent","detail","U","AnnotationChart","addEvent","erase","find","fireEvent","pick","wrap","chartAddAnnotation","userOptions","redraw","annotation","initAnnotation","options","annotations","push","graphic","attr","opacity","chartCallback","chart","plotBoxClip","renderer","clipRect","plotBox","controlPointsGroup","g","zIndex","clip","add","forEach","annotationOptions","i","some","drawAnnotations","destroy","event","csvColumnHeaderFormatter","exporting","csv","columnHeaderFormatter","multiLevelHeaders","dataRows","xValues","annotationHeader","lang","exportData","startRowLength","length","annotationSeparator","itemDelimiter","joinAnnotations","join","labelOptions","includeInDataExport","labels","label","text","annotationText_1","points","annotationX","x","xAxisIndex","series","xAxis","index","wasAdded","n","newRow","Array","row","maxRowLen","Math","max","newRows","header","s","columnTitle","topLevelColumnTitle","chartDrawAnnotations","animate","animationConfig","chartRemoveAnnotation","idOrAnnotation","coll","id","onChartAfterInit","wrapPointerOnContainerMouseDown","proceed","hasDraggedAnnotation","prototype","slice","call","arguments","compose","AnnotationClass","ChartClass","PointerClass","chartProto","addAnnotation","pointerProto","callbacks","collectionsWithInit","collectionsWithUpdate","removeAnnotation","types","type","defined","visible","animation","crop","draggable","align","allowOverlap","backgroundColor","borderColor","borderRadius","borderWidth","className","formatter","y","overflow","padding","shadow","shape","style","fontSize","fontWeight","color","useHTML","verticalAlign","shapeOptions","stroke","strokeWidth","fill","r","snap","controlPointOptions","events","cursor","height","symbol","width","H","doc","isTouchDevice","objectEach","removeEvent","EventEmitter","addEvents","emitter","addMouseDownEvent","element","e","onMouseDown","passive","eventHandler","_a","cancelClick","pointer","normalize","target","nonDOMEvents","indexOf","div","onDrag","styledMode","cssPointer_1","xy","css","isUpdating","removeDocEvents","hcEvents","mouseMoveToRadians","cx","cy","temp","prevDy","prevChartY","prevDx","prevChartX","dy","chartY","dx","chartX","inverted","atan2","mouseMoveToScale","sx","sy","mouseMoveToTranslation","isInsidePlot","plotLeft","plotTop","visiblePlotOnly","translation_1","translate","shapes","preventDefault","button","firesTouchEvents","sourceCapabilities","removeDrag","hasDragged","removeMouseUp","onMouseUp","extendStatics","__extends","d","b","Object","setPrototypeOf","__proto__","p","TypeError","String","__","constructor","create","merge","_super","ControlPoint","_this","positioner","render","setVisibility","update","SeriesRegistry","seriesProto","MockPoint","mock","getPlotBox","applyOptions","getOptions","fromPoint","point","yAxis","pointToPixels","paneCoordinates","plotX","plotY","plotWidth","plotHeight","translateX","translateY","pointToOptions","command","setAxis","refresh","getLabelConfig","hasDynamicOptions","len","toPixels","isInside","refreshOptions","toValue","rotate","radians","cos","sin","tx","ty","scale","xOrY","axisName","axisOptions","get","toAnchor","anchor","_cx","_cy","ControlTarget","addControlPoints","controlPoints","controlPointsOptions","box","tooltip","getAnchor","relativePosition","absolutePosition","destroyControlTarget","controlPoint","getPointsOptions","splat","linkPoints","pointsOptions","pointOptions","isObject","isString","pointConfig","redrawControlPoints","renderControlPoints","transform","transformation","p1","p2","_point","transformPoint","translatePoint","ControlTargetClass","controlProto","Controllable","itemType","collection","init","_args","_i","attrsFromOptions","key","mappedKey","map","attrsMap","attrs","tracker","_parentGroup","addClass","setControlPointsVisibility","shouldBeDrawn","translateShape","translateSecondPoint","annotationIndex","chartOptions","newOptions","parentGroup","Constructor","defaultMarkers","arrow","tagName","attributes","refY","refX","markerWidth","markerHeight","children","ControllableDefaults","extend","uniqueKey","markerEndSetter","createMarkerSetter","markerStartSetter","TRACKER_FILL","svg","markerType","value","onChartAfterGetContainer","defs","svgRendererAddMarker","markerOptions","child","ast","orient","marker","definition","ControllablePath","SVGRendererClass","svgRendererProto","addMarker","toD","dOption","showPath","position","pointIndex","crispLine","parent","setMarkers","action","placed","item","itemOptions","def","predefinedMarker","markerId","getAttribute","dashStyle","ControllableRect","rect","Boolean","ControllableCircle","circle","setRadius","ControllableEllipse","createElement","getDistanceFromLine","point1","point2","x0","y0","abs","sqrt","getAttrs","position2","x1","y1","x2","y2","rx","angle","atan","PI","ry","getRY","getYAxis","yAxisIndex","getAbsolutePosition","rotation","rotationOriginX","rotationOriginY","setYRadius","F","format","isNumber","symbolConnector","w","h","yOffset","anchorX","anchorY","lateral","ControllableLabel","alignedPosition","alignOptions","alignFactor","vAlignFactor","vAlign","round","symbols","connector","justifiedOptions","alignAttr","off","bBox","getBBox","chartAnnotations","getContrast","shapesWithoutBackground","labelrank","itemPosition","alignTo","itemPosRelativeX","itemPosRelativeY","anchorAbsolutePosition","anchorRelativePosition","showItem","_b","distance","getPosition","getPlayingField","negative","ttBelow","ControllableImage","image","src","AST","BaseForm","parentDiv","iconsURL","container","createPopupContainer","closeButton","addCloseButton","popup","match","eventName","closeButtonEvents","bind","document","code","closePopup","showPopup","toolbarClass","popupDiv","popupCloseButton","innerHTML","emptyHTML","classList","remove","removeAttribute","appendChild","display","isFirefox","isArray","stableSort","addFormFields","parentNode","storage","isRoot","parentFullName","titleName","addInput","option","a","reverse","genInput","createTextNode","splice","addForm","callback","isInit","lhsCol","langKey","bottomRow","addButton","saveButton","addToolbar","showForm","top","setAttribute","editButton","removeButton","DropdownProperties","seriesTypes","dropdownParameters","addColsContainer","rhsCol","seriesType","rhsColWrapper","fields","params","getNameType","indicatorFullName","name","listAllSeries","linkedParent","volumeSeriesID","addParamInputs","addIndicatorList","listType","filter","selectIndicator","indicatorType","isEdit","querySelectorAll","plotOptions","filteredSeriesArray","filterSeriesArray","filterSeries","seriesAName","toLowerCase","seriesBName","indicatorList","seriesSet","btn","textContent","setElementHTML","noFilterMatch","fieldName","selectBox","addSelection","addSelectionOptions","addSearchBox","clearFilterText","clearFilter","inputWrapper","handleInputChange","inputText","input","htmlFor","labelClassName","optionName","optionParamList","split","labelText","selectName","parameterName","selectedOption","currentSeries","seriesOptions","seriesName","parameterOption","filteredSeries","indicatorAliases","navigation","regex","RegExp","replace","alias","is","nameBase","toUpperCase","_options","buttonParentDiv","tabs","tabsContainers","getAmount","counter","serie","addContentItem","addMenuItem","tabName","disableTab","menuItem","deselectAll","tabsContent","selectTab","tab","allTabs","switchTabs","indicatorsCount","indicators","firstTab","D","PopupAnnotations","PopupIndicators","PopupTabs","Popup","activeAnnotation","navigationBindings","unbind_1","setTimeout","inputAttributes","inputName","selectedButtonElement","fieldsDiv","inputList","selectList","linkedTo","volumeTo","fieldsOutput","actionType","param","seriesId","select","parameter","offsetHeight","composed","pushUnique","onNavigationBindingsClosePopup","onNavigationBindingsShowPopup","config","stockTools","gui","formType","onSubmit","wrapPointerOnContainerMouserDown","inClass","NagivationBindingsClass","A","AnnotationDefaults","PopupComposition","getDeferredAnimation","destroyObjectProperties","getLabelsAndShapesOptions","baseOptions","mergedOptions","someBaseOptions","basicOptions","Annotation","defaultOptions","labelsAndShapes","NavigationBindingsClass","addClipPaths","setClipAxes","clipXAxis","clipYAxis","getClipBox","addLabels","labelsOptions","initLabel","addShapes","initShape","destroyItem","labelCollectors","labelCollector","left","initProperties","setOptions","_annotationOrChart","_userOptions","animOptions","setLabelCollector","shapesMap","redrawItems","redrawItem","renderItem","hasVisiblePoints","visibility","show","hide","items","shapesGroup","labelsGroup","renderItems","xAxes","yAxes","linkedAxes","concat","reduce","axes","labelOrShape","setItemControlPointsVisibility","userOptionsIndex","ChartNavigationComposition","Additions","updates","addUpdate","updateFn","annotationsFieldsTypes","title","getAssignedAxis","coords","coord","extremes","axis","getExtremes","axisMin","min","axisMax","minPointOffset","isInternal","getFieldType","predefinedType","fieldType","NBU","simpleShapes","lines","ellipse","rectangle","typeOptions","backgroundColors","bindingsClassName","bindings","circleAnnotation","start","getCoordinates","coordsX","coordsY","annotationsOptions","steps","mockPointOpts","pow","ellipseAnnotation","newR","newRY","rectangleAnnotation","labelAnnotation","defer","NavigationBindingDefaults","isFunction","onAnnotationRemove","deselectAnnotation","onChartDestroy","onChartLoad","NavigationBindings","initEvents","initUpdate","onChartRender","disabledClassName","buttonsEnabled_1","container_1","boundClassNames","buttonNode","cls","noDataState","onNavigationBindingsDeselectButton","selectableAnnotation","annotationType","touchStartX","touchStartY","originalClick","click","selectAndShowPopup","eventArguments","prevAnnotation","annotationToFields","data","fieldsToOptions","crosshairY","enabled","crosshairX","touchstart","touches","clientX","clientY","touchend","changedTouches","eventsToUnbind","getElementsByClassName","getCoords","bindingsContainer","subContainer","getButtonEvents","contains","bindingsButtonClick","bindingsChartClick","bindingsContainerMouseMove","clickEvent","svgContainer","boxWrapper","shouldEventBeFired","nextEvent","currentUserDetails","mouseMoveEvent","selectedButton","removeClass","closestPolyfill","el","ElementProto","Element","elementMatches","matches","msMatchesSelector","webkitMatchesSelector","ret","closest","parentElement","nodeType","stepIndex","end","_container","moveEvent","field","parsedValue","parseFloat","pathLength","parent_1","nextName","editables","annotationsEditable","nestedEditables","nestedOptions","nonEditables","annotationsNonEditable","visualOptions","traverse","parentEditables","parentKey","nextParent","arrayOption","nestedOption","nestedKey","toString","typeOption","typeKey","getClickedClassNames","elemClassName","classNames","removeEvents","unbinder","background","innerBackground","outerBackground","line","verticalLine","measure","fibonacci","tunnel","pitchfork","crookedLine","basicAnnotation","G","Chart","Pointer","SVGRenderer","BasicAnnotation","basicControlPoints","basicType","optionsGroup","group","drag","_c","CrookedLine","getControlPointsOptions","translation","ElliottWave","elliottWave","Tunnel","heightPointOptions","logarithmic","y3","heightControlPoint","addLine","addBackground","translateSide","topIndex","Number","translateHeight","dh","startXY","endXY","InfinityLine","edgePoint","startIndex","endIndex","findEdgePoint","findEdgeCoordinate","firstPoint","secondPoint","edgePointFirstCoordinate","xOrYOpposite","edgePointX","edgePointY","swap","firstPointPixels","secondPointPixels","deltaX","deltaY","xAxisMin","xAxisMax","yAxisMin","yAxisMax","xLimit","yLimit","endEdgePoint","startEdgePoint","infinityLine","TimeCycles","setPath","getPath","startX","getCirclePath","pixelInterval","numberOfCircles","setPathProperties","xAxisNumber","yAxisNumber","xValue1","yValue","xValue2","xAxisLength","floor","pixelShift","timeCycles","createPathDGenerator","retracementIndex","isBackground","startRetracements","endRetracements","leftTop","rightTop","rightBottom","leftBottom","Fibonacci","linkRetracementsPoints","startDiff","endDiff","endX","levels","level","startRetracement","endRetracement","reversed","linkRetracementPoint","retracements","_level","lineColor","lineColors","fibonacciIndex","plotLeftOrTop","FibonacciTimeZones","fibb","nextFibb","correctedFibb","secondLineEdgePoints","edgePoints","firstEdgePointY","secondEdgePointY","fibonacciTimeZones","Pitchfork","outerLineEdgePoint","firstPointIndex","midPointOptions","firstAnglePoint","secondAnglePoint","middleLineEdgePoint","addLines","addBackgrounds","topLineEdgePoint","bottomLineEdgePoint","VerticalLine","connectorFirstPoint","offset","connectorSecondPoint","markerEnd","average","bins","ext","isCalculated","isNull","defaultFormatter","getPointPos","bck","selectType","startXMin","startYMin","startXMax","startYMax","Infinity","recalculate","resize","offsetX","offsetY","updateStartPoints","cpIndex","Measure","annotationOrChart","resizeX","resizeY","addValues","shapePointsOptions","addCrosshairs","shapePoints","crosshairOptionsX","crosshairOptionsY","pathH","pathV","bckShape","setStartPoints","targetX","targetY"],"mappings":"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"}